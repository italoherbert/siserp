{"version":3,"sources":["js/logica/sistema.js","js/componente/mensagem-painel.js","js/layout.js","js/telas/sede/sede-form.js","js/telas/sede/sede-detalhes.js","js/telas/funcionarios/funcionario-form.js","js/telas/funcionarios/funcionario-detalhes.js","js/telas/funcionarios/funcionarios.js","js/telas/fornecedores/fornecedor-form.js","js/telas/fornecedores/fornecedor-detalhes.js","js/telas/fornecedores/fornecedores.js","js/telas/produtos/produto-form.js","js/telas/produtos/produto-detalhes.js","js/telas/categorias/categoria-form.js","js/telas/categorias/subcategoria-form.js","js/telas/categorias/categoria-detalhes.js","js/telas/categorias/categorias.js","js/telas/produtos/produtos.js","js/componente/input-dropdown.js","js/telas/compras/add-compra-produto-categorias.js","js/telas/compras/add-compra-produto.js","js/telas/compras/set-compra-fornecedor.js","js/telas/compras/gera-compra-parcelas.js","js/telas/compras/compra-registro.js","js/telas/compras/compra-detalhes.js","js/telas/compras/compras.js","js/telas/clientes/cliente-form.js","js/telas/clientes/cliente-detalhes.js","js/telas/clientes/clientes.js","js/telas/vendas/venda-registro.js","js/telas/vendas/venda-detalhes.js","js/telas/vendas/vendas-pagamento.js","js/telas/vendas/vendas.js","js/telas/caixa/caixa-abertura.js","js/telas/caixa/caixa-lancamento-novo.js","js/telas/caixa/caixa-lancamentos.js","js/telas/caixa/caixa.js","js/telas/caixa/caixa-fluxo-dia.js","js/telas/caixa/caixa-fluxo.js","js/telas/usuarios/grupo-form-edit.js","js/telas/usuarios/grupo-form-registro.js","js/telas/usuarios/grupos.js","js/telas/usuarios/recurso-form.js","js/telas/usuarios/recursos.js","js/telas/usuarios/usuarios.js","js/telas/contas/contas-pagar.js","js/telas/contas/contas-receber.js","js/naveg-bar.js","js/telas/inicial/inicial.js","js/login.js","App.js","reportWebVitals.js","index.js"],"names":["sistema","this","token","usuario","document","getElementById","strEL","el","querySelector","scrollIntoView","$","show","hide","strEl","style","visibility","display","date","undefined","moment","format","valor","v","parseFloat","Math","abs","s","parseInt","substring","length","replace","isNaN","split","frac","url","requestDados","responseOk","compRef","ws","method","headers","body","JSON","stringify","wsGetOrDelete","wsSave","request","setState","erroMsg","infoMsg","showLoadingSpinner","fetch","then","resposta","status","call","trataRespostaNaoOk","hideLoadingSpinner","catch","error","json","dados","mensagem","codigo","getMensagemErro","callback","MensagemPainel","props","state","msgId","Date","getTime","scrollTo","msg","Alert","id","color","cor","React","Component","Layout","position","margin","zIndex","className","minHeight","SedeForm","cnpj","createRef","inscricaoEstadual","op","carrega","wsGet","current","value","e","preventDefault","wsPut","ReactDOM","render","paginaElemento","Container","Row","Col","Card","Form","onSubmit","salvar","Group","Label","Control","type","ref","name","Button","variant","onClick","paraTelaSedeDetalhes","SedeDetalhes","sede","editar","FuncionarioForm","usuarioGrupos","nome","telefone","email","ender","numero","logradouro","bairro","cidade","uf","usuarioGrupo","username","password","password2","carregaGrupos","carregaFuncionario","funcId","pessoa","endereco","grupo","metodo","map","item","i","paraTelaFuncionarios","FuncionarioDetalhes","funcionario","tipo","Funcionarios","funcionarios","remocaoModalVisivel","remocaoModalOkFunc","remocaoModalCancelaFunc","nomeIni","usernameIni","filtrar","filtrarBTClicado","wsPost","remover","wsDelete","Modal","Header","Title","Body","Footer","paraTelaRegistro","Table","striped","bordered","hover","func","index","detalhes","removerSeConfirmado","FornecedorForm","empresa","fornecedorId","paraTelaFornecedores","FornecedorDetalhes","fornecedor","Fornecedores","fornecedores","empresaIni","ProdutoForm","descricao","precoUnitCompra","precoUnitVenda","unidade","codigoBarras","produtoId","paraFloat","registrou","codBarras","buscar","paraTelaProdutos","ProdutoDetalhes","produto","subcategorias","titulo","CategoriaForm","categoriaId","paraTelaCategoriaDetalhes","SubCategoriaForm","subcategoriaId","paraTelaCategoria","CategoriaDetalhes","categoria","subcatDescricaoIni","carregar","cat","subcat","subcatId","removerSubcategoria","filtrarSubcategorias","subcategoria","editarSubcategoria","removerSubcategoriaSeConfirmado","paraTelaCategorias","Categorias","addErroMsg","addInfoMsg","categorias","descricaoIni","Produtos","produtos","descIni","paraCategorias","paraCadastroForm","formataReal","formataFloat","quantidade","InputDropdown","random","texto","referencia","carregaItens","itemClicado","onChange","onChangeTexto","onClickMostraEscondeDropdown","itens","onClickItem","AddCompraProdutoCategorias","categoriasLista","subcategoriasLista","catdesc","subcatdesc","toLowerCase","jaInserida","push","fim","size","catObj","size2","j","splice","index2","removeCategoria","categoriaOnChange","subcategoriaOnChange","addCategoria","AddCompraProduto","estoqueQuantidade","paraAddQuantidade","trim","limpaProdutoForm","produtoAdicionado","codbar","addProduto","forceRenderTabPanel","disabled","SetCompraFornecedor","fornecedoresLista","fornecedorEmpresaRef","addFornecedor","fornecedorOnChange","GeraCompraParcelas","vencimento","parcelas","total","p","quantParcelas","quantParcelasRef","valorParcela","dataPag","add","dataVenc","dataPagamento","dataVencimento","config","valorTotal","formataData","calcularParcelas","CompraRegistro","geraParcelasConfig","itensCompra","precoUnitario","parcelasList","dataCompra","index3","removeProduto","registrarCompra","paraTelaCompras","compra","valorPago","debito","compraId","paga","fontSize","Compras","compras","dataIni","dataFim","instance","paraRegistroForm","debitoTotal","selected","changeDataIni","locale","dateFormat","changeDataFim","minDate","ClienteForm","carregaCliente","clienteId","paraTelaClientes","ClienteDetalhes","cliente","Clientes","clientes","VendaRegistro","formasPag","quantValorPadrao","clientesNomeLista","clienteNome","incluirCliente","subtotal","desconto","troco","formaPag","carregaFormasPagamento","unshift","calcularTotal","itensVenda","quant","estQ","q1","q2","target","estoqueQuant","checked","quantidadeItemProdOnChange","defaultValue","subitem","removerItemVenda","efetuarVenda","addItemVenda","incluirClienteOnChange","clienteNomeOnChange","paraTelaVendas","VendaDetalhes","venda","vendaId","dataVenda","VendasPagamento","vendas","carregaVendas","clienteNomeItemClicado","efetuarPagamento","Vendas","clienteNomeIni","incluirVendasPagas","paraTelaPagamentos","CaixaAbertura","valorInicial","lancamento","abrir","paraTelaCaixa","CaixaLancamentoNovo","tipos","obs","carregaTipos","response","novo","as","rows","paraTelaLancamentos","CaixaLancamentos","lancamentos","caixaFuncNome","caixaDataAbertura","listar","listarBTClicado","getTipo","caixaId","caixa","creditoAcumulado","debitoAcumulado","lanc","credito","saldo","dataOperacao","dataAbertura","lancId","gettipo","Caixa","balanco","cartaoValorRecebido","totalVendasAPrazo","valorFechamento","atualizaDadosHoje","paraTelaAbrirCaixa","fecharCaixa","CaixaFluxoDia","caixas","dataDia","funcionarioNome","wsGetPDF","blob","window","open","URL","createObjectURL","relatorioBalancoHoje","CaixaFluxo","balancosDiarios","data","balancoDia","visualizar","dataIniOnChange","dateFimOnChange","GrupoFormEdit","permissaoGrupos","grupoId","permissaoOnChange","wsPatch","sincronizarRecursos","recurso","leitura","permissaoLeituraOnChange","escrita","permissaoEscritaOnChange","remocao","permissaoRemocaoOnChange","paraTelaGrupos","GrupoFormRegistro","Grupos","grupos","paraTelaUsuarios","RecursoForm","recursoId","paraTelaRecursos","Recursos","recursos","paraRecursoForm","Usuarios","usuarios","ContasPagar","contasObj","contas","incluirFornecedor","fornecedorNomeIni","incluirContasPagas","parcelaId","parcelaPaga","parcela","conta","fornecedorEmpresa","alterarSituacao","debitoTotalPeriodo","debitoTotalCompleto","ContasReceber","debitoPeriodo","valorRecebido","totalPeriodo","totalCompleto","NavegBar","elementoId","showHide","rootElemento","Navbar","bg","Brand","Toggle","Collapse","Nav","Link","NavDropdown","title","Item","paraTelaFluxoCaixa","paraTelaContasPagar","paraTelaContasReceber","paraTelaLogin","Inicial","Login","wsPostNoAuthorization","menuNavegElemento","entrar","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","registerLocale","pt","Fragment"],"mappings":"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","file":"static/js/main.fcd3ce26.chunk.js","sourcesContent":["import * as moment from 'moment';\r\nimport $ from 'jquery';\r\n\r\nclass Sistema {\r\n\r\n\tconstructor() {\r\n\t\tthis.token = null;\r\n\t\tthis.usuario = null;\t\t\r\n\t}\r\n\r\n\tpaginaElemento() {\r\n\t\treturn document.getElementById( \"pagina\" );\r\n\t}\r\n\r\n\tmenuNavegElemento() {\r\n\t\treturn document.getElementById( \"menu-naveg\" );\r\n\t}\r\n\r\n\trootElemento() {\r\n\t\treturn document.getElementById( \"root\" );\r\n\t}\r\n\t\t\r\n\tscrollTo( strEL ) {\r\n\t\tlet el = document.querySelector( \"#\"+strEL );\r\n\t\tif ( el )\r\n\t\t\tel.scrollIntoView();\t\t\t\r\n\t}\r\n\t\r\n\tshowLoadingSpinner() {\r\n\t\t$(\"#carregando\").show();\r\n\t}\r\n\t\r\n\thideLoadingSpinner() {\r\n\t\t$(\"#carregando\").hide();\r\n\t}\r\n\r\n\tshowHide( strEl ) {\r\n\t\tlet el = document.getElementById( strEl );\r\n\t\tif ( el.style.visibility === 'hidden' ) {\r\n\t\t\tel.style.display = \"block\";\r\n\t\t\tel.style.visibility = \"visible\";\r\n\t\t} else {\r\n\t\t\tel.style.display = \"none\";\r\n\t\t\tel.style.visibility = \"hidden\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tformataData( date ) {\r\n\t\tif ( date === null || date === undefined || date === '' )\r\n\t\t\treturn \"Formato de data não reconhecido\";\r\n\t\t\r\n\t\treturn moment( date ).format( \"DD/MM/YYYY\" );\r\n\t}\r\n\t\r\n\tformataReal( valor ) {\r\n\t\tlet v = parseFloat( valor );\r\n\t\tif ( v === 0 ) \r\n\t\t\treturn \"R$ 0,00\";\r\n\t\t\t\t\r\n\t\tif ( Math.abs( v ) >= 1.0 ) {\r\n\t\t\tlet n = parseInt( v * 100 );\r\n\t\t\tlet s = \"\"+n;\r\n\t\t\treturn \"R$ \"+s.substring( 0, s.length-2 ) + ',' + s.substring( s.length-2, s.length );\t\t\r\n\t\t} else {\r\n\t\t\tlet truncI = ( v < 0 ? 5 : 4 );\t\t\t\r\n\t\t\treturn\"R$ \" +( ( \"\"+v ).substring( 0, truncI ).replace( '.', ',' ) );\t\t\t\r\n\t\t}\t\t\t\t\r\n\t}\r\n\t\r\n\tparaFloat( valor ) {\r\n\t\tif ( isNaN( (\"\"+valor).replace( ',', '.' ) ) === true )\r\n\t\t\treturn valor;\r\n\t\t\r\n\t\tif ( (\"\"+valor) === \"0\" ) \r\n\t\t\treturn 0;\r\n\t\t\r\n\t\treturn parseFloat( (\"\"+valor).replace( ',', '.' ) );\r\n\t}\r\n\t\r\n\tformataFloat( valor ) {\r\n\t\tif ( (\"\"+valor) === \"0\" ) \r\n\t\t\treturn \"0\";\r\n\t\t\r\n\t\tlet v = (\"\"+valor).split( '.' );\r\n\t\t\r\n\t\tlet frac = 0;\r\n\t\tif ( v.length === 2 )\r\n\t\t\tfrac = parseInt( v[1] );\r\n\t\t\r\n\t\treturn ( frac === 0 ? v[0] : v[0]+','+v[1] );\t\t\t\t\r\n\t}\r\n\t\r\n\twsPostNoAuthorization( url, requestDados, responseOk, compRef ) {\r\n\t\tthis.ws( url, {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8'\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( requestDados )\r\n\t\t}, responseOk, compRef );\r\n\t}\r\n\t\r\n\twsGetPDF( url, responseOk, compRef ) {\r\n\t\tthis.ws( url, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Accept' : 'application/pdf',\r\n\t\t\t\t'Authorization' : 'Bearer '+this.token\r\n\t\t\t}\r\n\t\t}, responseOk, compRef );\r\n\t}\r\n\t\r\n\twsGet( url, responseOk, compRef ) {\r\n\t\tthis.wsGetOrDelete( url, 'GET', responseOk, compRef );\r\n\t}\r\n\t\r\n\twsDelete( url, responseOk, compRef ) {\r\n\t\tthis.wsGetOrDelete( url, 'DELETE', responseOk, compRef );\r\n\t}\r\n\t\r\n\twsPost( url, requestDados, responseOk, compRef ) {\r\n\t\tthis.wsSave( url, 'POST', requestDados, responseOk, compRef );\r\n\t}\r\n\t\r\n\twsPut( url, requestDados, responseOk, compRef ) {\r\n\t\tthis.wsSave( url, 'PUT', requestDados, responseOk, compRef );\r\n\t}\r\n\t\r\n\twsPatch( url, requestDados, responseOk, compRef ) {\r\n\t\tthis.wsSave( url, 'PATCH', requestDados, responseOk, compRef );\r\n\t}\r\n\t\t\t\r\n\twsSave( url, method, requestDados, responseOk, compRef ) {\r\n\t\tthis.ws( url, {\r\n\t\t\tmethod : method,\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+this.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( requestDados )\r\n\t\t}, responseOk, compRef );\r\n\t}\r\n\t\r\n\twsGetOrDelete( url, method, responseOk, compRef ) {\r\n\t\tthis.ws( url, {\r\n\t\t\tmethod : method,\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+this.token\r\n\t\t\t}\r\n\t\t}, responseOk, compRef );\r\n\t}\r\n\t\t\r\n\tws( url, request, responseOk, compRef ) {\r\n\t\tcompRef.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tthis.showLoadingSpinner();\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\tfetch( url, request ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tif ( typeof( responseOk ) === 'function' )\r\n\t\t\t\t\tresponseOk.call( this, resposta );\r\n\t\t\t} else {\r\n\t\t\t\tthis.trataRespostaNaoOk( resposta, compRef );\r\n\t\t\t}\r\n\t\t\tthis.hideLoadingSpinner();\r\n\t\t} ).catch( (error) => {\r\n\t\t\tcompRef.setState( { erroMsg : \"Servidor indisponível.\" } );\r\n\t\t} );\t\t\r\n\t}\t\t\r\n\r\n\ttrataRespostaNaoOk( resposta, compRef ) {\r\n\t\tif ( resposta.status === 400 ) {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tif ( dados.mensagem == null ) {\r\n\t\t\t\t\tcompRef.setState( { erroMsg : 'Mensagem de erro não encontrada pelo código recebido. Codigo='+dados.codigo } );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcompRef.setState( { erroMsg : dados.mensagem } );\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} else {\r\n\t\t\tcompRef.setState( { erroMsg : this.getMensagemErro( resposta.status ) } );\t\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\ttrataRespostaNaoOkCBK( resposta, callback ) {\r\n\t\tif ( resposta.status === 400 ) {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\t\r\n\t\t\t\tif ( typeof( callback ) == 'function' )\r\n\t\t\t\t\tcallback.call( this, dados.mensagem );\r\n\t\t\t} );\r\n\t\t} else {\r\n\t\t\tif ( typeof( callback ) == 'function' )\r\n\t\t\t\tcallback.call( this, this.getMensagemErro( resposta.status ) );\t\t\t\t\r\n\t\t}\t\r\n\t}\r\n\r\n\tgetMensagemErro( status ) {\t\t\t\t\t\t\r\n\t\tswitch( status ) {\r\n\t\t\tcase 401:\r\n\t\t\tcase 403:\r\n\t\t\t\treturn \"Você não tem permissão para acessar esse recurso\";\r\n\t\t\t\t\r\n\t\t\tcase 404:\r\n\t\t\t\treturn \"Recurso não encontrado no servidor.\";\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tcase 500:\r\n\t\t\t\treturn \"Erro interno no servidor.\";\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"Erro desconhecido\";\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\nlet sistema = new Sistema();\r\nexport default sistema;","import React from 'react';\r\nimport {Alert} from 'reactstrap';\r\n\r\nimport sistema from './../logica/sistema';\r\n\r\nexport default class MensagemPainel extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { msgId : \"msg-\"+new Date().getTime() };\r\n\t}\t\t\r\n\t\r\n\tcomponentDidUpdate() {\r\n\t\tsistema.scrollTo( this.state.msgId );\r\n\t}\r\n\t\t\t\t\r\n\trender () {\t\t\t\t\r\n\t\tconst {msgId} = this.state;\r\n\t\t\t\t\t\t\t\t\r\n\t\tif ( this.props.msg == null ) {\r\n\t\t\treturn (<span></span>);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Alert id={msgId} color={this.props.cor}>{this.props.msg}</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\t\t\t\t\t\r\n\t\t\r\n}\r\n\t\t","import React from 'react';\r\nimport $ from 'jquery';\r\n\t\r\nexport default class Layout extends React.Component {\r\n\t\t\t\t\t\r\n\tcomponentDidMount() {\r\n\t\t$(\"#carregando\").hide();\r\n\t}\r\n\t\t\t\t\t\r\n\trender() {\r\n\t\treturn( \r\n\t\t\t<div>\t\t\t\t\r\n\t\t\t\t<div id=\"carregando\" style={{position: 'fixed', margin: '10em 46%', zIndex: '1000'}}>\r\n\t\t\t\t\t<div className=\"spinner-border\">\r\n\t\t\t\t\t\t<span className=\"sr-only\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"menu-naveg\"></div>\r\n\t\t\t\t<div className=\"mx-5 my-2 p-4 bg-light rounded\" style={{minHeight: '30em'}}>\t\t\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"pagina\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t<div className=\"bg-dark p-3 text-center text-light\">\r\n\t\t\t\t\t<h5>Produzido por Ítalo Herbert</h5>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\t\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport SedeDetalhes from './sede-detalhes';\r\n\r\nexport default class SedeForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.cnpj = React.createRef();\r\n\t\tthis.inscricaoEstadual = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carrega();\t\t\t\t\r\n\t}\r\n\t\r\n\tcarrega() {\r\n\t\tsistema.wsGet( '/api/sede/get', (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.cnpj.current.value = dados.cnpj;\r\n\t\t\t\tthis.inscricaoEstadual.current.value = dados.inscricaoEstadual;\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPut( '/api/sede/salva', {\r\n\t\t\t\"cnpj\" : this.cnpj.current.value,\t\r\n\t\t\t\"inscricaoEstadual\" : this.inscricaoEstadual.current.value\t\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Dados da sede salvos com sucesso.\" } );\t\t\t\r\n\t\t}, this );\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaSedeDetalhes() {\r\n\t\tReactDOM.render( <SedeDetalhes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"card-title text-center\">Registro de sede</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) } className=\"container\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>CNPJ: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.cnpj} name=\"cnpj\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Inscrição estadual: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.inscricaoEstadual} name=\"cnpj\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" className=\"my-1\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaSedeDetalhes( e ) }>Ir para detalhes</button>\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport SedeForm from './sede-form';\r\n\r\nexport default class SedeDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tsede : {} \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tsistema.wsGet( \"/api/sede/get\", (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { sede : dados } );\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\r\n\t}\r\n\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( <SedeForm op=\"editar\" />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { sede, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Dados da sede</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4>Dados gerais</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display: inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">CNPJ: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{sede.cnpj}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"display: inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Inscrição Estadual: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{sede.inscricaoEstadual}</span>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar sede</Button>\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Funcionarios from './funcionarios';\r\n\r\nexport default class FuncionarioForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tusuarioGrupos : []\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t\tthis.telefone = React.createRef();\r\n\t\tthis.email = React.createRef();\r\n\t\t\r\n\t\tthis.ender = React.createRef();\r\n\t\tthis.numero = React.createRef();\r\n\t\tthis.logradouro = React.createRef();\r\n\t\tthis.bairro = React.createRef();\r\n\t\tthis.cidade = React.createRef();\r\n\t\tthis.uf = React.createRef();\t\t\r\n\t\t\r\n\t\tthis.usuarioGrupo = React.createRef();\r\n\t\tthis.username = React.createRef();\t\t\r\n\t\tthis.password = React.createRef();\t\t\r\n\t\tthis.password2 = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tthis.carregaGrupos();\r\n\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carregaFuncionario();\t\t\r\n\t}\r\n\t\r\n\tcarregaFuncionario() {\r\n\t\tsistema.wsGet( '/api/funcionario/get/'+this.props.funcId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.nome.current.value = dados.pessoa.nome;\r\n\t\t\t\tthis.telefone.current.value = dados.pessoa.telefone;\r\n\t\t\t\tthis.email.current.value = dados.pessoa.email;\r\n\t\t\t\t\r\n\t\t\t\tthis.ender.current.value = dados.pessoa.endereco.ender;\r\n\t\t\t\tthis.numero.current.value = dados.pessoa.endereco.numero;\r\n\t\t\t\tthis.logradouro.current.value = dados.pessoa.endereco.logradouro;\r\n\t\t\t\tthis.bairro.current.value = dados.pessoa.endereco.bairro;\r\n\t\t\t\tthis.cidade.current.value = dados.pessoa.endereco.cidade;\r\n\t\t\t\tthis.uf.current.value = dados.pessoa.endereco.uf;\r\n\t\t\t\t\r\n\t\t\t\tthis.username.current.value = dados.usuario.username;\r\n\t\t\t\tthis.usuarioGrupo.current.value = dados.usuario.grupo.nome;\r\n\t\t\t\t\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\r\n\tcarregaGrupos() {\r\n\t\tsistema.wsGet( \"/api/usuario/grupo/lista\", (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { usuarioGrupos : dados } );\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/funcionario/atualiza/\"+this.props.funcId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/funcionario/registra\";\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\t\t\t\r\n\t\tsistema.wsSave( url, metodo, {\r\n\t\t\t\"pessoa\" : {\r\n\t\t\t\t\"nome\" : this.nome.current.value,\r\n\t\t\t\t\"telefone\" : this.telefone.current.value,\t\t\t\t\r\n\t\t\t\t\"email\" : this.email.current.value,\r\n\t\t\t\t\r\n\t\t\t\t\"endereco\" : {\r\n\t\t\t\t\t\"ender\" : this.ender.current.value,\r\n\t\t\t\t\t\"numero\" : this.numero.current.value,\r\n\t\t\t\t\t\"bairro\" : this.bairro.current.value,\r\n\t\t\t\t\t\"cidade\" : this.cidade.current.value,\r\n\t\t\t\t\t\"uf\" : this.uf.current.value,\r\n\t\t\t\t\t\"logradouro\" : this.logradouro.current.value\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\"usuario\" : {\r\n\t\t\t\t\"username\" : this.username.current.value,\r\n\t\t\t\t\"password\" : this.password.current.value,\r\n\t\t\t\t\"grupo\" : {\r\n\t\t\t\t\t\"nome\" : this.usuarioGrupo.current.value\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Funcionario salvo com sucesso.\" } );\r\n\t\t}, this );\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaFuncionarios() {\r\n\t\tReactDOM.render( <Funcionarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, usuarioGrupos } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Registro de funcionarios</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Telefone: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"tel\" ref={this.telefone} name=\"tel\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>E-Mail: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"email\" ref={this.email} name=\"email\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Endereço</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Ender:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.ender} name=\"ender\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Numero:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.numero} name=\"numero\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Logradouro:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.logradouro} name=\"logradouro\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Bairro:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.bairro} name=\"bairro\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Cidade:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.cidade} name=\"cidade\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>UF:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.uf} name=\"uf\" />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Usuario:</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome de usuário:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.username} name=\"username\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Grupos de usuário:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<select name=\"usuarioGrupo\" ref={this.usuarioGrupo} className=\"form-control\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key=\"0\" value=\"NONE\">Selecione um grupo!</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ usuarioGrupos.map( (item, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={i+1} value={item}>{item}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t} )\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Senha:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"password\" ref={this.password} name=\"password\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Repita a senha:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"password\" ref={this.password2} name=\"password2\" />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaFuncionarios(e) }>Ir para funcionarios</button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport FuncionarioForm from './funcionario-form';\r\nimport Funcionarios from './funcionarios';\r\n\r\nexport default class FuncionarioDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tfuncionario : {\r\n\t\t\t\tpessoa : {\r\n\t\t\t\t\tendereco : {}\r\n\t\t\t\t},\r\n\t\t\t\tusuario : {}\r\n\t\t\t} \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tsistema.wsGet( \"/api/funcionario/get/\"+this.props.funcId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { funcionario : dados } );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( <FuncionarioForm op=\"editar\" funcId={this.props.funcId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaFuncionarios() {\r\n\t\tReactDOM.render( <Funcionarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { funcionario, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Dados do funcionário</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Nome: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.nome}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Telefone: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.telefone}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">E-Mail: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.email}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4>Endereço</h4>\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Ender: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.ender}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Numero: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.numero}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Logradouro: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.logradouro}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Bairro: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.bairro}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Cidade: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.cidade}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">UF: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.uf}</span>\r\n\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Dados usuario</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Username: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.usuario.username}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Tipo: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.usuario.tipo}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar funcionario</Button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaFuncionarios(e) }>Ir para funcionarios</button>\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport FuncionarioDetalhes from './funcionario-detalhes';\r\nimport FuncionarioForm from './funcionario-form';\r\n\r\nexport default class Funcionarios extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tfuncionarios : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\r\n\r\n\t\tthis.nomeIni = React.createRef();\r\n\t\tthis.usernameIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.nomeIni.current.value = \"*\";\r\n\t\tthis.usernameIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tsistema.wsPost(\t\"/api/funcionario/filtra\", {\r\n\t\t\tnomeIni : this.nomeIni.current.value,\r\n\t\t\tusernameIni : this.usernameIni.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { funcionarios : dados } );\t\t\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum funcionário encontrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\t\t\t\t\t\r\n\t}\r\n\t\t\r\n\tdetalhes( e, funcId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <FuncionarioDetalhes funcId={funcId}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, funcId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, funcId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, funcId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsDelete( \"/api/funcionario/deleta/\"+funcId, (resposta) => {\r\n\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tthis.setState( { infoMsg : \"Funcionario removido com êxito!\" } );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <FuncionarioForm op=\"cadastrar\" />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, funcionarios, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de funcionario</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o funcionario selecionado?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaRegistro(e)}>Registrar novo funcionário</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center col-md-12\">Lista de Funcionarios</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome</th>\r\n\t\t\t\t\t\t\t\t<th>Nome de usuário</th>\r\n\t\t\t\t\t\t\t\t<th>Tipo</th>\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{funcionarios.map( ( func, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{func.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{func.pessoa.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{func.usuario.username}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{func.usuario.grupo.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, func.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, func.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-6\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar funcionarios</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nomeIni} name=\"nomeIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome de usuário:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.usernameIni} name=\"usernameIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t \r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Fornecedores from './fornecedores';\r\n\r\nexport default class FornecedorForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.empresa = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carrega();\t\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tcarrega() {\r\n\t\tsistema.wsGet( '/api/fornecedor/get/'+this.props.fornecedorId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.empresa.current.value = dados.empresa;\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/fornecedor/atualiza/\"+this.props.fornecedorId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/fornecedor/registra\";\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\t\r\n\t\tsistema.wsSave( url, metodo, {\r\n\t\t\t\"empresa\" : this.empresa.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Fornecedor salvo com sucesso.\" } );\r\n\t\t}, this );\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaFornecedores() {\r\n\t\tReactDOM.render( <Fornecedores />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Registro de fornecedores</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Empresa: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.empresa} name=\"empresa\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaFornecedores( e ) }>Ir para fornecedores</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport FornecedorForm from './fornecedor-form';\r\nimport Fornecedores from './fornecedores';\r\n\r\nexport default class FornecedorDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tfornecedor : {} \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tsistema.wsGet( '/api/fornecedor/get/'+this.props.fornecedorId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { fornecedor : dados } );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<FornecedorForm op=\"editar\"\tfornecedorId={this.props.fornecedorId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\tparaTelaFornecedores() {\r\n\t\tReactDOM.render( <Fornecedores />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { fornecedor, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Dados do fornecedor</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4>Dados gerais</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Empresa: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{fornecedor.empresa}</span>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar fornecedor</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaFornecedores( e ) }>Ir para fornecedores</button>\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport FornecedorDetalhes from './fornecedor-detalhes';\r\nimport FornecedorForm from './fornecedor-form';\r\n\r\nexport default class Fornecedores extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tfornecedores : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.empresaIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.empresaIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/fornecedor/filtra\", {\r\n\t\t\t\"empresaIni\" : this.empresaIni.current.value,\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { fornecedores : dados } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum fornecedor registrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\r\n\t}\r\n\t\t\r\n\tdetalhes( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <FornecedorDetalhes fornecedorId={id} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, id ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, id );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tsistema.wsDelete( \"/api/fornecedor/deleta/\"+id, (resposta) => {\r\n\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tthis.setState( { infoMsg : \"Fornecedor removido com êxito!\" } );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <FornecedorForm op=\"cadastrar\" />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, fornecedores, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de fornecedor</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o fornecedor selecionado?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\t\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaRegistro(e)}>Registrar novo fornecedor</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Fornecedores</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome da empresa</th>\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{fornecedores.map( ( fornecedor, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{fornecedor.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{fornecedor.empresa}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, fornecedor.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, fornecedor.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar fornecedores</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Empresa:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.empresaIni} name=\"empresaIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" className=\"mb-3\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport Produtos from './produtos';\r\n\r\nexport default class ProdutoForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\tthis.descricao = React.createRef();\r\n\t\tthis.precoUnitCompra = React.createRef();\r\n\t\tthis.precoUnitVenda = React.createRef();\r\n\t\tthis.unidade = React.createRef();\r\n\r\n\t\tthis.codigoBarras = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carrega();\t\t\r\n\t}\r\n\t\r\n\tcarrega() {\r\n\t\tsistema.wsGet( \"/api/produto/get/\"+this.props.produtoId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.descricao.current.value = dados.descricao;\r\n\t\t\t\tthis.precoUnitCompra.current.value = dados.precoUnitCompra;\r\n\t\t\t\tthis.precoUnitVenda.current.value = dados.precoUnitVenda;\r\n\t\t\t\tthis.unidade.current.value = dados.unidade;\r\n\r\n\t\t\t\tthis.codigoBarras.current.value = dados.codigoBarras;\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/produto/salva\", {\r\n\t\t\t\"codigoBarras\" : this.codigoBarras.current.value,\r\n\t\t\t\"descricao\" : this.descricao.current.value,\r\n\t\t\t\"precoUnitCompra\" : sistema.paraFloat( this.precoUnitCompra.current.value ),\r\n\t\t\t\"precoUnitVenda\" : sistema.paraFloat( this.precoUnitVenda.current.value ),\r\n\t\t\t\"unidade\" : this.unidade.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Produto cadastrado com sucesso.\" } );\r\n\t\t\t\r\n\t\t\tif ( typeof( this.props.registrou ) === \"function\" )\r\n\t\t\t\tthis.props.registrou.call( this );\r\n\t\t}, this );\t\t\t\t\r\n\t}\t\t\r\n\t\r\n\tbuscar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tlet codBarras = this.codigoBarras.current.value; \r\n\r\n\t\tsistema.wsGet( \"/api/produto/busca/\"+codBarras, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.codigoBarras.current.value = dados.codigoBarras;\r\n\t\t\t\tthis.descricao.current.value = dados.descricao;\r\n\t\t\t\tthis.precoUnitCompra.current.value = dados.precoUnitCompra;\r\n\t\t\t\tthis.precoUnitVenda.current.value = dados.precoUnitVenda;\r\n\t\t\t\tthis.unidade.current.value = dados.unidade;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState({});\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaProdutos( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <Produtos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-sm-2\"></Col>\t\r\n\t\t\t\t\t<Col className=\"col-sm-8\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Salvar produto</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Codigo de barras: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Row className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.codigoBarras} name=\"codigoBarras\" />\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"button\" variant=\"primary\" onClick={ (e) => this.buscar( e ) }>Buscar</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Descrição: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricao} name=\"descricao\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Preço Compra por Unidade: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.precoUnitCompra} name=\"precoUnitCompra\" />\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Preço Venda por Unidade: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.precoUnitVenda} name=\"precoUnitVenda\" />\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Unidade: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.unidade} name=\"unidade\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaProdutos( e ) }>Para tela de produtos</button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport ProdutoForm from './produto-form';\r\nimport Produtos from './produtos';\r\n\r\nexport default class ProdutoDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tproduto : { subcategorias : [] } \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tsistema.wsGet( \"/api/produto/get/\"+this.props.produtoId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { produto : dados } );\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\r\n\t}\r\n\t\t\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<ProdutoForm op=\"editar\" titulo=\"Altere a produto\" produtoId={this.props.produtoId} />,\tsistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaProdutos() {\r\n\t\tReactDOM.render( <Produtos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { produto, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn ( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Dados do produto</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Descrição: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.descricao}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Codigo barras: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.codigoBarras}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Preço compra: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.precoUnitCompra}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Preço venda: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.precoUnitVenda}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Unidade: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.unidade}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" onClick={(e) => this.editar( e )}>Editar produto</Button>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaProdutos( e ) }>Ir para produtos</button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport CategoriaDetalhes from './categoria-detalhes';\r\n\r\nexport default class CategoriaForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.descricao = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carrega();\t\t\t\t\r\n\t}\r\n\t\r\n\tcarrega() {\r\n\t\tsistema.wsGet( \"/api/categoria/get/\"+this.props.categoriaId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.descricao.current.value = dados.descricao;\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/categoria/atualiza/\"+this.props.categoriaId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/categoria/registra\";\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\r\n\t\tsistema.wsSave( url, metodo, {\r\n\t\t\t\"descricao\" : this.descricao.current.value\t\t\t\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Categoria cadastrada com sucesso.\" } );\r\n\t\t\t\r\n\t\t\tif ( typeof( this.props.registrou ) === \"function\" )\r\n\t\t\t\tthis.props.registrou.call();\r\n\t\t}, this );\t\t\t\t\t\t\r\n\t}\r\n\t\t\r\n\tparaTelaCategoriaDetalhes() {\r\n\t\tReactDOM.render( <CategoriaDetalhes categoriaId={this.props.categoriaId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t<h4 className=\"card-title\">{this.props.titulo}</h4>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t<Form.Label>Descrição: </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricao} name=\"descricao\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t{ this.props.op === 'editar' && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCategoriaDetalhes( e ) }>Ir para detalhes</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport CategoriaDetalhes from './categoria-detalhes';\r\n\r\nexport default class SubCategoriaForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.descricao = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carrega();\t\t\r\n\t}\r\n\t\r\n\tcarrega() {\r\n\t\tsistema.wsGet( \"/api/subcategoria/get/\"+this.props.subcategoriaId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.descricao.current.value = dados.descricao;\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/subcategoria/atualiza/\"+this.props.subcategoriaId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/subcategoria/registra/\"+this.props.categoriaId;\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\t\r\n\t\tsistema.wsSave( url, metodo, {\r\n\t\t\t\"descricao\" : this.descricao.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Subcategoria salva com sucesso.\" } );\r\n\t\t\t\r\n\t\t\tif ( typeof( this.props.registrou ) === \"function\" )\r\n\t\t\t\tthis.props.registrou.call();\r\n\t\t}, this );\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaCategoria( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<CategoriaDetalhes categoriaId={this.props.categoriaId} />, \r\n\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t<h4 className=\"card-title\">{this.props.titulo}</h4>\r\n\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t<Form.Label>Descrição: </Form.Label>\r\n\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricao} name=\"descricao\" />\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\r\n\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t{(this.props.op === 'editar' ) && ( \r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaCategoria(e) }>Ir para categoria</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) }\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</Form>\t\t\t\t\t\t\t\t\r\n\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport CategoriaForm from './categoria-form';\r\nimport SubCategoriaForm from './subcategoria-form';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport Categorias from './categorias';\r\n\r\nexport default class CategoriaDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tcategoria : { subcategorias : [] },\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\r\n\t\t\r\n\t\tthis.subcatDescricaoIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.carregar( null );\r\n\t\t\r\n\t\tthis.subcatDescricaoIni.current.value = \"*\";\r\n\t}\r\n\t\r\n\tcarregar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\tsistema.wsGet( \"/api/categoria/get/\"+this.props.categoriaId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\r\n\t\t\t\tthis.setState( { categoria : dados } );\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\t\r\n\t}\r\n\t\t\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<CategoriaForm op=\"editar\"\r\n\t\t\t\ttitulo=\"Altere a categoria\" \r\n\t\t\t\tcategoriaId={this.props.categoriaId} \r\n\t\t\t/>,\r\n\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tfiltrarSubcategorias( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\r\n\t\tsistema.wsPost(\t\"/api/subcategoria/filtra/\"+this.props.categoriaId, {\r\n\t\t\t\"descricaoIni\" : this.subcatDescricaoIni.current.value\t\t\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\r\n\t\t\t\tlet cat = this.state.categoria;\r\n\t\t\t\tcat.subcategorias = dados;\r\n\t\t\t\r\n\t\t\t\tthis.setState( { categoria : cat } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma subcategoria encontrada pelos critérios de busca informados.\" } );\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\r\n\t}\r\n\t\r\n\teditarSubcategoria( e, subcat ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( \t\t\t\r\n\t\t\t<SubCategoriaForm \r\n\t\t\t\top=\"editar\" \r\n\t\t\t\ttitulo=\"Altere a subcategoria\"\r\n\t\t\t\tcategoriaId={this.state.categoria.id}\r\n\t\t\t\tsubcategoriaId={subcat.id} \r\n\t\t\t/>, sistema.paginaElemento() ); \r\n\t}\r\n\t\r\n\tremoverSubcategoriaSeConfirmado( e, subcatId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.removerSubcategoria( e, subcatId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremoverSubcategoria( e, subcatId ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tsistema.wsDelete( \"/api/subcategoria/deleta/\"+subcatId, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Subcategoria removida com êxito!\" } );\r\n\t\t\tthis.filtrarSubcategorias( e, null );\r\n\t\t}, this );\t\r\n\t}\r\n\t\r\n\tparaTelaCategorias() {\r\n\t\tReactDOM.render( <Categorias />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { categoria, erroMsg, infoMsg, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de subcategoria</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover a subcategoria selecionada?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\r\n\t\t\t\t<h4 className=\"text-center\">Dados do categoria</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"inline-block\">\t\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Descrição: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{categoria.descricao}</span>\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar categoria</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Subcategorias</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t<th>Editar</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{categoria.subcategorias.map( ( subcategoria, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{subcategoria.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{subcategoria.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.editarSubcategoria( e, subcategoria )}>editar</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSubcategoriaSeConfirmado( e, subcategoria.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\r\n\t\t\t\t\t\t\t<h4>Filtro de categorias</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrarSubcategorias( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Descrição:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.subcatDescricaoIni} name=\"subcatDescricaoIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<SubCategoriaForm \r\n\t\t\t\t\t\t\top=\"cadastrar\" \r\n\t\t\t\t\t\t\ttitulo=\"Registre nova subcategoria\"\r\n\t\t\t\t\t\t\tcategoriaId={this.props.categoriaId} \r\n\t\t\t\t\t\t\tregistrou={ () => this.filtrarSubcategorias( null, false ) } />\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCategorias( e ) }>Ir para categorias</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport CategoriaDetalhes from './categoria-detalhes';\r\nimport CategoriaForm from './categoria-form';\r\n\r\nexport default class Categorias extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\taddErroMsg : null, \r\n\t\t\taddInfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tcategorias : [],\t\t\t\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.descricaoIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.descricaoIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, true );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/categoria/filtra\", {\r\n\t\t\t\"descricaoIni\" : this.descricaoIni.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { categorias : dados } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma categoria registrada!\" } );\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tdetalhes( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <CategoriaDetalhes categoriaId={id}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, id ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, id );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tsistema.wsDelete( \"/api/categoria/deleta/\"+id, (resposta) => {\r\n\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tthis.setState( { infoMsg : \"Categoria removida com êxito!\" } );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, categorias, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de categoria</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover a categoria selecionada?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Categorias</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{categorias.map( ( categoria, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{categoria.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{categoria.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, categoria.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, categoria.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtro de categorias</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Descrição:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricaoIni} name=\"descricaoIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<CategoriaForm \r\n\t\t\t\t\t\t\top=\"cadastrar\"\r\n\t\t\t\t\t\t\ttitulo=\"Cadastre nova categoria\" \r\n\t\t\t\t\t\t\tregistrou={ () => this.filtrar( null, false) } />\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Table, Form, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport ProdutoDetalhes from './produto-detalhes';\r\nimport ProdutoForm from './produto-form';\r\n\r\nimport Categorias from './../categorias/categorias';\r\n\r\nexport default class Produtos extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tprodutos : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\t\t\r\n\t\tthis.descricaoIni = React.createRef();\r\n\t\tthis.codigoBarras = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.descricaoIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tlet descIni = this.descricaoIni.current.value;\r\n\r\n\t\tsistema.wsGet( \"/api/produto/filtra/\"+descIni, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { produtos : dados } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma produto encontrado!\" } );\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tbuscar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\tlet codBarras = this.codigoBarras.current.value; \r\n\r\n\t\tsistema.wsGet( \"/api/produto/busca/\"+codBarras, (resposta) => {\t\r\n\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.codigoBarras.current.value = \"\";\r\n\t\t\t\t\r\n\t\t\t\tthis.setState( { produtos : [ dados ] } );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma produto encontrado!\" } );\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tdetalhes( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <ProdutoDetalhes produtoId={id}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, id ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, id );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsDelete( \"/api/produto/deleta/\"+id, (resposta) => {\r\n\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tthis.setState( { infoMsg : \"Produto removido com êxito!\" } );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tparaCadastroForm( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<ProdutoForm op=\"cadastrar\" titulo=\"Cadastre um novo produto\" />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaCategorias( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <Categorias />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, produtos, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de produto</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o produto selecionado?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button  className=\"float-start\" variant=\"primary\" onClick={ (e) => this.paraCategorias( e ) } >Categorias</Button>\r\n\t\t\t\t\t\t\t<Button  className=\"float-end\" variant=\"primary\" onClick={ (e) => this.paraCadastroForm( e ) } >Cadastre um novo produto</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Lista de Produtos</h4>\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Código de barras</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Preço compra</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Preço venda</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Quantidade</th>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{produtos.map( ( item, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.codigoBarras}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitCompra ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitVenda ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( item.quantidade ) } {item.unidade}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, item.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, item.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t\t<h4>Filtrar produtos</h4>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Descrição:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricaoIni} name=\"descricaoIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.buscar( e ) }>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Codigo de barras:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.codigoBarras} name=\"codigoBarras\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\"variant=\"primary\">Buscar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\n\r\nexport default class InputDropdown extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { id : 'input-dropdown'+new Date().getTime()+Math.random() };\r\n\t\tthis.texto = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\t\t\t\r\n\t\tdocument.getElementById( this.state.id ).style.display = 'none';\r\n\t\tdocument.getElementById( this.state.id ).style.visibility = 'hidden';\t\t\t\t\r\n\t}\r\n\t\r\n\tonChangeTexto( e ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tdocument.getElementById( this.state.id ).style.display = 'block';\r\n\t\tdocument.getElementById( this.state.id ).style.visibility = 'visible';\r\n\t\t\t\t\t\r\n\t\tlet item;\r\n\t\tif ( this.props.referencia !== null && this.props.referencia !== undefined )\r\n\t\t\titem = this.props.referencia.current.value;\t\r\n\t\telse item = this.texto.current.value;\r\n\t\t\t\t\t\t\r\n\t\tif ( typeof( this.props.carregaItens ) === \"function\" ) {\r\n\t\t\tthis.props.carregaItens.call( this, item );\r\n\t\t\tthis.setState( {} );\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickMostraEscondeDropdown( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tvar el = document.getElementById( this.state.id );\r\n\t\tif ( el.style.visibility === 'visible' ) {\r\n\t\t\tel.style.display = 'none';\r\n\t\t\tel.style.visibility = 'hidden';\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\tel.style.display = 'block';\r\n\t\t\tel.style.visibility = 'visible';\r\n\t\t\t\r\n\t\t\tif ( typeof( this.props.carregaItens ) === \"function\" ) {\r\n\t\t\t\tlet item;\r\n\t\t\t\tif ( this.props.referencia !== null && this.props.referencia !== undefined )\r\n\t\t\t\t\titem = this.props.referencia.current.value;\t\r\n\t\t\t\telse item = this.texto.current.value;\r\n\t\t\t\t\r\n\t\t\t\tthis.props.carregaItens.call( this, item );\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonClickItem( e, item, index ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\tdocument.getElementById( this.state.id ).style.display = 'none';\r\n\t\tdocument.getElementById( this.state.id ).style.visibility = 'hidden';\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\tif ( this.props.referencia !== null && this.props.referencia !== undefined )\r\n\t\t\tthis.props.referencia.current.value = item;\t\r\n\t\telse this.texto.current.value = item;\t\r\n\t\t\r\n\t\tif ( typeof( this.props.carregaItens ) === \"function\" ) {\r\n\t\t\tthis.props.carregaItens.call( this, item );\r\n\t\t\tthis.setState( {} );\r\n\t\t}\r\n\t\t\r\n\t\tif ( typeof( this.props.itemClicado ) === \"function\" ) {\r\n\t\t\tthis.props.itemClicado.call( this, item, index );\r\n\t\t\tthis.setState( {} );\r\n\t\t}\r\n\t}\t\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { id } = this.state;\t\t\r\n\t\t\t\t\r\n\t\tlet referencia;\r\n\t\tif ( this.props.referencia !== null && this.props.referencia !== undefined )\r\n\t\t\treferencia = this.props.referencia;\t\r\n\t\telse referencia = this.texto;\t\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t<input type=\"text\" ref={referencia} name=\"texto\" \r\n\t\t\t  \t\t\tonChange={ (e) => this.onChangeTexto( e ) } \r\n\t\t\t\t\t\tonClick={ (e) => this.onClickMostraEscondeDropdown( e ) }\r\n\t\t\t  \t\t\tclassName=\"form-control\" />\r\n\t\t\t  \t\t\t\t\r\n\t\t\t  \t<div id={id} className=\"dropdown-menu\" aria-labelledby=\"texto\">\t\t\t  \t\t\t\t\t  \t\t\t\r\n\t\t\t  \t\t{this.props.itens.map( (item, index) => {\r\n\t\t\t\t\t\treturn( \r\n\t\t\t\t\t\t\t<button key={index} className=\"dropdown-item\"  \r\n\t\t\t\t\t\t\t\tonClick={ (e) => this.onClickItem( e, item, index ) }>\r\n\t\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t</button> \r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t} ) }\t\t \t\r\n\t\t\t  \t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport { Row, Col, Card, Table, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport InputDropdown from './../../componente/input-dropdown';\r\n\r\nexport default class AddCompraProdutoCategorias extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \t\t\t\r\n\t\t\terroMsg : null,\r\n\t\t\tcategoria : '',\r\n\t\t\tsubcategoria : '',\r\n\t\t\tcategoriasLista : [],\r\n\t\t\tsubcategoriasLista : []\r\n\t\t};\t\t\t\t\t\t\t\t\t\t\r\n\t\tthis.categoria = React.createRef();\r\n\t\tthis.subcategoria = React.createRef();\r\n\t}\t\t\t\r\n\t\t\t\r\n\taddCategoria( item ) {\r\n\t\titem.preventDefault();\t\t\t\t\r\n\r\n\t\tthis.setState( { erroMsg : null } );\r\n\t\t\r\n\t\tlet catdesc = this.state.categoria;\r\n\t\tlet subcatdesc = this.state.subcategoria;\r\n\t\t\r\n\t\tif ( catdesc.length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"A categoria é um campo obrigatório\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif ( subcatdesc.length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"A subcategoria (valor) é um campo obrigatório\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\t\t\t\r\n\t\tlet categoria = null;\r\n\t\tfor( let i = 0; categoria === null && i < this.props.categorias.length; i++ ) {\r\n\t\t\tlet cat = this.props.categorias[ i ];\r\n\t\t\tif( cat.descricao.toLowerCase() === catdesc.toLowerCase() ) \r\n\t\t\t\tcategoria = cat;\r\n\t\t}\r\n\t\t\r\n\t\tlet jaInserida = false;\r\n\t\tif ( categoria === null ) {\r\n\t\t\tcategoria = {\r\n\t\t\t\tdescricao : catdesc,\r\n\t\t\t\tsubcategorias : []\r\n\t\t\t}\r\n\t\t\tthis.props.categorias.push( categoria );\r\n\t\t} else {\r\n\t\t\tfor( let i = 0; jaInserida === false && i < categoria.subcategorias.length; i++ ) {\r\n\t\t\t\tlet subcat = categoria.subcategorias[ i ];\r\n\t\t\t\tif ( subcat.descricao.toLowerCase() === subcatdesc.toLowerCase() )\r\n\t\t\t\t\tjaInserida = true;\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif ( jaInserida === false ) {\r\n\t\t\tcategoria.subcategorias.push( {\r\n\t\t\t\tdescricao : subcatdesc\r\n\t\t\t} );\r\n\t\t\t\r\n\t\t\tthis.categoria.current.value = '';\r\n\t\t\tthis.subcategoria.current.value = '';\r\n\t\t\t\r\n\t\t\tthis.setState( { categoria : '', subcategoria : '' } );\r\n\t\t} else {\r\n\t\t\tthis.setState( { erroMsg : 'Já existe inserida combinação de categoria e subcategoria informadas.' } );\r\n\t\t}\r\n\t}\r\n\t\r\n\tremoveCategoria( item, cat, subcat ) {\r\n\t\titem.preventDefault();\r\n\t\t\r\n\t\tlet fim = false;\r\n\t\tlet size = this.props.categorias.length;\r\n\t\tfor( let i = 0; fim === false && i < size; i++ ) {\r\n\t\t\tlet catObj = this.props.categorias[ i ];\r\n\t\t\tif ( catObj.descricao.toLowerCase() === cat.toLowerCase() ) {\r\n\t\t\t\tlet size2 = catObj.subcategorias.length;\r\n\t\t\t\tfor( let j = 0; fim === false && j < size2; j++ ) {\r\n\t\t\t\t\tlet subcatObj = catObj.subcategorias[ j ];\r\n\t\t\t\t\tif ( subcatObj.descricao.toLowerCase() === subcat.toLowerCase() ) {\r\n\t\t\t\t\t\tcatObj.subcategorias.splice( j, 1 );\r\n\t\t\t\t\t\tfim = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( catObj.subcategorias.length <= 0 )\r\n\t\t\t\t\t\tthis.props.categorias.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t\tfim = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState( {} );\r\n\t}\r\n\t\t\t\r\n\tcategoriaOnChange( item ) {\r\n\t\tthis.setState( { categoria : item } );\t\r\n\t\t\r\n\t\tsistema.wsPost( '/api/categoria/filtra/limit/5', {\r\n\t\t\t\"descricaoIni\" : item\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { categoriasLista : [] } );\r\n\t\t\t\t\r\n\t\t\t\tfor( let i = 0; i < dados.length; i++ )\r\n\t\t\t\t\tthis.state.categoriasLista.push( dados[ i ].descricao );\t\t\t\t\t\r\n\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\r\n\t}\r\n\t\r\n\tsubcategoriaOnChange( item ) {\t\t\t\t\t\t\t\t\r\n\t\tif ( this.state.categoria.length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : 'Nenhuma categoria selecionada ou informada.' } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState( { subcategoria : item } );\r\n\t\t\t\t\r\n\t\tsistema.wsPost(\t'/api/subcategoria/filtra/limit/'+this.state.categoria+'/5', {\r\n\t\t\t\"descricaoIni\" : item\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { subcategoriasLista : [] } );\r\n\t\t\t\t\r\n\t\t\t\tfor( let i = 0; i < dados.length; i++ )\r\n\t\t\t\t\tthis.state.subcategoriasLista.push( dados[ i ].descricao );\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\t\t\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, categoriasLista, subcategoriasLista } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t<div>\r\n\t\t\t\t<h4 className=\"text-center\">Lista de categorias</h4>\r\n\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Catetoria</th>\r\n\t\t\t\t\t\t\t\t<th>Subcategoria</th>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.props.categorias.map( ( cat, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\tcat.subcategorias.map( ( subcat, index2 ) => {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index * cat.subcategorias.length + index2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{cat.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{subcat.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(item) => this.removeCategoria( item, cat.descricao, subcat.descricao )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3 my-2\">\r\n\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form.Group className=\"my-2\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t<Form.Label>Categoria</Form.Label>\r\n\t\t\t\t\t\t\t\t<InputDropdown referencia={this.categoria} itens={categoriasLista} carregaItens={ (item) => this.categoriaOnChange( item ) } />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t<Form.Label>Subcategoria (Valor)</Form.Label>\r\n\t\t\t\t\t\t\t\t<InputDropdown referencia={this.subcategoria} itens={subcategoriasLista} carregaItens={ (item) => this.subcategoriaOnChange( item ) } />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t<Form.Label>+</Form.Label>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (item) => this.addCategoria( item ) }>Adicionar categoria</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</Card>\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport { Row, Col, Card, Form, Button } from 'react-bootstrap';\r\nimport { Tab, Tabs, TabPanel, TabList } from 'react-tabs';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport AddCompraProdutoCategorias from './add-compra-produto-categorias';\r\n\r\nexport default class AddCompraProduto extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tcategorias : []\t\t\t\r\n\t\t};\t\t\r\n\t\tthis.descricao = React.createRef();\r\n\t\tthis.codigoBarras = React.createRef();\r\n\t\tthis.precoUnitCompra = React.createRef();\r\n\t\tthis.precoUnitVenda = React.createRef();\r\n\t\tthis.unidade = React.createRef();\r\n\t\tthis.estoqueQuantidade = React.createRef();\t\t\t\t\t\t\t\t\r\n\t\tthis.paraAddQuantidade = React.createRef();\t\t\t\t\t\t\t\t\r\n\t}\t\t\t\r\n\t\r\n\taddProduto( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tif ( this.descricao.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"A descrição é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif ( this.codigoBarras.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"O código de barras é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif ( this.precoUnitCompra.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"O preço unitário de compra é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif ( this.precoUnitVenda.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"O preço unitário de venda é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\t\t\r\n\t\tif ( this.paraAddQuantidade.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"A quantidade é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\tlet produto = {\r\n\t\t\tdescricao : this.descricao.current.value,\r\n\t\t\tcodigoBarras : this.codigoBarras.current.value,\r\n\t\t\tprecoUnitCompra : sistema.paraFloat( this.precoUnitCompra.current.value ),\r\n\t\t\tprecoUnitVenda : sistema.paraFloat( this.precoUnitVenda.current.value ),\r\n\t\t\tunidade : this.unidade.current.value,\r\n\t\t\tparaAddQuantidade : sistema.paraFloat( this.paraAddQuantidade.current.value ),\r\n\t\t\tcategorias : this.state.categorias\r\n\t\t};\t\r\n\t\t\r\n\t\tthis.limpaProdutoForm();\r\n\t\t\r\n\t\tif ( typeof( this.props.produtoAdicionado ) === \"function\" )\r\n\t\t\tthis.props.produtoAdicionado.call( this, produto );\t\t\r\n\t}\t\r\n\t\t\t\r\n\tlimpaProdutoForm() {\r\n\t\tthis.descricao.current.value = \"\";\r\n\t\tthis.codigoBarras.current.value = \"\";\r\n\t\tthis.precoUnitCompra.current.value = \"\";\r\n\t\tthis.precoUnitVenda.current.value = \"\";\r\n\t\tthis.unidade.current.value = \"\";\r\n\t\tthis.paraAddQuantidade.current.value = \"\";\r\n\t\t\r\n\t\tthis.setState( { categorias : [] } );\r\n\t}\r\n\t\r\n\tbuscar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tlet codbar = this.codigoBarras.current.value;\r\n\t\t\r\n\t\tsistema.wsGet( '/api/produto/busca/'+codbar, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.descricao.current.value = dados.descricao;\r\n\t\t\t\tthis.precoUnitCompra.current.value = sistema.formataFloat( dados.precoUnitCompra );\r\n\t\t\t\tthis.precoUnitVenda.current.value = sistema.formataFloat( dados.precoUnitVenda );\r\n\t\t\t\tthis.unidade.current.value = dados.unidade;\r\n\t\t\t\tthis.estoqueQuantidade.current.value = sistema.formataFloat( dados.quantidade );\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { categorias : dados.categorias } );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\r\n\t}\r\n\t\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, categorias } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\r\n\t\t\t<Form onSubmit={(e) => this.addProduto( e ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Tabs forceRenderTabPanel={true}>\r\n\t\t\t\t\t<TabList>\r\n\t\t\t\t\t\t<Tab>Dados do produto</Tab>\r\n\t\t\t\t\t\t<Tab>Categorias</Tab>\r\n\t\t\t\t\t</TabList>\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados do produto</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Form.Label>Descrição: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricao} name=\"descricao\" />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Form.Label>Codigo de barras: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Row className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.codigoBarras} name=\"codigoBarras\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"button\" variant=\"primary\" onClick={ (e) => this.buscar( e ) }>Buscar</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Preço Compra: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.precoUnitCompra} name=\"precoUnitCompra\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Preço Venda: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.precoUnitVenda} name=\"precoUnitVenda\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Unidade: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.unidade} name=\"unidade\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Quantidade para adicionar: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.paraAddQuantidade} name=\"paraAddQuantidade\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Quantidade em estoque: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" disabled={true} ref={this.estoqueQuantidade} name=\"estoqueQuantidade\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<AddCompraProdutoCategorias categorias={categorias} />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\" className=\"my-3\">Adicionar produto</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport { Card, Form } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport InputDropdown from './../../componente/input-dropdown';\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class SetCompraFornecedor extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tfornecedoresLista : []\t\t\r\n\t\t};\t\t\r\n\t}\r\n\t\t\r\n\tfornecedorOnChange( item ) {\t\t\t\r\n\t\tsistema.wsPost( '/api/fornecedor/filtra/limit/5', {\r\n\t\t\t\"empresaIni\" : item\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { fornecedoresLista : [] } );\r\n\t\t\t\t\r\n\t\t\t\tfor( let i = 0; i < dados.length; i++ )\r\n\t\t\t\t\tthis.state.fornecedoresLista.push( dados[ i ].empresa );\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\t\r\n\t}\r\n\t\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, fornecedoresLista } = this.state;\r\n\t\tconst { fornecedorEmpresaRef } = this.props;\r\n\t\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\r\n\t\t\t<Form onSubmit={(e) => this.addFornecedor( e ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3 mb-2\">\r\n\t\t\t\t\t<h4 className=\"card-title\">Configurar fornecedor</h4>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t<Form.Label>Fornecedor: </Form.Label>\r\n\t\t\t\t\t\t<InputDropdown referencia={fornecedorEmpresaRef} itens={fornecedoresLista} carregaItens={ (item) => this.fornecedorOnChange( item ) } />\t\t\t\t\t\t\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport { Table, Form, Button } from 'react-bootstrap';\r\n\r\nimport * as moment from 'moment';\r\n\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class GeraCompraParcelas extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tvencimento : 10\r\n\t\t};\t\t\t\r\n\t}\t\t\r\n\t\t\t\t\r\n\tcalcularParcelas( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tconst { parcelas, produtos } = this.props;\r\n\t\t\t\t\r\n\t\tparcelas.splice( 0, parcelas.length );\r\n\t\t\t\r\n\t\tlet total = 0;\r\n\t\tfor( let i = 0; i < produtos.length; i++ ) {\r\n\t\t\tlet p = produtos[ i ];\r\n\t\t\ttotal += parseFloat( p.precoUnitCompra ) * parseFloat( p.paraAddQuantidade );\r\n\t\t}\r\n\t\t\r\n\t\tlet quantParcelas = this.props.quantParcelasRef.current.value;\r\n\t\tlet valorParcela = total / quantParcelas;\r\n\t\tfor( let i = 1; i <= quantParcelas; i++ ) {\t\t\r\n\t\t\tlet dataPag = moment( new Date() ).add( i, 'M' );\r\n\t\t\tlet dataVenc = moment( dataPag ).add( this.state.vencimento, 'd' );\r\n\t\t\t\r\n\t\t\tparcelas.push( { valor : valorParcela, dataPagamento : dataPag, dataVencimento : dataVenc } );\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.config.valorTotal = total;\r\n\t\tthis.setState( {} );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\t\t\t\t\r\n\t\tconst { parcelas, config, quantParcelasRef } = this.props;\r\n\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t<div className=\"p-3\">\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Parcelas</h4>\r\n\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Valor</th>\r\n\t\t\t\t\t\t\t\t<th>Data pagamento</th>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<th>Data vencimento</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{parcelas.map( ( p, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( p.valor ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataData( p.dataPagamento ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataData( p.dataVencimento ) }</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Form onSubmit={ (e) => this.calcularParcelas( e ) }>\r\n\t\t\t\t\t<Form.Group className=\"my-2\">\t\t\r\n\t\t\t\t\t\t<Form.Label>Valor total: &nbsp;\r\n\t\t\t\t\t\t\t<span className=\"text-primary\">\r\n\t\t\t\t\t\t\t\t{ sistema.formataReal( config.valorTotal ) }\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Form.Label>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group className=\"my-2 col-sm-6\">\r\n\t\t\t\t\t\t<Form.Label>Numero de parcelas</Form.Label>\r\n\t\t\t\t\t\t<Form.Control type=\"text\" ref={quantParcelasRef} name=\"quantParcelas\" />\t\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Calcular parcelas</Button>\t\t\t\t\t\t\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Card, Table, Form, Button } from 'react-bootstrap';\r\nimport { Tab, Tabs, TabPanel, TabList } from 'react-tabs';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport AddCompraProduto from './add-compra-produto';\r\nimport SetCompraFornecedor from './set-compra-fornecedor';\r\nimport GeraCompraParcelas from './gera-compra-parcelas';\r\n\r\nimport Compras from './compras';\r\n\r\nexport default class CompraRegistro extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\tprodutos : [],\r\n\t\t\tparcelas : [],\r\n\t\t\tgeraParcelasConfig : {\r\n\t\t\t\tvalorTotal : 0,\r\n\t\t\t}\r\n\t\t};\t\r\n\t\t\r\n\t\tthis.quantParcelasRef = React.createRef();\r\n\t\tthis.fornecedorEmpresaRef = React.createRef();\r\n\t}\t\t\t\t\r\n\t\r\n\tprodutoAdicionado( produto ) {\r\n\t\tthis.state.produtos.push( produto );\r\n\t\tthis.setState( { parcelas : [] } );\r\n\t\t\r\n\t\tsistema.scrollTo( 'produtos-tbl-pnl' );\r\n\t}\r\n\t\r\n\tremoveProduto( e, index ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.state.produtos.splice( index, 1 );\r\n\t\tthis.setState( { parcelas : [] } );\r\n\t}\r\n\t\r\n\tregistrarCompra( e ) {\r\n\t\tconst { produtos, parcelas } = this.state;\r\n\t\t\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet itensCompra = [];\r\n\t\tfor( let i = 0; i < produtos.length; i++ ) {\r\n\t\t\tlet p = produtos[ i ];\r\n\t\t\titensCompra.push( {\t\t\t\t\r\n\t\t\t\tprecoUnitario : p.precoUnitCompra,\r\n\t\t\t\tquantidade : p.paraAddQuantidade,\r\n\t\t\t\tproduto : {\r\n\t\t\t\t\tdescricao : p.descricao,\r\n\t\t\t\t\tcodigoBarras : p.codigoBarras,\r\n\t\t\t\t\tprecoUnitCompra : p.precoUnitCompra,\r\n\t\t\t\t\tprecoUnitVenda : p.precoUnitVenda,\r\n\t\t\t\t\tunidade : p.unidade,\r\n\t\t\t\t\t\r\n\t\t\t\t\tcategorias : p.categorias,\r\n\t\t\t\t\tquantidade : p.paraAddQuantidade\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\t\r\n\t\tlet parcelasList = [];\r\n\t\tfor( let i = 0; i < parcelas.length; i++ ) {\r\n\t\t\tlet p = parcelas[ i ];\r\n\t\t\tparcelasList.push( {\r\n\t\t\t\tvalor : p.valor,\r\n\t\t\t\tdataPagamento : sistema.formataData( p.dataPagamento ),\r\n\t\t\t\tdataVencimento : sistema.formataData( p.dataVencimento )\r\n\t\t\t} );\r\n\t\t}\r\n\t\t\t\t\r\n\t\tsistema.wsPost( '/api/compra/registra', {\r\n\t\t\tdataCompra : sistema.formataData( new Date() ),\r\n\t\t\tfornecedor : {\r\n\t\t\t\tempresa : this.fornecedorEmpresaRef.current.value\r\n\t\t\t},\r\n\t\t\titensCompra : itensCompra,\r\n\t\t\tparcelas : parcelasList\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.fornecedorEmpresaRef.current.value = '';\r\n\t\t\tthis.quantParcelasRef.current.value = '';\r\n\t\t\tthis.setState( { \r\n\t\t\t\tinfoMsg : 'Compra registrada com êxito',\r\n\t\t\t\tprodutos : [],\r\n\t\t\t\tparcelas : [],\r\n\t\t\t\tgeraParcelasConfig : {\r\n\t\t\t\t\tvalorTotal : 0\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\t\t\t\r\n\t}\r\n\t\t\t\r\n\tparaTelaCompras() {\r\n\t\tReactDOM.render( <Compras />, sistema.paginaElemento() ); \r\n\t}\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, produtos, parcelas, geraParcelasConfig } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\r\n\t\t\t\t<Tabs forceRenderTabPanel={true}>\r\n\t\t\t\t\t<TabList>\r\n\t\t\t\t\t\t<Tab>Produtos</Tab>\r\n\t\t\t\t\t\t<Tab>Fornecedor</Tab>\r\n\t\t\t\t\t\t<Tab>Parcelas</Tab>\r\n\t\t\t\t\t</TabList>\r\n\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Lista de Produtos</h4>\r\n\t\t\t\t\t\t<div id=\"produtos-tbl-pnl\" className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Codigo de Barras</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Quantidade</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Categorias</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{produtos.map( ( p, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ p.descricao }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ p.codigoBarras }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( p.paraAddQuantidade ) } {p.unidade}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{p.categorias.map( (cat, index2) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcat.subcategorias.map( ( subcat, index3 ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={produtos.length + index2 * cat.subcategorias.length + index3}>{subcat.descricao}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removeProduto( e, index )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"my-3\">\r\n\t\t\t\t\t\t\t<AddCompraProduto produtos={produtos} produtoAdicionado={ (p) => this.produtoAdicionado( p ) } />\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t\t</TabPanel>\t\t\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<SetCompraFornecedor fornecedorEmpresaRef={this.fornecedorEmpresaRef} />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<GeraCompraParcelas produtos={produtos} parcelas={parcelas} config={geraParcelasConfig} quantParcelasRef={this.quantParcelasRef} />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t\r\n\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form className=\"text-center\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.registrarCompra( e ) }>Registrar compra</Button>\r\n\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t</Card>\t\t\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCompras( e ) }>Ir para tela de compras</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Container, Row, Col, Card, Table, Form } from 'react-bootstrap';\r\nimport { Tab, Tabs, TabPanel, TabList } from 'react-tabs';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport Compras from './compras';\r\n\r\nexport default class CompraRegistro extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\tcompra : { parcelas : [], itens : [], fornecedor : { empresa : '' } },\r\n\t\t\t\r\n\t\t\ttotal : 0, \r\n\t\t\tvalorPago : 0, \r\n\t\t\tdebito : 0\r\n\t\t};\t\t\t\t\t\t\t\t\r\n\t}\t\t\t\t\r\n\t\r\n\tcomponentDidMount() {\t\r\n\t\tsistema.wsGet( '/api/compra/get/'+this.props.compraId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tlet total = 0;\r\n\t\t\t\tlet valorPago = 0;\t\t\t\t\t\r\n\t\t\t\tfor( let i = 0; i < dados.parcelas.length; i++ ) {\r\n\t\t\t\t\tlet valor = sistema.paraFloat( dados.parcelas[ i ].valor );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.parcelas[ i ].paga === 'true' )\r\n\t\t\t\t\t\tvalorPago += valor;\r\n\t\t\t\t\t\r\n\t\t\t\t\ttotal += valor;\t\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tlet debito = total - valorPago;\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.setState( { compra : dados, total : total, valorPago : valorPago, debito : debito } );\r\n\t\t\t} );\r\n\t\t}, this );\t\r\n\t}\r\n\t\r\n\tparaTelaCompras() {\r\n\t\tReactDOM.render( <Compras />, sistema.paginaElemento() ); \r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, compra, total, valorPago, debito } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<Container>\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<h4>Dados da compra</h4>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div>Data de compra: &nbsp; <span className=\"text-info\">{compra.dataCompra}</span></div>\r\n\t\t\t\t\t<div>Fornecedor: &nbsp; <span className=\"text-info\">{compra.fornecedor.empresa}</span></div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Tabs>\r\n\t\t\t\t\t\t<TabList>\r\n\t\t\t\t\t\t\t<Tab>Produtos</Tab>\r\n\t\t\t\t\t\t\t<Tab>Parcelas</Tab>\r\n\t\t\t\t\t\t</TabList>\r\n\t\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Codigo de barras</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Valor Unitário</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Quantidade comprada</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{compra.itens.map( (item, index) => {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.id }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.descricao }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.codigoBarras }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitario ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( item.quantidade ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t\t{ compra.parcelas.length === 0 ?\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"info\" msg=\"Nenhuma parcela registrada para esta compra!\" /> : \r\n\t\t\t\t\t\t\t\t<span></span> \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Valor</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Data de pagamento</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Data de vencimento</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Situação</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{compra.parcelas.map( (item, index) => {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.valor ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.dataPagamento }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.dataVencimento }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className={item.paga === 'true' ? \"text-primary\" : \"text-danger\" }>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ ( item.paga === 'true' ? 'Paga' : 'Em débito' ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form.Group style={{fontSize: '1.6em'}}>\r\n\t\t\t\t\t\t\t\t<Form.Label>Total: &nbsp;<span className=\"text-primary\">{ sistema.formataReal( total ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Valor pago: &nbsp;<span className=\"text-primary\">{ sistema.formataReal( valorPago ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Débito: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( debito ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</TabPanel>\t\t\t\t\t\t\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCompras( e ) }>Ir para tela de compras</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport DatePicker from 'react-datepicker';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CompraRegistro from './compra-registro';\r\nimport CompraDetalhes from './compra-detalhes';\r\n\r\nexport default class Compras extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tcompras : [],\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\t\t\t\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.filtrar( null, false );\r\n\t}\r\n\t\t\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/compra/filtra\", {\r\n\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim )\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { compras : dados } );\t\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma compra encontrada pelos critérios de busca informados!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\t\r\n\t}\r\n\t\r\n\tchangeDataIni( date ) {\r\n\t\tthis.setState( { dataIni : date } );\t\t\r\n\t}\r\n\t\r\n\tchangeDataFim( date ) {\r\n\t\tthis.setState( { dataFim : date } );\r\n\t}\r\n\t\r\n\tdetalhes( e, compraId ) {\r\n\t\tReactDOM.render( <CompraDetalhes compraId={compraId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, compraId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, compraId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, compraId, instance ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tsistema.wsDelete( '/api/compra/deleta/'+compraId, (resposta) => {\r\n\t\t\tthis.filtrar( null, false );\r\n\t\t\tthis.setState( { infoMsg : 'Compra deletada com êxito.' } );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tparaRegistroForm( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <CompraRegistro />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, compras, dataIni, dataFim, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de compra</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tTem certeza que deseja remover a compra selecionada? <br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<b>Atenção:</b> Ao escolher remover a compra, esteja ciente que será\r\n\t\t\t\t\t\tatualizado o estoque com a subtração das unidades de produto componentes\r\n\t\t\t\t\t\tda compra!\t\t\t\t\t\t\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\"  onClick={ (e) => this.paraRegistroForm(e)}>Registre uma nova compra</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Lista de Compras</h4>\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Data compra</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Valor total</th>\t\r\n\t\t\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{compras.map( ( compra, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{compra.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{compra.dataCompra}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( compra.debitoTotal ) }</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, compra.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, compra.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar compras</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataIni( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataFim( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-md-4\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mb-2\">&nbsp;</div>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Clientes from './clientes';\r\n\r\nexport default class ClienteForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t\tthis.telefone = React.createRef();\r\n\t\tthis.email = React.createRef();\r\n\t\t\r\n\t\tthis.ender = React.createRef();\r\n\t\tthis.numero = React.createRef();\r\n\t\tthis.logradouro = React.createRef();\r\n\t\tthis.bairro = React.createRef();\r\n\t\tthis.cidade = React.createRef();\r\n\t\tthis.uf = React.createRef();\t\t\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carregaCliente();\t\t\r\n\t}\r\n\t\r\n\tcarregaCliente() {\r\n\t\tsistema.wsGet( '/api/cliente/get/'+this.props.clienteId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.nome.current.value = dados.pessoa.nome;\r\n\t\t\t\tthis.telefone.current.value = dados.pessoa.telefone;\r\n\t\t\t\tthis.email.current.value = dados.pessoa.email;\r\n\t\t\t\t\r\n\t\t\t\tthis.ender.current.value = dados.pessoa.endereco.ender;\r\n\t\t\t\tthis.numero.current.value = dados.pessoa.endereco.numero;\r\n\t\t\t\tthis.logradouro.current.value = dados.pessoa.endereco.logradouro;\r\n\t\t\t\tthis.bairro.current.value = dados.pessoa.endereco.bairro;\r\n\t\t\t\tthis.cidade.current.value = dados.pessoa.endereco.cidade;\r\n\t\t\t\tthis.uf.current.value = dados.pessoa.endereco.uf;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/cliente/atualiza/\"+this.props.clienteId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/cliente/registra\";\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\t\r\n\t\tsistema.wsSave( url, metodo, {\r\n\t\t\t\"pessoa\" : {\r\n\t\t\t\t\"nome\" : this.nome.current.value,\r\n\t\t\t\t\"telefone\" : this.telefone.current.value,\t\t\t\t\r\n\t\t\t\t\"email\" : this.email.current.value,\r\n\t\t\t\t\r\n\t\t\t\t\"endereco\" : {\r\n\t\t\t\t\t\"ender\" : this.ender.current.value,\r\n\t\t\t\t\t\"numero\" : this.numero.current.value,\r\n\t\t\t\t\t\"bairro\" : this.bairro.current.value,\r\n\t\t\t\t\t\"cidade\" : this.cidade.current.value,\r\n\t\t\t\t\t\"uf\" : this.uf.current.value,\r\n\t\t\t\t\t\"logradouro\" : this.logradouro.current.value\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Cliente salvo com sucesso.\" } );\r\n\t\t}, this );\t\t\t\t\t\r\n\t}\r\n\t\r\n\t\r\n\tparaTelaClientes() {\r\n\t\tReactDOM.render( <Clientes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Registro de cliente</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Telefone: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"tel\" ref={this.telefone} name=\"tel\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>E-Mail: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"email\" ref={this.email} name=\"email\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Endereço</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Ender:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.ender} name=\"ender\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Numero:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.numero} name=\"numero\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Logradouro:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.logradouro} name=\"logradouro\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Bairro:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.bairro} name=\"bairro\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Cidade:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.cidade} name=\"cidade\" size=\"30\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>UF:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.uf} name=\"uf\" size=\"10\" />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaClientes( e ) }>Ir para clientes</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport ClienteForm from './cliente-form';\r\nimport Clientes from './clientes';\r\n\r\nexport default class ClienteDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tcliente : {\r\n\t\t\t\tpessoa : {\r\n\t\t\t\t\tendereco : {}\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tsistema.wsGet( \"/api/cliente/get/\"+this.props.clienteId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { cliente : dados } );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<ClienteForm op=\"editar\" clienteId={this.props.clienteId} />,\r\n\t\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\tparaTelaClientes() {\r\n\t\tReactDOM.render( <Clientes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { cliente, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Dados do cliente</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4>Dados gerais</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Nome: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.nome}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Telefone: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.telefone}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">E-Mail: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.email}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Endereço</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Ender: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.ender}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Numero: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.numero}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Logradouro: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.logradouro}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Bairro: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.bairro}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Cidade: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.cidade}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">UF: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.uf}</span>\r\n\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar cliente</Button>\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaClientes( e ) }>Ir para clientes</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport ClienteDetalhes from './cliente-detalhes';\r\nimport ClienteForm from './cliente-form';\r\n\r\nexport default class Clientes extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tclientes : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\r\n\r\n\t\tthis.nomeIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.nomeIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/cliente/filtra\", {\r\n\t\t\tnomeIni : this.nomeIni.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { clientes : dados } );\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum cliente encontrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\t\r\n\t}\r\n\t\t\t\r\n\tdetalhes( e, clienteId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <ClienteDetalhes clienteId={clienteId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\r\n\tremoverSeConfirmado( e, clienteId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, clienteId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, clienteId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsDelete( \"/api/cliente/deleta/\"+clienteId, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Cliente removido com êxito!\" } );\r\n\t\t\tthis.filtrar( null, false );\t\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <ClienteForm op=\"cadastrar\" />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, clientes, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de cliente</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o cliente selecionado?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\"  onClick={ (e) => this.paraTelaRegistro(e)}>Registrar novo cliente</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center col-md-12\">Lista de Clientes</h4>\t\t\t\t\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome</th>\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{clientes.map( ( cliente, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{cliente.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{cliente.pessoa.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, cliente.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, cliente.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-6\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar clientes</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nomeIni} name=\"nomeIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t \r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Row, Col, Card, Table, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport InputDropdown from './../../componente/input-dropdown';\r\n\r\nimport Vendas from './vendas';\r\n\r\nexport default class VendaRegistro extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\r\n\t\t\titens : [],\r\n\t\t\tformasPag : [],\r\n\t\t\t\r\n\t\t\tquantValorPadrao : 1,\r\n\t\t\t\r\n\t\t\tclientesNomeLista : [],\r\n\t\t\tclienteId : -1,\r\n\t\t\tclienteNome : '',\r\n\t\t\tincluirCliente : false,\r\n\t\t\t\r\n\t\t\tsubtotal : 0,\r\n\t\t\tdesconto : 0,\r\n\t\t\ttotal : 0,\r\n\t\t\ttroco : 0\r\n\t\t};\t\t\t\r\n\t\tthis.codigoBarras = React.createRef();\r\n\t\tthis.desconto = React.createRef();\r\n\t\tthis.formaPag = React.createRef();\r\n\t\tthis.valorPago = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.carregaFormasPagamento();\r\n\t}\r\n\t\r\n\tcarregaFormasPagamento() {\r\n\t\tsistema.wsGet( '/api/pagamento/formas/', (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { formasPag : dados } );\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\r\n\taddItemVenda( e ) {\r\n\t\tlet codigoBarras = this.codigoBarras.current.value;\r\n\t\t\t\r\n\t\tsistema.wsGet( '/api/produto/busca/'+codigoBarras, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.state.itens.unshift( {\r\n\t\t\t\t\tcodigoBarras : codigoBarras,\r\n\t\t\t\t\tdescricao : dados.descricao,\r\n\t\t\t\t\tcategorias : dados.categorias,\r\n\t\t\t\t\tprecoUnitario : dados.precoUnitVenda, \t\r\n\t\t\t\t\tunidade : dados.unidade,\r\n\t\t\t\t\testoqueQuantidade : dados.quantidade,\r\n\t\t\t\t\tquantidade : 1\r\n\t\t\t\t} );\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.codigoBarras.current.value = '';\r\n\t\t\t\t\r\n\t\t\t\tthis.calcularTotal( e );\t\t\r\n\t\t\t\t\r\n\t\t\t\tsistema.scrollTo( 'produtos-tbl-pnl' );\r\n\t\t\t\t\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\t\t\r\n\t\t\t\r\n\tremoverItemVenda( e, index ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tthis.state.itens.splice( index, 1 );\r\n\t\t\r\n\t\tthis.calcularTotal( e );\t\t\r\n\t\t\r\n\t\tthis.setState( {} );\r\n\t}\r\n\t\t\r\n\tefetuarVenda( e ) {\r\n\t\tconst { itens } = this.state;\r\n\t\t\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tlet itensVenda = [];\r\n\t\tfor( let i = 0; i < itens.length; i++ ) {\r\n\t\t\tlet quant = parseFloat( itens[ i ].quantidade );\r\n\t\t\tif( isNaN( quant ) === true ) {\r\n\t\t\t\tthis.setState( { erroMsg : \"Quantidade em formato inválido. Quantidade=\"+quant } );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet estQ = parseFloat( itens[ i ].estoqueQuantidade );\r\n\t\t\tif ( quant > estQ ) {\r\n\t\t\t\tlet q1 = sistema.formataFloat( quant );\r\n\t\t\t\tlet q2 = sistema.formataFloat( estQ );\r\n\t\t\t\tthis.setState( { erroMsg : \"Não há quantidade suficiente em estoque. ( \"+q1+\">\"+q2+\"  ), Produto= \"+itens[ i ].descricao } );\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\titensVenda.push( {\r\n\t\t\t\tcodigoBarras : itens[ i ].codigoBarras,\r\n\t\t\t\tquantidade : itens[ i ].quantidade,\r\n\t\t\t\tprecoUnitario : sistema.paraFloat( itens[ i ].precoUnitario )\r\n\t\t\t} );\r\n\t\t}\r\n\t\t\r\n\t\tsistema.wsPost( '/api/venda/efetua/'+sistema.usuario.id, {\r\n\t\t\tsubtotal : sistema.paraFloat( this.state.subtotal ),\r\n\t\t\tdesconto : sistema.paraFloat( this.state.desconto ),\r\n\t\t\tformaPag : this.formaPag.current.value,\r\n\t\t\tincluirCliente : this.state.incluirCliente,\r\n\t\t\tclienteNome : this.state.clienteNome,\r\n\t\t\titensVenda : itensVenda\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.valorPago.current.value = '';\r\n\t\t\tthis.desconto.current.value = '';\r\n\t\t\tthis.formaPag.current.value = '';\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\tthis.setState( { \r\n\t\t\t\tinfoMsg : 'Venda registrada com êxito',\r\n\t\t\t\titens : [],\r\n\t\t\t\tsubtotal : 0,\r\n\t\t\t\ttotal : 0,\r\n\t\t\t\ttroco : 0\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\r\n\tquantidadeItemProdOnChange( e, index ) {\t\t\r\n\t\tlet itens = this.state.itens;\t\t\t\t\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet quant = sistema.paraFloat( e.target.value );\r\n\t\titens[ index ].quantidade = quant;\r\n\t\t\r\n\t\tif ( e.target.value.trim().length > 0 )\t{\r\n\t\t\tlet estoqueQuant = parseFloat( itens[ index ].estoqueQuantidade );\r\n\r\n\t\t\tif ( isNaN( quant ) === false ) {\r\n\t\t\t\tif ( quant <= estoqueQuant ) {\t\t\t\t\t\r\n\t\t\t\t\tthis.calcularTotal( e );\r\n\t\t\t\t\tthis.setState( { itens : itens } );\r\n\t\t\t\t} else {\t\t\t\t\t\r\n\t\t\t\t\tlet descricao = itens[ index ].descricao;\r\n\t\t\t\t\tthis.setState( { erroMsg : \"Quantidade informada maior que a quantidade em estoque. Produto=\"+descricao } );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState( { itens : itens } );\r\n\t\t\t}\r\n\t\t}\t\t\t\t\r\n\t}\r\n\t\t\r\n\tincluirClienteOnChange( e ) {\r\n\t\tthis.setState( { incluirCliente : e.target.checked } );\r\n\t}\r\n\t\t\r\n\tclienteNomeOnChange( item ) {\t\r\n\t\tthis.setState( { clienteNome : item } );\r\n\t\t\r\n\t\tsistema.wsPost( '/api/cliente/filtra/limit/5', {\r\n\t\t\t\"nomeIni\" : item\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { clientesNomeLista : [] } );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tfor( let i = 0; i < dados.length; i++ )\r\n\t\t\t\t\tthis.state.clientesNomeLista.push( dados[ i ].pessoa.nome );\t\t\t\t\t\r\n\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tcalcularTotal( e ) {\r\n\t\tconst { itens } = this.state;\r\n\t\t\t\t\r\n\t\tlet desconto = parseFloat( sistema.paraFloat( this.desconto.current.value ) );\r\n\t\tif ( isNaN( desconto ) === true ) {\r\n\t\t\tdesconto = 0;\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\tdesconto /= 100.0;\r\n\t\t}\t\t\t\r\n\t\t\t\t\r\n\t\tfor( let i = 0; i < itens.length; i++ ) {\r\n\t\t\tif ( isNaN( itens[ i ].precoUnitario ) ) {\r\n\t\t\t\tthis.setState( { erroMsg : 'Preço unitário em formato inválido' } );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet quant = parseFloat( itens[ i ].quantidade );\r\n\t\t\tif( isNaN( quant ) === true )\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tif ( quant > itens[ i ].estoqueQuantidade ) {\r\n\t\t\t\tthis.setState( { erroMsg : \"Quantidade maior que a quantidade em estoque para o produto: \"+itens[ i ].descricao } );\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\t\r\n\t\tlet subtotal = 0;\r\n\t\tfor( let i = 0; i < itens.length; i++ )\r\n\t\t\tsubtotal += parseFloat( itens[ i ].quantidade ) * parseFloat( itens[ i ].precoUnitario );\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\tlet total = subtotal * ( 1.0 - desconto );\t\t\r\n\t\t\r\n\t\tlet valorPago = parseFloat( sistema.paraFloat( this.valorPago.current.value ) );\r\n\t\t\r\n\t\tlet troco = 0;\r\n\t\tif ( !isNaN( valorPago ) )\r\n\t\t\ttroco = sistema.paraFloat( this.valorPago.current.value ) - total;\t\t\r\n\t\t\r\n\t\tthis.setState( { desconto : desconto, subtotal : subtotal, total : total, troco : troco } );\r\n\t}\r\n\t\t\t\r\n\tparaTelaVendas() {\r\n\t\tReactDOM.render( <Vendas />, sistema.paginaElemento() ); \r\n\t}\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, itens, formasPag, quantValorPadrao, subtotal, total, troco, clientesNomeLista, incluirCliente } = this.state;\r\n\t\t\t\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Produtos</h4>\r\n\t\t\t\t<div id=\"produtos-tbl-pnl\" className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t<th>Codigo de Barras</th>\r\n\t\t\t\t\t\t\t\t<th>Preço unitário</th>\r\n\t\t\t\t\t\t\t\t<th>Quant. Estoque</th>\r\n\t\t\t\t\t\t\t\t<th>Quantidade</th>\r\n\t\t\t\t\t\t\t\t<th>Unidade</th>\r\n\t\t\t\t\t\t\t\t<th>Categorias</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{itens.map( ( item, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ item.descricao }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ item.codigoBarras }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitario ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( item.estoqueQuantidade ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" onChange={ (e) => this.quantidadeItemProdOnChange( e, index ) } defaultValue={quantValorPadrao} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ item.unidade }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ item.categorias.map( (item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.subcategorias.map( (subitem, index2) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={index} value={subitem.descricao}>{subitem.descricao}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t} )}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerItemVenda( e, index )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\t\t\t\r\n\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"p-3 bg-light\">\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<div style={{fontSize : '1.6em' }}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Subtotal: &nbsp; <span className=\"text-danger\">{ sistema.formataReal( subtotal ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Desconto (%): &nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<input className=\"border-light rounded text-danger\" type=\"text\" ref={this.desconto} name=\"desconto\" onChange={ (e) => this.calcularTotal( e ) } />\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\t\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Total: &nbsp; <span className=\"text-danger\">{ sistema.formataReal( total ) }</span></Form.Label>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t<span>Valor pago (R$): </span> \r\n\t\t\t\t\t\t\t\t\t\t<input className=\"border-light rounded text-danger\" type=\"text\" ref={this.valorPago} name=\"valorPago\" onChange={ (e) => this.calcularTotal( e ) } />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t</Col>\t\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Troco: &nbsp; <span className=\"text-danger\">{ sistema.formataReal( troco ) }</span></Form.Label>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Form onSubmit={ (e) => this.efetuarVenda( e ) }>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t<h4>Incluir produtos</h4>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-8\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Codigo de barras</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.codigoBarras} name=\"codigoBarras\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.addItemVenda( e ) }>Adicionar produto</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t<h4>Forma de pagamento</h4>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Formas de pagamento: &nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<select name=\"formaPag\" ref={this.formaPag} className=\"form-control\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key=\"0\" value=\"NONE\">Selecione uma forma!</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ formasPag.map( (item, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={i} value={item}>{item}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t} )\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" defaultValue={incluirCliente} onChange={ (e) => this.incluirClienteOnChange( e ) } /> \r\n\t\t\t\t\t\t\t\t\t\t&nbsp; Incluir cliente\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{ incluirCliente === true && (\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>Informe um cliente</h5>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<InputDropdown \r\n\t\t\t\t\t\t\t\t\t\t\treferencia={this.clienteNome} \r\n\t\t\t\t\t\t\t\t\t\t\titens={clientesNomeLista} \r\n\t\t\t\t\t\t\t\t\t\t\tcarregaItens={ (item) => this.clienteNomeOnChange( item ) } />\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3 text-left\">\t\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.efetuarVenda( e ) }>Efetuar venda</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaVendas( e ) }>Ir para tela de vendas</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Row, Col, Card, Table } from 'react-bootstrap';\r\nimport { Tab, Tabs, TabPanel, TabList } from 'react-tabs';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport Vendas from './vendas';\r\n\r\nexport default class VendaDetalhes extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\tvenda : { cliente : { pessoa : {} }, itens : [] }\r\n\t\t};\t\t\t\t\t\t\t\t\r\n\t}\t\t\t\t\r\n\t\r\n\tcomponentDidMount() {\t\r\n\t\tsistema.wsGet( '/api/venda/get/'+this.props.vendaId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { venda : dados } );\r\n\t\t\t} );\r\n\t\t}, this );\t\r\n\t}\r\n\t\r\n\tparaTelaVendas() {\r\n\t\tReactDOM.render( <Vendas />, sistema.paginaElemento() ); \r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, venda } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\r\n\t\t\t\t<h4>Dados da venda</h4>\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t<Tabs>\r\n\t\t\t\t\t<TabList>\r\n\t\t\t\t\t\t<Tab>Detalhes</Tab>\r\n\t\t\t\t\t\t<Tab>Produtos</Tab>\r\n\t\t\t\t\t</TabList>\r\n\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Cliente: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-success\">{ venda.cliente.pessoa.nome }</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Data de venda: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-success\">{ venda.dataVenda }</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Sub total: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{ sistema.formataReal( venda.subtotal ) }</span>\r\n\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Desconto: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{ sistema.formataFloat( venda.desconto * 100 )} %</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{ sistema.formataReal( venda.subtotal * ( 1.0 - parseFloat( venda.desconto ) ) )}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Debito: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{ sistema.formataReal( venda.debito ) }</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Forma de pagamento: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-success\">{ venda.formaPag }</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</TabPanel>\t\t\r\n\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Codigo de barras</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Valor Unitário</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Quantidade</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Unidade</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{venda.itens.map( (item, index) => {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.id }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.descricao }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.codigoBarras }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitario ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( item.quantidade ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.unidade }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPanel>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaVendas( e ) }>Ir para tela de vendas</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Row, Col, Card, Table, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport InputDropdown from './../../componente/input-dropdown';\r\n\r\nimport Vendas from './vendas';\r\n\r\nexport default class VendasPagamento extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\t\t\t\t\r\n\t\t\tclientes : [],\r\n\t\t\tclientesNomeLista : [],\r\n\t\t\tclienteId : -1,\r\n\t\t\tclienteNome : '',\r\n\t\t\t\r\n\t\t\tvendas : [],\r\n\t\t\t\r\n\t\t\tdebito : 0\r\n\t\t};\r\n\t\tthis.valorPago = React.createRef();\r\n\t}\r\n\t\r\n\tefetuarPagamento( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tlet clienteId = this.state.clienteId;\r\n\t\t\r\n\t\tsistema.wsPost( '/api/venda/efetuarecebimento/'+clienteId, {\r\n\t\t\t\"valor\" : sistema.paraFloat( this.valorPago.current.value )\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.valorPago.current.value = '';\r\n\t\t\tthis.carregaVendas( clienteId );\r\n\t\t\tthis.setState( { infoMsg : 'Pagamento efetuado com sucesso' } );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\t\t\t\t\r\n\tclienteNomeItemClicado( item, index ) {\r\n\t\tconst { clientes } = this.state;\r\n\t\t\t\t\r\n\t\tlet clienteId = clientes[ index ].clienteId;\t\t\r\n\t\t\r\n\t\tthis.setState( { clienteId : clienteId } );\r\n\t\t\r\n\t\tthis.carregaVendas( clienteId );\r\n\t}\t\r\n\r\n\tcarregaVendas( clienteId ) {\r\n\t\tsistema.wsGet( '/api/venda/lista/porcliente/'+clienteId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tlet vendas = dados;\r\n\t\t\t\t\r\n\t\t\t\tlet debito = 0;\r\n\t\t\t\tfor( let i = 0; i < vendas.length; i++ ) {\r\n\t\t\t\t\tlet subtotal = sistema.paraFloat( vendas[ i ].subtotal );\r\n\t\t\t\t\tlet desconto = sistema.paraFloat( vendas[ i ].desconto );\r\n\t\t\t\t\tvendas[ i ].total = subtotal * ( 1.0 - desconto );\r\n\r\n\t\t\t\t\tdebito += sistema.paraFloat( vendas[ i ].debito );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setState( { debito : debito, vendas : vendas } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 ) \r\n\t\t\t\t\tthis.setState( { infoMsg : 'O cliente está adimplente.' } );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\t\t\r\n\tclienteNomeOnChange( item ) {\t\r\n\t\tsistema.wsPost( '/api/cliente/filtra/limit/5', {\r\n\t\t\t\"nomeIni\" : item\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { clientes : [], clientesNomeLista : [] } );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tfor( let i = 0; i < dados.length; i++ ) {\r\n\t\t\t\t\tthis.state.clientes.push( {\r\n\t\t\t\t\t\tclienteId : dados[ i ].id,\r\n\t\t\t\t\t\tclienteNome : dados[ i ].pessoa.nome \r\n\t\t\t\t\t} );\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.state.clientesNomeLista.push( dados[ i ].pessoa.nome );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\t\t\t\r\n\tparaTelaVendas() {\r\n\t\tReactDOM.render( <Vendas />, sistema.paginaElemento() ); \r\n\t}\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, clientesNomeLista, vendas, debito } = this.state;\r\n\t\t\t\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Pagamentos</h4>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>\r\n\t\t\t\t\t\t\t\t\t<h5>Informe o cliente: </h5>\r\n\t\t\t\t\t\t\t\t</Form.Label>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<InputDropdown \r\n\t\t\t\t\t\t\t\t\treferencia={this.clienteNome} \r\n\t\t\t\t\t\t\t\t\titens={clientesNomeLista} \r\n\t\t\t\t\t\t\t\t\tcarregaItens={ (item) => this.clienteNomeOnChange( item ) } \r\n\t\t\t\t\t\t\t\t\titemClicado={ (item, index) => this.clienteNomeItemClicado( item, index ) } />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<span className=\"display-inline\" style={{fontSize : '1.6em'}}> \r\n\t\t\t\t\t\t\t\tDébito total: &nbsp;\r\n\t\t\t\t\t\t\t\t<span className=\"text-danger\">{sistema.formataReal( debito ) }</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de vendas</h4>\r\n\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Data venda</th>\r\n\t\t\t\t\t\t\t\t<th>total</th>\r\n\t\t\t\t\t\t\t\t<th>Débito</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{vendas.map( (venda, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{venda.dataVenda}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.total ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.debito ) }</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3 col-sm-6\">\r\n\t\t\t\t\t<h4>Efetuar pagamento</h4>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t<Form.Label>Valor pago: </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.valorPago} name=\"valorPago\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.efetuarPagamento( e ) }>Efetuar pagamento</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaVendas( e ) }>Ir para tela de vendas</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport DatePicker from 'react-datepicker';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport VendaRegistro from './venda-registro';\r\nimport VendaDetalhes from './venda-detalhes';\r\n\r\nimport VendasPagamento from './vendas-pagamento';\r\n\r\nexport default class Vendas extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tvendas : [],\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\t\t\r\n\r\n\t\tthis.incluirCliente = React.createRef();\r\n\t\tthis.clienteNomeIni = React.createRef();\r\n\t\tthis.incluirVendasPagas = React.createRef();\r\n\t}\r\n\t\t\t\r\n\tcomponentDidMount() {\r\n\t\tthis.incluirCliente.current.checked = false;\r\n\t\tthis.filtrar( null, false );\t\r\n\t}\t\t\r\n\t\t\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tsistema.wsPost( \"/api/venda/filtra\", {\r\n\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim ),\r\n\t\t\t\"incluirCliente\" : this.incluirCliente.current.checked,\r\n\t\t\t\"clienteNomeIni\" : this.clienteNomeIni.current.value,\r\n\t\t\t\"incluirPagas\" : this.incluirVendasPagas.current.checked\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { vendas : dados } );\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma venda encontrada pelos critérios de busca informados!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tchangeDataIni( date ) {\r\n\t\tthis.setState( { dataIni : date } );\t\t\r\n\t}\r\n\t\r\n\tchangeDataFim( date ) {\r\n\t\tthis.setState( { dataFim : date } );\r\n\t}\r\n\t\r\n\tdetalhes( e, vendaId ) {\r\n\t\tReactDOM.render( <VendaDetalhes vendaId={vendaId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, vendaId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, vendaId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, vendaId, instance ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tsistema.wsDelete( '/api/venda/deleta/'+vendaId, (resposta) => {\r\n\t\t\tthis.filtrar( null, false );\r\n\t\t\tthis.setState( { infoMsg : 'Venda deletada com êxito.' } );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tparaTelaPagamentos( e ) {\t\t\r\n\t\tReactDOM.render( <VendasPagamento />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaRegistroForm( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <VendaRegistro />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, vendas, dataIni, dataFim, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de venda</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tTem certeza que deseja remover a venda selecionada? <br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<b>Atenção:</b> Ao escolher remover a venda, esteja ciente que será\r\n\t\t\t\t\t\tatualizado o estoque com a adição das unidades de produto componentes\r\n\t\t\t\t\t\tda venda!\t\t\t\t\t\t\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"float-start\" onClick={ (e) => this.paraTelaPagamentos(e) }>Efetue um pagamento</Button>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"float-end\" onClick={ (e) => this.paraRegistroForm(e) }>Registre uma nova venda</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<h3 className=\"text-center\">Lista de Vendas</h3>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Data venda</th>\r\n\t\t\t\t\t\t\t\t<th>Cliente</th>\r\n\t\t\t\t\t\t\t\t<th>Total</th>\t\r\n\t\t\t\t\t\t\t\t<th>Debito</th>\t\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{vendas.map( ( venda, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{venda.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{venda.dataVenda}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{venda.cliente.pessoa.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.subtotal * ( 1.0 - venda.desconto ) ) }</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.debito ) }</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, venda.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, venda.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<h4>Filtrar vendas</h4>\r\n\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataIni( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataFim( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\t\t\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirVendasPagas} /> &nbsp; Incluir vendas pagas\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col className=\"col-md-6\">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Cliente: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.clienteNomeIni} name=\"clienteNomeIni\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirCliente} />Incluir cliente no filtro\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t</Card>\t\t\r\n\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Caixa from './caixa';\r\n\r\nexport default class CaixaAbertura extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null\r\n\t\t};\t\t\r\n\t\t\r\n\t\tthis.valorInicial = React.createRef();\r\n\t}\r\n\t\t\t\t\t\t\r\n\tabrir( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tsistema.wsPost(\t\"/api/caixa/abre/\"+sistema.usuario.id, {\r\n\t\t\tlancamento : {\r\n\t\t\t\t\"tipo\" : \"CREDITO\",\r\n\t\t\t\t\"valor\" : sistema.paraFloat( this.valorInicial.current.value )\r\n\t\t\t}\r\n\t\t}, (request) => {\r\n\t\t\tthis.setState( { infoMsg : \"Caixa aberto com sucesso.\" } );\r\n\t\t}, this );\t\t\t\r\n\t\t\t\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaCaixa() {\r\n\t\tReactDOM.render( <Caixa />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg} = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Abertura de caixa</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.abrir( e, true ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-md-6\">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Valor inicial: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.valorInicial} name=\"valorInicial\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Abrir caixa</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCaixa() }>Ir para tela caixa</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaLancamentos from './caixa-lancamentos';\r\n\r\nexport default class CaixaLancamentoNovo extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\t\r\n\t\t\ttipos : []\r\n\t\t};\t\t\r\n\t\t\r\n\t\tthis.tipo = React.createRef();\r\n\t\tthis.valor = React.createRef();\r\n\t\tthis.obs = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.carregaTipos();\r\n\t\t\t\t\r\n\t\tthis.valor.current.value = \"\";\t\r\n\t\tthis.obs.current.value = \"\";\r\n\t}\r\n\t\r\n\tcarregaTipos() {\r\n\t\tsistema.wsGet( '/api/lancamento/tipos', (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { tipos : dados } );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\t\t\t\t\r\n\tnovo( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tsistema.wsPost( \"/api/lancamento/novo/hoje/\"+sistema.usuario.id, {\r\n\t\t\ttipo : this.tipo.current.value,\r\n\t\t\tvalor : sistema.paraFloat( this.valor.current.value ),\t\t\t\t\r\n\t\t\tobs : this.obs.current.value\r\n\t\t}, (response) => {\r\n\t\t\tthis.setState( { infoMsg : \"Lançamento efetuado com sucesso.\" } );\r\n\t\t}, this );\t\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaLancamentos() {\r\n\t\tReactDOM.render( <CaixaLancamentos />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, tipos } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-3\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-6\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Registre um lançamento</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.novo( e ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"py-2 pb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Tipo: &nbsp; </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<select name=\"tipo\" ref={this.tipo}>\r\n\t\t\t\t\t\t\t\t\t\t<option key=\"0\" value=\"NONE\">Selecione um tipo!</option>\r\n\t\t\t\t\t\t\t\t\t\t{ tipos.map( (item, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <option key={i+1} value={item}>{item}</option>\r\n\t\t\t\t\t\t\t\t\t\t} )\t}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Valor: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.valor} name=\"valor\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Observações: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control as=\"textarea\" rows=\"3\" ref={this.obs} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Registrar novo</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaLancamentos() }>Ir para lançamentos</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaLancamentoNovo from './caixa-lancamento-novo';\r\n\r\nexport default class CaixaLancamentos extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tlancamentos : [],\r\n\t\t\tcaixaFuncNome : null,\r\n\t\t\tcaixaDataAbertura : null,\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\t\t\t\t\r\n\t}\t\t\t\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.listar( null, false );\r\n\t}\r\n\t\t\t\t\t\t\r\n\tlistar( e, listarBTClicado ) {\t\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tlet url;\r\n\t\tif ( this.props.getTipo === \"caixaid\" ) {\r\n\t\t\turl = '/api/caixa/get/'+this.props.caixaId;\r\n\t\t} else {\r\n\t\t\turl = '/api/caixa/get/uid/hoje/'+sistema.usuario.id;\r\n\t\t}\r\n\t\t\t\t\r\n\t\tsistema.wsGet( url, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { lancamentos : [] } );\r\n\t\t\t\t\r\n\t\t\t\tlet caixa = dados;\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tlet creditoAcumulado = 0;\r\n\t\t\t\tlet debitoAcumulado = 0;\r\n\t\t\t\tfor( let i = 0; i < caixa.lancamentos.length; i++ ) {\r\n\t\t\t\t\tlet lanc = caixa.lancamentos[ i ];\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet debito = 0;\r\n\t\t\t\t\tlet credito = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif ( lanc.tipo === 'CREDITO' ) {\r\n\t\t\t\t\t\tcredito = sistema.paraFloat( lanc.valor );\t\t\t\t\t\t\t\r\n\t\t\t\t\t} else if ( lanc.tipo === 'DEBITO' ) {\r\n\t\t\t\t\t\tdebito = sistema.paraFloat( lanc.valor );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tdebitoAcumulado += debito;\r\n\t\t\t\t\tcreditoAcumulado += credito;\r\n\t\t\t\t\tlet saldo = creditoAcumulado - debitoAcumulado;\r\n\r\n\t\t\t\t\tthis.state.lancamentos.push( {\r\n\t\t\t\t\t\tid : lanc.id,\r\n\t\t\t\t\t\tdataOperacao : lanc.dataOperacao,\r\n\t\t\t\t\t\tobs : lanc.obs,\r\n\t\t\t\t\t\tdebito : debito,\r\n\t\t\t\t\t\tcredito : credito,\r\n\t\t\t\t\t\tsaldo : saldo\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.setState( { caixaFuncNome : caixa.funcionario.pessoa.nome, caixaDataAbertura : caixa.dataAbertura } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && listarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum lançamento até agora\" } );\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this ); \t\t\t\t\r\n\t}\r\n\t\t\t\t\t\r\n\tremover( e, lancId ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tsistema.wsDelete( '/api/lancamento/deleta/'+lancId, (resposta) => {\r\n\t\t\tthis.listar( e, false );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, lancId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, lancId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <CaixaLancamentoNovo />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, lancamentos, caixaFuncNome, caixaDataAbertura, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de lançamentos</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o lançamento?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t{ this.props.gettipo !== 'caixaid' && (\r\n\t\t\t\t\t<Form className=\"float-end\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaRegistro() }>Novo lançamento</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t) }\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Form.Group style={{fontSize: '1.2em'}}>\r\n\t\t\t\t\t<Form.Label>Funcionario: &nbsp; <span className=\"text-primary\">{ caixaFuncNome }</span></Form.Label>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Form.Label>Data abertura do caixa: &nbsp; <span className=\"text-primary\">{ caixaDataAbertura }</span></Form.Label>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lançamentos</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Data operação</th>\r\n\t\t\t\t\t\t\t\t<th>Entrada</th>\r\n\t\t\t\t\t\t\t\t<th>Saida</th>\r\n\t\t\t\t\t\t\t\t<th>Saldo</th>\r\n\t\t\t\t\t\t\t\t<th>Obs</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{lancamentos.map( ( lanc, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ lanc.dataOperacao }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( lanc.credito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( lanc.debito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( lanc.saldo ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ lanc.obs }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, lanc.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Form>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.listar( e, true ) }>Atualizar lista</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\t\t\t\t\t\r\n\t\t\t</Container>\t\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaAbertura from './caixa-abertura';\r\nimport CaixaLancamentos from './caixa-lancamentos';\r\n\r\nexport default class Caixa extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tbalanco : { \r\n\t\t\t\tdebito : 0, \r\n\t\t\t\tcredito : 0, \r\n\t\t\t\tsaldo : 0, \r\n\t\t\t\tcartaoValorRecebido : 0, \r\n\t\t\t\ttotalVendasAPrazo : 0 }\r\n\t\t};\t\t\r\n\t\t\r\n\t\tthis.valorFechamento = React.createRef();\r\n\t}\r\n\t\t\r\n\tcomponentDidMount() {\r\n\t\tthis.atualizaDadosHoje();\r\n\t}\t\t\r\n\t\t\r\n\tatualizaDadosHoje() {\t\t\t\t\r\n\t\tsistema.wsGet( '/api/caixa/balanco/hoje/'+sistema.usuario.id, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { balanco : dados } );\t\t\t\t\r\n\t\t\t} )\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\r\n\tfecharCaixa( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\r\n\t\tsistema.wsPost( '/api/caixa/fecha/'+sistema.usuario.id, {\r\n\t\t\tlancamento : {\r\n\t\t\t\ttipo : \"DEBITO\",\r\n\t\t\t\tvalor : sistema.paraFloat( this.valorFechamento.current.value )\r\n\t\t\t}\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.valorFechamento.current.value = '';\r\n\t\t\tthis.atualizaDadosHoje();\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\r\n\tparaTelaAbrirCaixa( e ) {\r\n\t\tReactDOM.render( <CaixaAbertura />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaLancamentos( e ) {\r\n\t\tReactDOM.render( <CaixaLancamentos />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, balanco } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\"  onClick={ (e) => this.paraTelaAbrirCaixa(e) }>Abrir caixa</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\" style={{fontSize: '1.2em'}}>\r\n\t\t\t\t\t\t\t<h4>Dados do caixa</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"p-3\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tData de abertura: <span className=\"text-danger\">{ balanco.dataAbertura }</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tCredito: <span className=\"text-danger\">{ sistema.formataReal( balanco.credito ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tDebito: <span className=\"text-danger\">{ sistema.formataReal( balanco.debito ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tSaldo: <span className=\"text-danger\">{ sistema.formataReal( balanco.saldo ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tValor recebido no cartão: <span className=\"text-danger\">{ sistema.formataReal( balanco.cartaoValorRecebido ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tTotal de vendas a prazo: <span className=\"text-danger\">{ sistema.formataReal( balanco.totalVendasAPrazo ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.atualizaDadosHoje( e ) }>Atualizar dados</Button>\r\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"mx-2\" onClick={ (e) => this.paraTelaLancamentos( e ) }>Lançamentos</Button>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Fechar caixa</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.fecharCaixa( e ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Informe o valor em caixa: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.valorFechamento} name=\"valorFechamento\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Fechar caixa</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Table, Form, Button } from 'react-bootstrap';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaLancamentos from './caixa-lancamentos';\r\n\r\nexport default class CaixaFluxoDia extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tcaixas : []\r\n\t\t};\t\t\t\t\r\n\t}\t\t\r\n\t\t\r\n\tcomponentDidMount() {\t\t\t\t\r\n\t\tsistema.wsPost( \"/api/caixa/lista/pordatadia\", {\r\n\t\t\t\"dataDia\" : this.props.dataDia\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\r\n\t\t\t\tfor( let i = 0; i < dados.length; i++ ) {\t\t\t\t\t\r\n\t\t\t\t\tlet caixa = dados[ i ];\r\n\t\t\t\t\tlet debito = 0;\r\n\t\t\t\t\tlet credito = 0;\r\n\t\t\t\t\r\n\t\t\t\t\tfor( let j = 0; j < caixa.lancamentos.length; j++ ) {\r\n\t\t\t\t\t\tlet lancamento = caixa.lancamentos[ j ];\r\n\t\t\t\t\t\tif ( lancamento.tipo === 'CREDITO' ) {\r\n\t\t\t\t\t\t\tcredito += sistema.paraFloat( lancamento.valor );\r\n\t\t\t\t\t\t} else if ( lancamento.tipo === 'DEBITO' ) {\r\n\t\t\t\t\t\t\tdebito += sistema.paraFloat( lancamento.valor );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tlet saldo = credito - debito;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.state.caixas.push( {\r\n\t\t\t\t\t\tid : caixa.id,\r\n\t\t\t\t\t\tdataAbertura : caixa.dataAbertura,\r\n\t\t\t\t\t\tfuncionarioNome : caixa.funcionario.pessoa.nome,\r\n\t\t\t\t\t\tdebito : debito,\r\n\t\t\t\t\t\tcredito : credito,\r\n\t\t\t\t\t\tsaldo : saldo\r\n\t\t\t\t\t} );\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum fluxo de caixa encontrado pelos critérios de busca informados\" } );\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\r\n\t}\r\n\t\r\n\trelatorioBalancoHoje( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsGetPDF( \"/api/relatorio/balanco-hoje\", (resposta) => {\r\n\t\t\tresposta.blob().then( (dados) => {\r\n\t\t\t\twindow.open( window.URL.createObjectURL( dados ) ); \r\n\t\t\t\tthis.setState( { infoMsg : \"Relatório gerado com êxito!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tparaTelaLancamentos( e, caixaId ) {\r\n\t\tReactDOM.render( <CaixaLancamentos getTipo=\"caixaid\" caixaId={caixaId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, caixas } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Button className=\"float-end\" variant=\"primary\" onClick={ (e) => this.relatorioBalancoHoje( e ) }>Gerar balanço de hoje</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<br />\r\n\t\t\t\t<h4 className=\"text-center\">Fluxo de caixa por dia</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Responsável</th>\r\n\t\t\t\t\t\t\t\t<th>Data de abertura</th>\r\n\t\t\t\t\t\t\t\t<th>Entrada</th>\r\n\t\t\t\t\t\t\t\t<th>Saida</th>\r\n\t\t\t\t\t\t\t\t<th>Saldo</th>\r\n\t\t\t\t\t\t\t\t<th>Visualizar lançamentos</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{caixas.map( ( caixa, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ caixa.funcionarioNome }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ caixa.dataAbertura }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( caixa.credito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( caixa.debito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( caixa.saldo ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaLancamentos( e, caixa.id ) }>visualizar</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport DatePicker from 'react-datepicker';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaFluxoDia from './caixa-fluxo-dia';\r\n\r\nexport default class CaixaFluxo extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\tbalancosDiarios : []\r\n\t\t};\t\t\t\t\r\n\t}\r\n\t\t\t\t\t\t\r\n\tcomponentDidMount() {\r\n\t\tthis.filtrar( null );\r\n\t}\t\t\r\n\t\t\t\t\t\t\r\n\tfiltrar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/caixa/gera/balancos/diarios\", {\r\n\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim )\r\n\t\t}, (resposta) => {\t\t\t\r\n\t\t\tresposta.json().then( (dados) => {\t\t\r\n\t\t\t\tthis.setState( { balancosDiarios : dados } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum fluxo de caixa encontrado pelos critérios de busca informados\" } );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tdataIniOnChange( data ) {\r\n\t\tthis.setState( { dataIni : data } );\r\n\t}\r\n\t\r\n\tdataFimOnChange( data ) {\r\n\t\tthis.setState( { dataFim : data } );\r\n\t}\r\n\t\r\n\tvisualizar( e, dataAbertura ) {\r\n\t\tReactDOM.render( <CaixaFluxoDia dataDia={dataAbertura} />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, balancosDiarios, dataIni, dataFim } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Fluxo de caixa</h4>\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>Data de abertura</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Entrada</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Saida</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Saldo</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Visualizar</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{balancosDiarios.map( ( balancoDia, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ balancoDia.dataAbertura }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( balancoDia.credito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( balancoDia.debito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( balancoDia.saldo ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={ (e) => this.visualizar( e, balancoDia.dataAbertura ) }>visualizar</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-sm-10\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e ) }>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.dataIniOnChange( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.dateFimOnChange( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Grupos from './grupos';\r\n\r\nexport default class GrupoFormEdit extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tgrupo : { permissaoGrupos : [] }\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tthis.carregar();\t\t\t\t\t\r\n\t}\r\n\t\r\n\tcarregar() {\r\n\t\tsistema.wsGet( '/api/usuario/grupo/get/'+this.props.grupoId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.nome.current.value = dados.nome;\t\t\t\t\t\r\n\t\t\t\tthis.setState( { grupo : dados } );\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPut( \"/api/usuario/grupo/atualiza/\"+this.props.grupoId, {\r\n\t\t\t\"nome\" : this.nome.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Grupo salvo com sucesso.\" } );\r\n\t\t}, this );\t\t\t\t\r\n\t}\r\n\t\r\n\tsincronizarRecursos( e ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tsistema.wsPost( '/api/usuario/grupo/recursos/sincroniza/'+this.props.grupoId, {\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.carregar();\r\n\t\t\tthis.setState( { infoMsg : \"Recursos sincronizados com sucesso.\" } );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tpermissaoLeituraOnChange( e, id ) {\r\n\t\tthis.permissaoOnChange( e, id, 'LEITURA' );\r\n\t}\r\n\t\r\n\tpermissaoEscritaOnChange( e, id ) {\r\n\t\tthis.permissaoOnChange( e, id, 'ESCRITA' );\r\n\t}\r\n\t\r\n\tpermissaoRemocaoOnChange( e, id ) {\r\n\t\tthis.permissaoOnChange( e, id, 'REMOCAO' );\r\n\t}\r\n\t\r\n\tpermissaoOnChange( e, id, tipo ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPatch( '/api/permissao/salva/'+id, {\r\n\t\t\ttipo : tipo,\r\n\t\t\tvalor : e.target.checked\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.carregar();\r\n\t\t}, this );\t\t\t\r\n\t}\r\n\t\t\r\n\tparaTelaGrupos() {\r\n\t\tReactDOM.render( <Grupos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, grupo } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<h4 className=\"text-center\">Registro de grupos</h4>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"float-end\" onClick={ (e) => this.sincronizarRecursos( e ) }>\r\n\t\t\t\t\t\t\t\tSincronizar Recursos\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Permissões sobre recursos</h4>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>Recurso</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Leitura</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Escrita</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Remoção</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{grupo.permissaoGrupos.map( (item, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.recurso}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><input type=\"checkbox\" checked={item.leitura === \"true\"} onChange={ (e) => this.permissaoLeituraOnChange( e, item.id ) } /></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><input type=\"checkbox\" checked={item.escrita === \"true\"} onChange={ (e) => this.permissaoEscritaOnChange( e, item.id ) } /></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><input type=\"checkbox\" checked={item.remocao === \"true\"} onChange={ (e) => this.permissaoRemocaoOnChange( e, item.id ) } /></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaGrupos( e ) }>Ir para grupos</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Grupos from './grupos';\r\n\r\nexport default class GrupoFormRegistro extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t}\r\n\t\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/usuario/grupo/registra\", {\r\n\t\t\t\"nome\" : this.nome.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Grupo salvo com sucesso.\" } );\r\n\t\t}, this );\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaGrupos() {\r\n\t\tReactDOM.render( <Grupos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<h4 className=\"text-center\">Registro de grupos</h4>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaGrupos( e ) }>Ir para grupos</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport GrupoFormEdit from './grupo-form-edit';\r\nimport GrupoFormRegistro from './grupo-form-registro';\r\n\r\nimport Usuarios from './usuarios';\r\n\r\nexport default class Grupos extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tgrupos : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.nomeIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.nomeIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tsistema.wsPost( \"/api/usuario/grupo/filtra\", {\r\n\t\t\t\"nomeIni\" : this.nomeIni.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { grupos : dados } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum grupo registrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\r\n\t}\r\n\t\t\r\n\teditar( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tReactDOM.render( <GrupoFormEdit grupoId={id}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, id ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, id );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsDelete( \"/api/usuario/grupo/deleta/\"+id, (resposta) => {\r\n\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tthis.setState( { infoMsg : \"Grupo removido com êxito!\" } );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <GrupoFormRegistro />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaUsuarios() {\r\n\t\tReactDOM.render( <Usuarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, grupos, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de grupo</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tTem certeza que deseja remover o grupo selecionado?\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\t\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaRegistro(e)}>Registrar novo grupo</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Grupos</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome</th>\r\n\t\t\t\t\t\t\t\t<th>Editar</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{grupos.map( ( grupo, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{grupo.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{grupo.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.editar( e, grupo.id )}>editar</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, grupo.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar grupos</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nomeIni} name=\"nomeIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" className=\"mb-3\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaUsuarios( e ) }>Ir para usuários</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Recursos from './recursos';\r\n\r\nexport default class RecursoForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\ttitulo : \"\"\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tif ( this.props.op === 'editar' ) {\r\n\t\t\tthis.setState( { titulo : \"Alteração de usuário\" } );\r\n\t\t\tthis.carregar();\t\t\t\t\r\n\t\t} else {\r\n\t\t\tthis.setState( { titulo : \"Registro de usuário\" } );\r\n\t\t}\t\t\t\r\n\t}\r\n\t\r\n\tcarregar() {\r\n\t\tsistema.wsGet( '/api/recurso/get/'+this.props.recursoId, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.nome.current.value = dados.nome;\t\t\t\t\t\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\tlet url, method;\r\n\t\tif ( this.props.op === 'editar' ) {\r\n\t\t\turl = \"/api/recurso/atualiza/\"+this.props.recursoId;\r\n\t\t\tmethod = 'PUT';\r\n\t\t} else {\r\n\t\t\turl = \"/api/recurso/registra\";\r\n\t\t\tmethod = 'POST';\r\n\t\t}\r\n\t\t\t\t\t\r\n\t\tsistema.wsSave( url, method, {\r\n\t\t\t\"nome\" : this.nome.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.setState( { infoMsg : \"Recurso salvo com sucesso.\" } );\r\n\t\t}, this );\t\t\t\t\r\n\t}\r\n\t\t\t\r\n\tparaTelaRecursos() {\r\n\t\tReactDOM.render( <Recursos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, titulo } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<h4 className=\"text-center\">{titulo}</h4>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaRecursos( e ) }>Ir para recursos</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Usuarios from './usuarios';\r\nimport RecursoForm from './recurso-form';\r\n\r\nexport default class Recursos extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\trecursos : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.nomeIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.nomeIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/recurso/filtra\", {\r\n\t\t\t\"nomeIni\" : this.nomeIni.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { recursos : dados } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum recurso registrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\t\r\n\tremoverSeConfirmado( e, recursoId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, recursoId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, recursoId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsDelete( \"/api/recurso/deleta/\"+recursoId, (resposta) => {\r\n\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tthis.setState( { infoMsg : \"Recurso removido com êxito!\" } );\r\n\t\t}, this );\r\n\t}\r\n\t\t\r\n\teditar( e, recursoId ) {\r\n\t\tReactDOM.render( <RecursoForm op=\"editar\" recursoId={recursoId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaRecursoForm( e ) {\r\n\t\tReactDOM.render( <RecursoForm op=\"cadastrar\" />, sistema.paginaElemento() );\t\t\r\n\t}\r\n\t\r\n\tparaTelaUsuarios( e ) {\r\n\t\tReactDOM.render( <Usuarios />, sistema.paginaElemento() );\r\n\t}\t\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, recursos, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de recurso</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tTem certeza que deseja remover o recurso selecionado? <br /><br />\r\n\t\t\t\t\t\tSe optar por remover o recurso, serão removidas também as permissões do recurso concedidas a grupos de usuários!\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Button variant=\"primary\" className=\"float-end\" onClick={ (e) => this.paraRecursoForm( e ) } >Registrar recurso</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<h3 className=\"text-center\">Lista de recursos</h3>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome</th>\r\n\t\t\t\t\t\t\t\t<th>Editar</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{recursos.map( ( recurso, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{recurso.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{recurso.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={ (e) => this.editar( e, recurso.id ) }>editar</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={ (e) => this.removerSeConfirmado( e, recurso.id ) }>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar recursos</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome do recurso: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nomeIni} name=\"nomeIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaUsuarios( e ) }>Ir para usuários</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\r\n\r\n\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Grupos from './grupos';\r\nimport Recursos from './recursos';\r\n\r\nexport default class Usuarios extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tusuarios : []\r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.usernameIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.usernameIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tsistema.wsPost( \"/api/usuario/filtra\", {\r\n\t\t\t\"usernameIni\" : this.usernameIni.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { usuarios : dados } );\r\n\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum usuario registrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\t\t\t\r\n\tparaTelaGrupos( e ) {\r\n\t\tReactDOM.render( <Grupos />, sistema.paginaElemento() );\r\n\t}\t\t\r\n\t\r\n\tparaTelaRecursos( e ) {\r\n\t\tReactDOM.render( <Recursos />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, usuarios } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\t\r\n\t\t\t\t\t\t<Form className=\"float-start\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaGrupos( e ) }>Grupos de usuário</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"mx-2\" onClick={ (e) => this.paraTelaRecursos( e ) }>Recursos</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Lista de Usuarios</h4>\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Username</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Grupo</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{usuarios.map( ( usuario, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{usuario.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{usuario.username}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{usuario.grupo.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar usuarios</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome de usuário: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.usernameIni} name=\"usernameIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class ContasPagar extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\t\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\t\r\n\t\t\tcontasObj : { contas : [] }\r\n\t\t};\t\t\t\t\t\t\r\n\t\t\r\n\t\tthis.incluirFornecedor = React.createRef();\r\n\t\tthis.fornecedorNomeIni = React.createRef();\r\n\t\tthis.incluirContasPagas = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t\t\r\n\t\tthis.setState( { dataFim : new Date().getTime() + 365 * 24 * 60 * 60 * 1000 } );\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/conta/pagar/filtra\", {\r\n\t\t\t\"incluirPagas\" : this.incluirContasPagas.current.checked,\r\n\t\t\t\"incluirFornecedor\" : this.incluirFornecedor.current.checked,\r\n\t\t\t\"fornecedorNomeIni\" : this.fornecedorNomeIni.current.value,\r\n\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim )\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { contasObj : dados } );\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma conta encontrada pelos critérios de filtro informados!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\talterarSituacao( e, index, parcelaId ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet parcelaPaga = this.state.contasObj.contas[ index ].parcela.paga;\r\n\r\n\t\tsistema.wsPatch( '/api/conta/pagar/altera/situacao/'+parcelaId, {\r\n\t\t\tpaga : ( parcelaPaga === 'true' ? false : true )\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.filtrar( e, false );\t\r\n\t\t}, this );\t\t\r\n\t}\r\n\t\r\n\tchangeDataIni( date ) {\r\n\t\tthis.setState( { dataIni : date } );\t\t\r\n\t}\r\n\t\r\n\tchangeDataFim( date ) {\r\n\t\tthis.setState( { dataFim : date } );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, contasObj, dataIni, dataFim } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de contas a pagar</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Data pagamento</th>\r\n\t\t\t\t\t\t\t\t<th>Data vencimento</th>\r\n\t\t\t\t\t\t\t\t<th>Fornecedor</th>\r\n\t\t\t\t\t\t\t\t<th>Alterar status</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{contasObj.contas.map( ( conta, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ conta.parcela.dataPagamento }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ conta.parcela.dataVencimento }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ conta.fornecedorEmpresa }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.alterarSituacao( e, index, conta.parcela.id )}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ conta.parcela.paga === 'true' ? 'Desfazer pagamento' : 'Pagar' }\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Form.Group style={{fontSize: '1.6em'}}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Label>Débito: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( contasObj.debitoTotalPeriodo ) }</span></Form.Label>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Label>Débito total: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( contasObj.debitoTotalCompleto ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar contas a pagar</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataIni( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataFim( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirContasPagas} /> &nbsp; Incluir contas pagas\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Fornecedor: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.fornecedorNomeIni} name=\"fornecedorNomeIni\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirFornecedor} />Incluir fornecedor no filtro\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","\r\nimport React from 'react';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class ContasReceber extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\t\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\t\r\n\t\t\tcontasObj : { vendas : [] },\r\n\t\t\tdebitoPeriodo : 0,\r\n\t\t\tdebitoTotal : 0\r\n\t\t};\t\t\t\t\t\t\r\n\t\t\r\n\t\tthis.valorRecebido = React.createRef();\r\n\t\tthis.incluirContasPagas = React.createRef();\r\n\t\tthis.incluirCliente = React.createRef();\r\n\t\tthis.clienteNomeIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t\t\r\n\t\tthis.setState( { dataFim : new Date().getTime() + 365 * 24 * 60 * 60 * 1000 } );\r\n\t}\r\n\t\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.wsPost( \"/api/conta/receber/filtra\", {\r\n\t\t\t\"incluirPagas\" : this.incluirContasPagas.current.checked,\r\n\t\t\t\"incluirCliente\" : this.incluirCliente.current.checked,\r\n\t\t\t\"clienteNomeIni\" : this.clienteNomeIni.current.value,\r\n\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim )\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tlet contasObj = dados;\r\n\t\t\t\t\r\n\t\t\t\tfor( let i = 0; i < contasObj.vendas.length; i++ ) {\r\n\t\t\t\t\tlet subtotal = sistema.paraFloat( contasObj.vendas[ i ].subtotal );\r\n\t\t\t\t\tlet desconto = sistema.paraFloat( contasObj.vendas[ i ].desconto );\r\n\t\t\t\t\tcontasObj.vendas[ i ].total = subtotal * ( 1.0 - desconto );\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma conta encontrada pelos critérios de filtro informados!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.setState( { contasObj : contasObj } );\r\n\t\t\t} );\t\r\n\t\t}, this );\r\n\t}\r\n\t\t\t\r\n\tefetuarRecebimento( e, index, clienteId ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tsistema.wsPost(\t'/api/conta/receber/efetuarecebimento/'+clienteId, {\r\n\t\t\tvalorRecebido : this.valorRecebido.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tthis.filtrar( e, false );\r\n\t\t}, this );\t\t\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tchangeDataIni( date ) {\r\n\t\tthis.setState( { dataIni : date } );\t\t\r\n\t}\r\n\t\r\n\tchangeDataFim( date ) {\r\n\t\tthis.setState( { dataFim : date } );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, contasObj, dataIni, dataFim } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de contas a pagar</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Data de venda</th>\r\n\t\t\t\t\t\t\t\t<th>Cliente</th>\r\n\t\t\t\t\t\t\t\t<th>Total</th>\r\n\t\t\t\t\t\t\t\t<th>Débito</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{contasObj.vendas.map( ( venda, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ venda.dataVenda }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ venda.cliente.pessoa.nome }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.total ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.debito ) }</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Form.Group style={{fontSize: '1.6em'}}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Label>Valor a receber: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( contasObj.totalPeriodo ) }</span></Form.Label>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Label>Valor a receber total: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( contasObj.totalCompleto ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar contas receber</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataIni( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataFim( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirContasPagas} /> &nbsp; Incluir contas pagas\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Cliente: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.clienteNomeIni} name=\"clienteNomeIni\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirCliente} />Incluir cliente no filtro\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\n\r\nimport Login from './login';\r\nimport SedeDetalhes from './telas/sede/sede-detalhes';\r\nimport Funcionarios from './telas/funcionarios/funcionarios';\r\nimport Fornecedores from './telas/fornecedores/fornecedores';\r\nimport Produtos from './telas/produtos/produtos';\r\nimport Categorias from './telas/categorias/categorias';\r\nimport Compras from './telas/compras/compras';\r\nimport Clientes from './telas/clientes/clientes';\r\nimport Vendas from './telas/vendas/vendas';\r\nimport Caixa from './telas/caixa/caixa';\r\nimport CaixaFluxo from './telas/caixa/caixa-fluxo';\r\nimport Usuarios from './telas/usuarios/usuarios';\r\nimport ContasPagar from './telas/contas/contas-pagar';\r\nimport ContasReceber from './telas/contas/contas-receber';\r\n\r\nimport sistema from './logica/sistema.js';\r\n\r\nexport default class NavegBar extends React.Component {\r\n\t\t\r\n\tmostraEscondeMenu( elementoId ) {\r\n\t\tsistema.showHide( elementoId );\r\n\t\tthis.setState( this.state );\r\n\t}\r\n\t\r\n\tparaTelaLogin() {\r\n\t\tReactDOM.render( <Login />, sistema.rootElemento() );\r\n\t}\r\n\t\r\n\tparaTelaSedeDetalhes() {\r\n\t\tReactDOM.render( <SedeDetalhes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaFuncionarios() {\r\n\t\tReactDOM.render( <Funcionarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaFornecedores() {\r\n\t\tReactDOM.render( <Fornecedores />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaProdutos() {\r\n\t\tReactDOM.render( <Produtos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaCategorias() {\r\n\t\tReactDOM.render( <Categorias />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaCompras() {\r\n\t\tReactDOM.render( <Compras />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaClientes() {\r\n\t\tReactDOM.render( <Clientes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaVendas() {\r\n\t\tReactDOM.render( <Vendas />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaCaixa() {\r\n\t\tReactDOM.render( <Caixa />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaFluxoCaixa() {\r\n\t\tReactDOM.render( <CaixaFluxo />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaContasPagar() {\r\n\t\tReactDOM.render( <ContasPagar />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaContasReceber() {\r\n\t\tReactDOM.render( <ContasReceber />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaUsuarios() {\r\n\t\tReactDOM.render( <Usuarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\">\r\n\t\t\t\t<Navbar.Brand className=\"mx-3\">Sistema ERP</Navbar.Brand>\r\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar.nav\">\r\n\t\t\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'CAIXA' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaCaixa() }>Caixa</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<NavDropdown title=\"Financeiro\">\r\n\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={ () => this.paraTelaFluxoCaixa() }>Fluxo de Caixa</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t{ (  sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={ () => this.paraTelaContasPagar() }>Contas a pagar</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t{ (  sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={ () => this.paraTelaContasReceber() }>Contas a receber</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</NavDropdown>\t\t\t\t\t\t\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaSedeDetalhes() }>Sede</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome !== 'ADMIN' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaVendas() }>Vendas</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaCompras() }>Compras</Nav.Link>\r\n\t\t\t\t\t\t) }\t\t\t\t\t\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome !== 'ADMIN' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaProdutos() }>Produtos</Nav.Link>\r\n\t\t\t\t\t\t) }\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaFuncionarios() }>Funcionarios</Nav.Link>\t\t\t\t\t\t\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaClientes() }>Clientes</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaFornecedores() }>Fornecedores</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'ADMIN' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaUsuarios() }>Usuarios</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t<Nav.Link className=\"float-end\" onClick={ () => this.paraTelaLogin() }>Sair</Nav.Link>\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t</Navbar.Collapse>\r\n\t\t\t</Navbar>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class Inicial extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { erroMsg : null };\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg } = this.state;\r\n\t\t\t\t\t\t\r\n\t\treturn (\t\t\t\r\n\t\t\t<div>\r\n\t\t\t\t<h4>Bem vindo</h4>\r\n\t\t\t\t\r\n\t\t\t\t<p>Olá {sistema.usuario.username}, seja bem vindo</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\t\t\t\t\t\r\n\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './logica/sistema';\r\nimport MensagemPainel from './componente/mensagem-painel';\r\n\r\nimport Layout from './layout.js';\r\nimport NavegBar from './naveg-bar.js';\r\nimport Inicial from './telas/inicial/inicial.js';\r\n\r\nexport default class Login extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\tthis.state = { erroMsg : null };\r\n\t\t\r\n\t\tthis.username = React.createRef();\r\n\t\tthis.password = React.createRef();\r\n\t}\r\n\t\t\r\n\tentrar(e) {\t\t\t\r\n\t\te.preventDefault();\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tsistema.wsPostNoAuthorization( \"/api/login/entrar\", {\r\n\t\t\tusername : this.username.current.value,\r\n\t\t\tpassword : this.password.current.value\r\n\t\t}, (resposta) => {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tsistema.token = dados.token;\r\n\t\t\t\tsistema.usuario = dados.usuario;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tReactDOM.render( <Layout />, sistema.rootElemento() );\t\t\t\t\r\n\t\t\t\tReactDOM.render( <NavegBar />, sistema.menuNavegElemento() );\t\t\t\t\r\n\t\t\t\tReactDOM.render( <Inicial />, sistema.paginaElemento() );\t\t\t\t\t\t\t\t\r\n\t\t\t} );\r\n\t\t}, this );\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg } = this.state;\r\n\t\t\t\t\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<div>\t\t\t\t\r\n\t\t\t\t<h1 className=\"text-center bg-dark text-white p-4\">Sistema ERP</h1>\t\t\t\t\t\t\r\n\t\t\t\t<Container className=\"my-5\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col></Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card body>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Tela de login</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form onSubmit={(e) => this.entrar( e )}>\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome de usuário</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.username} id=\"username\" name=\"username\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Senha</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"password\" ref={this.password} id=\"password\" name=\"password\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">Entrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col></Col>\r\n\t\t\t\t\t</Row>\t\t\t\r\n\t\t\t\t</Container>\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\nimport Login from './js/login.js';\n\nclass App extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Login />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport pt from \"date-fns/locale/pt\";\nimport { registerLocale } from 'react-datepicker';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport 'react-tabs/style/react-tabs.css';\n\nimport './css/estilo.css';\n\nregisterLocale( 'pt', pt );\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}