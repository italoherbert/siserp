{"version":3,"sources":["js/logica/sistema.js","js/componente/mensagem-painel.js","js/layout.js","js/telas/sede/sede-form.js","js/telas/sede/sede-detalhes.js","js/telas/funcionarios/funcionario-form.js","js/telas/funcionarios/funcionario-detalhes.js","js/telas/funcionarios/funcionarios.js","js/telas/fornecedores/fornecedor-form.js","js/telas/fornecedores/fornecedor-detalhes.js","js/telas/fornecedores/fornecedores.js","js/telas/produtos/produto-form.js","js/telas/produtos/produto-detalhes.js","js/telas/categorias/categoria-form.js","js/telas/categorias/subcategoria-form.js","js/telas/categorias/categoria-detalhes.js","js/telas/categorias/categorias.js","js/telas/produtos/produtos.js","js/componente/input-dropdown.js","js/telas/compras/add-compra-produto-categorias.js","js/telas/compras/add-compra-produto.js","js/telas/compras/set-compra-fornecedor.js","js/telas/compras/gera-compra-parcelas.js","js/telas/compras/compra-registro.js","js/telas/compras/compra-detalhes.js","js/telas/compras/compras.js","js/telas/clientes/cliente-form.js","js/telas/clientes/cliente-detalhes.js","js/telas/clientes/clientes.js","js/telas/vendas/venda-registro.js","js/telas/vendas/venda-detalhes.js","js/telas/vendas/vendas-pagamento.js","js/telas/vendas/vendas.js","js/telas/caixa/caixa-abertura.js","js/telas/caixa/caixa-lancamento-novo.js","js/telas/caixa/caixa-lancamentos.js","js/telas/caixa/caixa.js","js/telas/caixa/caixa-fluxo-dia.js","js/telas/caixa/caixa-fluxo.js","js/telas/usuarios/grupo-form-edit.js","js/telas/usuarios/grupo-form-registro.js","js/telas/usuarios/grupos.js","js/telas/usuarios/recurso-form.js","js/telas/usuarios/recursos.js","js/telas/usuarios/usuarios.js","js/telas/contas/contas-pagar.js","js/telas/contas/contas-receber.js","js/naveg-bar.js","js/telas/inicial/inicial.js","js/login.js","App.js","reportWebVitals.js","index.js"],"names":["sistema","this","token","usuario","document","getElementById","strEL","el","querySelector","scrollIntoView","$","show","hide","strEl","style","visibility","display","date","undefined","moment","format","valor","v","parseFloat","Math","abs","s","parseInt","substring","length","replace","isNaN","split","frac","resposta","compRef","status","json","then","dados","mensagem","setState","erroMsg","codigo","getMensagemErro","callback","call","MensagemPainel","props","state","msgId","Date","getTime","scrollTo","msg","Alert","id","color","cor","React","Component","Layout","position","margin","zIndex","className","minHeight","SedeForm","infoMsg","cnpj","createRef","inscricaoEstadual","op","current","value","e","preventDefault","showLoadingSpinner","fetch","method","headers","body","JSON","stringify","trataRespostaNaoOk","hideLoadingSpinner","ReactDOM","render","paginaElemento","Container","Row","Col","Card","Form","onSubmit","salvar","Group","Label","Control","type","ref","name","Button","variant","onClick","paraTelaSedeDetalhes","SedeDetalhes","sede","editar","FuncionarioForm","usuarioGrupos","nome","telefone","email","ender","numero","logradouro","bairro","cidade","uf","usuarioGrupo","username","password","password2","carregaGrupos","carregaFuncionario","funcId","pessoa","endereco","grupo","url","metodo","map","item","i","paraTelaFuncionarios","FuncionarioDetalhes","funcionario","tipo","Funcionarios","funcionarios","remocaoModalVisivel","remocaoModalOkFunc","remocaoModalCancelaFunc","nomeIni","usernameIni","filtrar","filtrarBTClicado","remover","Modal","Header","Title","Body","Footer","paraTelaRegistro","Table","striped","bordered","hover","func","index","detalhes","removerSeConfirmado","FornecedorForm","empresa","fornecedorId","paraTelaFornecedores","FornecedorDetalhes","fornecedor","Fornecedores","fornecedores","empresaIni","ProdutoForm","descricao","precoUnitCompra","precoUnitVenda","unidade","codigoBarras","carrega","produtoId","paraFloat","registrou","codBarras","buscar","paraTelaProdutos","ProdutoDetalhes","produto","subcategorias","titulo","CategoriaForm","categoriaId","paraTelaCategoriaDetalhes","SubCategoriaForm","subcategoriaId","paraTelaCategoria","CategoriaDetalhes","categoria","subcatDescricaoIni","carregar","subcat","subcatId","removerSubcategoria","filtrarSubcategorias","subcategoria","editarSubcategoria","removerSubcategoriaSeConfirmado","paraTelaCategorias","Categorias","addErroMsg","addInfoMsg","categorias","descricaoIni","Produtos","produtos","descIni","push","paraCategorias","paraCadastroForm","formataReal","formataFloat","quantidade","InputDropdown","random","texto","referencia","carregaItens","itemClicado","onChange","onChangeTexto","onClickMostraEscondeDropdown","itens","onClickItem","AddCompraProdutoCategorias","categoriasLista","subcategoriasLista","catdesc","subcatdesc","cat","toLowerCase","jaInserida","fim","size","catObj","size2","j","splice","index2","removeCategoria","categoriaOnChange","subcategoriaOnChange","addCategoria","AddCompraProduto","codbarInfoMsg","estoqueQuantidade","paraAddQuantidade","trim","limpaProdutoForm","produtoAdicionado","codbar","trataRespostaNaoOkCBK","addProduto","forceRenderTabPanel","disabled","SetCompraFornecedor","fornecedoresLista","fornecedorEmpresaRef","addFornecedor","fornecedorOnChange","GeraCompraParcelas","vencimento","parcelas","total","p","quantParcelas","quantParcelasRef","valorParcela","dataPag","add","dataVenc","dataPagamento","dataVencimento","config","valorTotal","formataData","calcularParcelas","CompraRegistro","geraParcelasConfig","itensCompra","precoUnitario","parcelasList","dataCompra","index3","removeProduto","registrarCompra","paraTelaCompras","compra","valorPago","debito","compraId","paga","parcelaId","fontSize","Compras","compras","dataIni","dataFim","instance","paraRegistroForm","debitoTotal","selected","changeDataIni","locale","dateFormat","changeDataFim","minDate","ClienteForm","carregaCliente","clienteId","paraTelaClientes","ClienteDetalhes","cliente","Clientes","clientes","VendaRegistro","formasPag","quantValorPadrao","clientesNomeLista","clienteNome","incluirCliente","subtotal","desconto","troco","formaPag","carregaFormasPagamento","unshift","calcularTotal","itensVenda","quant","estQ","q1","q2","target","estoqueQuant","checked","quantidadeItemProdOnChange","defaultValue","subitem","removerItemVenda","efetuarVenda","addItemVenda","incluirClienteOnChange","clienteNomeOnChange","paraTelaVendas","VendaDetalhes","venda","vendaId","alert","dataVenda","VendasPagamento","vendas","carregaVendas","clienteNomeItemClicado","efetuarPagamento","Vendas","clienteNomeIni","incluirVendasPagas","paraTelaPagamentos","CaixaAbertura","valorInicial","lancamento","abrir","step","paraTelaCaixa","CaixaLancamentoNovo","tipos","obs","carregaTipos","novo","as","rows","paraTelaLancamentos","CaixaLancamentos","lancamentos","caixaFuncNome","caixaDataAbertura","listar","listarBTClicado","getTipo","caixaId","caixa","creditoAcumulado","debitoAcumulado","lanc","credito","saldo","dataOperacao","dataAbertura","lancId","gettipo","Caixa","balanco","valorFechamento","atualizaDadosHoje","paraTelaAbrirCaixa","cartaoValorRecebido","totalVendasAPrazo","fecharCaixa","CaixaFluxoDia","caixas","dataDia","funcionarioNome","window","open","relatorioBalancoHoje","CaixaFluxo","balancosDiarios","data","balancoDia","visualizar","dataIniOnChange","dateFimOnChange","GrupoFormEdit","permissaoGrupos","grupoId","permissaoOnChange","sincronizarRecursos","recurso","leitura","permissaoLeituraOnChange","escrita","permissaoEscritaOnChange","remocao","permissaoRemocaoOnChange","paraTelaGrupos","GrupoFormRegistro","Grupos","grupos","paraTelaUsuarios","RecursoForm","recursoId","paraTelaRecursos","Recursos","recursos","paraRecursoForm","Usuarios","usuarios","ContasPagar","contasObj","contas","incluirFornecedor","fornecedorNomeIni","incluirContasPagas","parcelaPaga","parcela","conta","fornecedorEmpresa","alterarSituacao","debitoTotalPeriodo","debitoTotalCompleto","ContasReceber","debitoPeriodo","valorRecebido","totalPeriodo","totalCompleto","NavegBar","elementoId","showHide","rootElemento","Navbar","bg","Brand","Toggle","Collapse","Nav","Link","NavDropdown","title","Item","paraTelaFluxoCaixa","paraTelaContasPagar","paraTelaContasReceber","paraTelaLogin","Inicial","Login","credentials","menuNavegElemento","entrar","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","registerLocale","pt","Fragment"],"mappings":"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","file":"static/js/main.e2cad9e9.chunk.js","sourcesContent":["import * as moment from 'moment';\r\nimport $ from 'jquery';\r\n\r\nclass Sistema {\r\n\r\n\tconstructor() {\r\n\t\tthis.token = null;\r\n\t\tthis.usuario = null;\t\t\r\n\t}\r\n\r\n\tpaginaElemento() {\r\n\t\treturn document.getElementById( \"pagina\" );\r\n\t}\r\n\r\n\tmenuNavegElemento() {\r\n\t\treturn document.getElementById( \"menu-naveg\" );\r\n\t}\r\n\r\n\trootElemento() {\r\n\t\treturn document.getElementById( \"root\" );\r\n\t}\r\n\t\t\r\n\tscrollTo( strEL ) {\r\n\t\tlet el = document.querySelector( \"#\"+strEL );\r\n\t\tif ( el )\r\n\t\t\tel.scrollIntoView();\t\t\t\r\n\t}\r\n\t\r\n\tshowLoadingSpinner() {\r\n\t\t$(\"#carregando\").show();\r\n\t}\r\n\t\r\n\thideLoadingSpinner() {\r\n\t\t$(\"#carregando\").hide();\r\n\t}\r\n\r\n\tshowHide( strEl ) {\r\n\t\tlet el = document.getElementById( strEl );\r\n\t\tif ( el.style.visibility === 'hidden' ) {\r\n\t\t\tel.style.display = \"block\";\r\n\t\t\tel.style.visibility = \"visible\";\r\n\t\t} else {\r\n\t\t\tel.style.display = \"none\";\r\n\t\t\tel.style.visibility = \"hidden\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tformataData( date ) {\r\n\t\tif ( date === null || date === undefined || date === '' )\r\n\t\t\treturn \"Formato de data não reconhecido\";\r\n\t\t\r\n\t\treturn moment( date ).format( \"DD/MM/YYYY\" );\r\n\t}\r\n\t\r\n\tformataReal( valor ) {\r\n\t\tlet v = parseFloat( valor );\r\n\t\tif ( v === 0 ) \r\n\t\t\treturn \"R$ 0,00\";\r\n\t\t\t\t\r\n\t\tif ( Math.abs( v ) >= 1.0 ) {\r\n\t\t\tlet n = parseInt( v * 100 );\r\n\t\t\tlet s = \"\"+n;\r\n\t\t\treturn \"R$ \"+s.substring( 0, s.length-2 ) + ',' + s.substring( s.length-2, s.length );\t\t\r\n\t\t} else {\r\n\t\t\tlet truncI = ( v < 0 ? 5 : 4 );\t\t\t\r\n\t\t\treturn\"R$ \" +( ( \"\"+v ).substring( 0, truncI ).replace( '.', ',' ) );\t\t\t\r\n\t\t}\t\t\t\t\r\n\t}\r\n\t\r\n\tparaFloat( valor ) {\r\n\t\tif ( isNaN( (\"\"+valor).replace( ',', '.' ) ) === true )\r\n\t\t\treturn valor;\r\n\t\t\r\n\t\tif ( (\"\"+valor) === \"0\" ) \r\n\t\t\treturn 0;\r\n\t\t\r\n\t\treturn parseFloat( (\"\"+valor).replace( ',', '.' ) );\r\n\t}\r\n\t\r\n\tformataFloat( valor ) {\r\n\t\tif ( (\"\"+valor) === \"0\" ) \r\n\t\t\treturn \"0\";\r\n\t\t\r\n\t\tlet v = (\"\"+valor).split( '.' );\r\n\t\t\r\n\t\tlet frac = 0;\r\n\t\tif ( v.length === 2 )\r\n\t\t\tfrac = parseInt( v[1] );\r\n\t\t\r\n\t\treturn ( frac === 0 ? v[0] : v[0]+','+v[1] );\t\t\t\t\r\n\t}\r\n\r\n\ttrataRespostaNaoOk( resposta, compRef ) {\r\n\t\tif ( resposta.status === 400 ) {\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tif ( dados.mensagem == null ) {\r\n\t\t\t\t\tcompRef.setState( { erroMsg : 'Mensagem de erro não encontrada pelo código recebido. Codigo='+dados.codigo } );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcompRef.setState( { erroMsg : dados.mensagem } );\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t} else {\r\n\t\t\tcompRef.setState( { erroMsg : this.getMensagemErro( resposta.status ) } );\t\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\ttrataRespostaNaoOkCBK( resposta, callback ) {\r\n\t\tif ( resposta.status === 400 ) {\r\n\t\t\tresposta.json().then( (dados) => {\t\t\t\r\n\t\t\t\tif ( typeof( callback ) == 'function' )\r\n\t\t\t\t\tcallback.call( this, dados.mensagem );\r\n\t\t\t} );\r\n\t\t} else {\r\n\t\t\tif ( typeof( callback ) == 'function' )\r\n\t\t\t\tcallback.call( this, this.getMensagemErro( resposta.status ) );\t\t\t\t\r\n\t\t}\t\r\n\t}\r\n\r\n\tgetMensagemErro( status ) {\t\t\t\t\t\t\r\n\t\tswitch( status ) {\r\n\t\t\tcase 401:\r\n\t\t\tcase 403:\r\n\t\t\t\treturn \"Você não tem permissão para acessar esse recurso\";\r\n\t\t\t\t\r\n\t\t\tcase 404:\r\n\t\t\t\treturn \"Recurso não encontrado no servidor.\";\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\tcase 500:\r\n\t\t\t\treturn \"Erro interno no servidor.\";\r\n\t\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"Erro desconhecido\";\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\nlet sistema = new Sistema();\r\nexport default sistema;","import React from 'react';\r\nimport {Alert} from 'reactstrap';\r\n\r\nimport sistema from './../logica/sistema';\r\n\r\nexport default class MensagemPainel extends React.Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { msgId : \"msg-\"+new Date().getTime() };\r\n\t}\t\t\r\n\t\r\n\tcomponentDidUpdate() {\r\n\t\tsistema.scrollTo( this.state.msgId );\r\n\t}\r\n\t\t\t\t\r\n\trender () {\t\t\t\t\r\n\t\tconst {msgId} = this.state;\r\n\t\t\t\t\t\t\t\t\r\n\t\tif ( this.props.msg == null ) {\r\n\t\t\treturn (<span></span>);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Alert id={msgId} color={this.props.cor}>{this.props.msg}</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\t\t\t\t\t\r\n\t\t\r\n}\r\n\t\t","import React from 'react';\r\nimport $ from 'jquery';\r\n\t\r\nexport default class Layout extends React.Component {\r\n\t\t\t\t\t\r\n\tcomponentDidMount() {\r\n\t\t$(\"#carregando\").hide();\r\n\t}\r\n\t\t\t\t\t\r\n\trender() {\r\n\t\treturn( \r\n\t\t\t<div>\t\t\t\t\r\n\t\t\t\t<div id=\"carregando\" style={{position: 'fixed', margin: '10em 46%', zIndex: '1000'}}>\r\n\t\t\t\t\t<div className=\"spinner-border\">\r\n\t\t\t\t\t\t<span className=\"sr-only\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"menu-naveg\"></div>\r\n\t\t\t\t<div className=\"mx-5 my-2 p-4 bg-light rounded\" style={{minHeight: '30em'}}>\t\t\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"pagina\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t<div className=\"bg-dark p-3 text-center text-light\">\r\n\t\t\t\t\t<h5>Produzido por Ítalo Herbert</h5>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\t\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport SedeDetalhes from './sede-detalhes';\r\n\r\nexport default class SedeForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.cnpj = React.createRef();\r\n\t\tthis.inscricaoEstadual = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' ) {\r\n\t\t\tthis.cnpj.current.value = this.props.cnpj;\r\n\t\t\tthis.inscricaoEstadual.current.value = this.props.inscricaoEstadual;\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/sede/salva', {\r\n\t\t\tmethod : 'PUT',\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"cnpj\" : this.cnpj.current.value,\t\r\n\t\t\t\t\"inscricaoEstadual\" : this.inscricaoEstadual.current.value\t\t\t\t\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Dados da sede salvos com sucesso.\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaSedeDetalhes() {\r\n\t\tReactDOM.render( <SedeDetalhes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"card-title text-center\">Registro de sede</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) } className=\"container\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>CNPJ: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.cnpj} name=\"cnpj\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Inscrição estadual: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.inscricaoEstadual} name=\"cnpj\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" className=\"my-1\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaSedeDetalhes( e ) }>Ir para detalhes</button>\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport SedeForm from './sede-form';\r\n\r\nexport default class SedeDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tsede : {} \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/sede/get\", {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { sede : dados } );\t\t\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<SedeForm op=\"editar\" \r\n\t\t\t\tcnpj={this.state.sede.cnpj} \r\n\t\t\t\tinscricaoEstadual={this.state.sede.inscricaoEstadual}\r\n\t\t\t/>,\r\n\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { sede, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Dados da sede</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4>Dados gerais</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display: inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">CNPJ: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{sede.cnpj}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"display: inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Inscrição Estadual: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{sede.inscricaoEstadual}</span>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar sede</Button>\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Funcionarios from './funcionarios';\r\n\r\nexport default class FuncionarioForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tusuarioGrupos : []\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t\tthis.telefone = React.createRef();\r\n\t\tthis.email = React.createRef();\r\n\t\t\r\n\t\tthis.ender = React.createRef();\r\n\t\tthis.numero = React.createRef();\r\n\t\tthis.logradouro = React.createRef();\r\n\t\tthis.bairro = React.createRef();\r\n\t\tthis.cidade = React.createRef();\r\n\t\tthis.uf = React.createRef();\t\t\r\n\t\t\r\n\t\tthis.usuarioGrupo = React.createRef();\r\n\t\tthis.username = React.createRef();\t\t\r\n\t\tthis.password = React.createRef();\t\t\r\n\t\tthis.password2 = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tthis.carregaGrupos();\r\n\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carregaFuncionario();\t\t\r\n\t}\r\n\t\r\n\tcarregaFuncionario() {\r\n\t\tfetch( '/api/funcionario/get/'+this.props.funcId, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.nome.current.value = dados.pessoa.nome;\r\n\t\t\t\t\tthis.telefone.current.value = dados.pessoa.telefone;\r\n\t\t\t\t\tthis.email.current.value = dados.pessoa.email;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.ender.current.value = dados.pessoa.endereco.ender;\r\n\t\t\t\t\tthis.numero.current.value = dados.pessoa.endereco.numero;\r\n\t\t\t\t\tthis.logradouro.current.value = dados.pessoa.endereco.logradouro;\r\n\t\t\t\t\tthis.bairro.current.value = dados.pessoa.endereco.bairro;\r\n\t\t\t\t\tthis.cidade.current.value = dados.pessoa.endereco.cidade;\r\n\t\t\t\t\tthis.uf.current.value = dados.pessoa.endereco.uf;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.username.current.value = dados.usuario.username;\r\n\t\t\t\t\tthis.usuarioGrupo.current.value = dados.usuario.grupo.nome;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tcarregaGrupos() {\r\n\t\tfetch( \"/api/usuario/grupo/lista\", {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\tthis.setState( { usuarioGrupos : dados } );\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} );\t\t\t \r\n\t\t} );\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/funcionario/atualiza/\"+this.props.funcId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/funcionario/registra\";\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( url, {\r\n\t\t\tmethod : metodo,\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"pessoa\" : {\r\n\t\t\t\t\t\"nome\" : this.nome.current.value,\r\n\t\t\t\t\t\"telefone\" : this.telefone.current.value,\t\t\t\t\r\n\t\t\t\t\t\"email\" : this.email.current.value,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"endereco\" : {\r\n\t\t\t\t\t\t\"ender\" : this.ender.current.value,\r\n\t\t\t\t\t\t\"numero\" : this.numero.current.value,\r\n\t\t\t\t\t\t\"bairro\" : this.bairro.current.value,\r\n\t\t\t\t\t\t\"cidade\" : this.cidade.current.value,\r\n\t\t\t\t\t\t\"uf\" : this.uf.current.value,\r\n\t\t\t\t\t\t\"logradouro\" : this.logradouro.current.value\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t\"usuario\" : {\r\n\t\t\t\t\t\"username\" : this.username.current.value,\r\n\t\t\t\t\t\"password\" : this.password.current.value,\r\n\t\t\t\t\t\"grupo\" : {\r\n\t\t\t\t\t\t\"nome\" : this.usuarioGrupo.current.value\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Funcionario salvo com sucesso.\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaFuncionarios() {\r\n\t\tReactDOM.render( <Funcionarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, usuarioGrupos } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Registro de funcionarios</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Telefone: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"tel\" ref={this.telefone} name=\"tel\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>E-Mail: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"email\" ref={this.email} name=\"email\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Endereço</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Ender:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.ender} name=\"ender\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Numero:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.numero} name=\"numero\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Logradouro:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.logradouro} name=\"logradouro\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Bairro:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.bairro} name=\"bairro\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Cidade:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.cidade} name=\"cidade\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>UF:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.uf} name=\"uf\" />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Usuario:</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome de usuário:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.username} name=\"username\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Grupos de usuário:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<select name=\"usuarioGrupo\" ref={this.usuarioGrupo} className=\"form-control\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key=\"0\" value=\"NONE\">Selecione um grupo!</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ usuarioGrupos.map( (item, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={i+1} value={item}>{item}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t} )\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Senha:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"password\" ref={this.password} name=\"password\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Repita a senha:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"password\" ref={this.password2} name=\"password2\" />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaFuncionarios(e) }>Ir para funcionarios</button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport FuncionarioForm from './funcionario-form';\r\nimport Funcionarios from './funcionarios';\r\n\r\nexport default class FuncionarioDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tfuncionario : {\r\n\t\t\t\tpessoa : {\r\n\t\t\t\t\tendereco : {}\r\n\t\t\t\t},\r\n\t\t\t\tusuario : {}\r\n\t\t\t} \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/funcionario/get/\"+this.props.funcId, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { funcionario : dados } );\r\n\t\t\t\t} );\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t \r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<FuncionarioForm op=\"editar\" funcId={this.props.funcId} />,\r\n\t\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaFuncionarios() {\r\n\t\tReactDOM.render( <Funcionarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { funcionario, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Dados do funcionário</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Nome: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.nome}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Telefone: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.telefone}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">E-Mail: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.email}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4>Endereço</h4>\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Ender: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.ender}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Numero: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.numero}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Logradouro: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.logradouro}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Bairro: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.bairro}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Cidade: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.cidade}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">UF: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.pessoa.endereco.uf}</span>\r\n\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Dados usuario</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row  className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Username: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.usuario.username}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Tipo: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{funcionario.usuario.tipo}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar funcionario</Button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaFuncionarios(e) }>Ir para funcionarios</button>\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport FuncionarioDetalhes from './funcionario-detalhes';\r\nimport FuncionarioForm from './funcionario-form';\r\n\r\nexport default class Funcionarios extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tfuncionarios : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\r\n\r\n\t\tthis.nomeIni = React.createRef();\r\n\t\tthis.usernameIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.nomeIni.current.value = \"*\";\r\n\t\tthis.usernameIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/funcionario/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\tnomeIni : this.nomeIni.current.value,\r\n\t\t\t\tusernameIni : this.usernameIni.current.value\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { funcionarios : dados } );\t\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum funcionário encontrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tdetalhes( e, funcId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <FuncionarioDetalhes funcId={funcId}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, funcId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, funcId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, funcId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/funcionario/deleta/\"+funcId, {\r\n\t\t\tmethod : \"DELETE\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Funcionario removido com êxito!\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <FuncionarioForm op=\"cadastrar\" />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, funcionarios, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de funcionario</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o funcionario selecionado?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaRegistro(e)}>Registrar novo funcionário</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center col-md-12\">Lista de Funcionarios</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome</th>\r\n\t\t\t\t\t\t\t\t<th>Nome de usuário</th>\r\n\t\t\t\t\t\t\t\t<th>Tipo</th>\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{funcionarios.map( ( func, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{func.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{func.pessoa.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{func.usuario.username}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{func.usuario.tipo}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, func.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, func.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-6\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar funcionarios</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nomeIni} name=\"nomeIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome de usuário:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.usernameIni} name=\"usernameIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t \r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Fornecedores from './fornecedores';\r\n\r\nexport default class FornecedorForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.empresa = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.empresa.current.value = this.props.empresa;\t\t\t\t\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/fornecedor/atualiza/\"+this.props.fornecedorId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/fornecedor/registra\";\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( url, {\r\n\t\t\tmethod : metodo,\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"empresa\" : this.empresa.current.value\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Fornecedor salvo com sucesso.\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaFornecedores() {\r\n\t\tReactDOM.render( <Fornecedores />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Registro de fornecedores</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Empresa: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.empresa} name=\"empresa\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaFornecedores( e ) }>Ir para fornecedores</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport FornecedorForm from './fornecedor-form';\r\nimport Fornecedores from './fornecedores';\r\n\r\nexport default class FornecedorDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tfornecedor : {} \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tlet fornecedorId = this.props.fornecedorId;\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/fornecedor/get/\"+fornecedorId, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { fornecedor : dados } );\t\t\t\t\r\n\t\t\t\t} );\t\t\r\n\t\t\t} else {\t\t\t\t\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t \r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<FornecedorForm op=\"editar\"\r\n\t\t\t\tfornecedorId={this.props.fornecedorId} \r\n\t\t\t\tempresa={this.state.fornecedor.empresa} \r\n\t\t\t/>,\r\n\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\tparaTelaFornecedores() {\r\n\t\tReactDOM.render( <Fornecedores />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { fornecedor, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Dados do fornecedor</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4>Dados gerais</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Empresa: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{fornecedor.empresa}</span>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar fornecedor</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaFornecedores( e ) }>Ir para fornecedores</button>\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport FornecedorDetalhes from './fornecedor-detalhes';\r\nimport FornecedorForm from './fornecedor-form';\r\n\r\nexport default class Fornecedores extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tfornecedores : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.empresaIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.empresaIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/fornecedor/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\t\"empresaIni\" : this.empresaIni.current.value,\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { fornecedores : dados } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum fornecedor registrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tdetalhes( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <FornecedorDetalhes fornecedorId={id}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, id ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, id );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/fornecedor/deleta/\"+id, {\r\n\t\t\tmethod : \"DELETE\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Fornecedor removido com êxito!\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <FornecedorForm op=\"cadastrar\" />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, fornecedores, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de fornecedor</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o fornecedor selecionado?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\t\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaRegistro(e)}>Registrar novo fornecedor</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Fornecedores</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome da empresa</th>\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{fornecedores.map( ( fornecedor, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{fornecedor.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{fornecedor.empresa}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, fornecedor.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, fornecedor.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar fornecedores</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Empresa:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.empresaIni} name=\"empresaIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" className=\"mb-3\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport Produtos from './produtos';\r\n\r\nexport default class ProdutoForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\tthis.descricao = React.createRef();\r\n\t\tthis.precoUnitCompra = React.createRef();\r\n\t\tthis.precoUnitVenda = React.createRef();\r\n\t\tthis.unidade = React.createRef();\r\n\r\n\t\tthis.codigoBarras = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carrega();\t\t\r\n\t}\r\n\t\r\n\tcarrega() {\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/produto/get/\"+this.props.produtoId, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.descricao.current.value = dados.descricao;\r\n\t\t\t\t\tthis.precoUnitCompra.current.value = dados.precoUnitCompra;\r\n\t\t\t\t\tthis.precoUnitVenda.current.value = dados.precoUnitVenda;\r\n\t\t\t\t\tthis.unidade.current.value = dados.unidade;\r\n\r\n\t\t\t\t\tthis.codigoBarras.current.value = dados.codigoBarras;\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\t\t\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\t\t\t\t\r\n\t\t\r\n\t\tfetch( \"/api/produto/salva\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"codigoBarras\" : this.codigoBarras.current.value,\r\n\t\t\t\t\"descricao\" : this.descricao.current.value,\r\n\t\t\t\t\"precoUnitCompra\" : sistema.paraFloat( this.precoUnitCompra.current.value ),\r\n\t\t\t\t\"precoUnitVenda\" : sistema.paraFloat( this.precoUnitVenda.current.value ),\r\n\t\t\t\t\"unidade\" : this.unidade.current.value\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Produto cadastrado com sucesso.\" } );\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( this.props.registrou ) === \"function\" )\r\n\t\t\t\t\tthis.props.registrou.call( this );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\t\t\r\n\t\r\n\tbuscar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\t\t\r\n\r\n\t\tlet codBarras = this.codigoBarras.value; \r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/produto/busca/\"+codBarras, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.codigoBarras.current.value = dados.codigoBarras;\r\n\t\t\t\t\tthis.descricao.current.value = dados.descricao;\r\n\t\t\t\t\tthis.precoUnitCompra.current.value = dados.precoUnitCompra;\r\n\t\t\t\t\tthis.precoUnitVenda.current.value = dados.precoUnitVenda;\r\n\t\t\t\t\tthis.unidade.current.value = dados.unidade;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState({});\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaProdutos( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <Produtos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-sm-2\"></Col>\t\r\n\t\t\t\t\t<Col className=\"col-sm-8\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Salvar produto</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Descrição: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricao} name=\"descricao\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Codigo de barras: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Row className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.codigoBarras} name=\"codigoBarras\" />\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"button\" variant=\"primary\" onClick={ (e) => this.buscar( e ) }>Buscar</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Preço Compra por Unidade: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.precoUnitCompra} name=\"precoUnitCompra\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Preço Venda por Unidade: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.precoUnitVenda} name=\"precoUnitVenda\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Unidade: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.unidade} name=\"unidade\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaProdutos( e ) }>Para tela de produtos</button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport ProdutoForm from './produto-form';\r\nimport Produtos from './produtos';\r\n\r\nexport default class ProdutoDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tproduto : { subcategorias : [] } \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\t\t\r\n\t\tlet produtoId = this.props.produtoId;\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/produto/get/\"+produtoId, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { produto : dados } );\t\t\t\t\r\n\t\t\t\t} );\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\r\n\t}\r\n\t\t\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<ProdutoForm op=\"editar\"\r\n\t\t\t\ttitulo=\"Altere a produto\" \r\n\t\t\t\tprodutoId={this.props.produtoId} />,\r\n\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaProdutos() {\r\n\t\tReactDOM.render( <Produtos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { produto, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn ( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Dados do produto</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Descrição: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.descricao}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Codigo barras: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.codigoBarras}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Preço compra: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.precoUnitCompra}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Preço venda: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.precoUnitVenda}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"display-inline\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Unidade: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{produto.unidade}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" onClick={(e) => this.editar( e )}>Editar produto</Button>\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaProdutos( e ) }>Ir para produtos</button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport CategoriaDetalhes from './categoria-detalhes';\r\n\r\nexport default class CategoriaForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.descricao = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.descricao.current.value = this.props.descricao;\t\t\t\t\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/categoria/atualiza/\"+this.props.categoriaId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/categoria/registra\";\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\t\t\r\n\t\tfetch( url, {\r\n\t\t\tmethod : metodo,\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"descricao\" : this.descricao.current.value\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Categoria cadastrada com sucesso.\" } );\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( this.props.registrou ) === \"function\" )\r\n\t\t\t\t\tthis.props.registrou.call();\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\t\r\n\tparaTelaCategoriaDetalhes() {\r\n\t\tReactDOM.render( <CategoriaDetalhes categoriaId={this.props.categoriaId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t<h4 className=\"card-title\">{this.props.titulo}</h4>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t<Form.Label>Descrição: </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricao} name=\"descricao\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t{ this.props.op === 'editar' && (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCategoriaDetalhes( e ) }>Ir para detalhes</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) }\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport CategoriaDetalhes from './categoria-detalhes';\r\n\r\nexport default class SubCategoriaForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.descricao = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.descricao.current.value = this.props.descricao;\t\t\t\t\t\t\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\t\t\r\n\t\t\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/subcategoria/atualiza/\"+this.props.subcategoriaId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/subcategoria/registra/\"+this.props.categoriaId;\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( url, {\r\n\t\t\tmethod : metodo,\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"descricao\" : this.descricao.current.value\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Subcategoria salva com sucesso.\" } );\r\n\t\t\t\t\r\n\t\t\t\tif ( typeof( this.props.registrou ) === \"function\" )\r\n\t\t\t\t\tthis.props.registrou.call();\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaCategoria( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<CategoriaDetalhes categoriaId={this.props.categoriaId} />, \r\n\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t<h4 className=\"card-title\">{this.props.titulo}</h4>\r\n\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t<Form.Label>Descrição: </Form.Label>\r\n\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricao} name=\"descricao\" />\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\r\n\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t{(this.props.op === 'editar' ) && ( \r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={(e) => this.paraTelaCategoria(e) }>Ir para categoria</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) }\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</Form>\t\t\t\t\t\t\t\t\r\n\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport CategoriaForm from './categoria-form';\r\nimport SubCategoriaForm from './subcategoria-form';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport Categorias from './categorias';\r\n\r\nexport default class CategoriaDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tcategoria : { subcategorias : [] },\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\r\n\t\t\r\n\t\tthis.subcatDescricaoIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.carregar( null );\r\n\t\t\r\n\t\tthis.subcatDescricaoIni.current.value = \"*\";\r\n\t}\r\n\t\r\n\tcarregar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\r\n\t\tlet categoriaId = this.props.categoriaId;\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\t\t\r\n\t\tfetch( \"/api/categoria/get/\"+categoriaId, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\r\n\t\t\t\t\tthis.setState( { categoria : dados } );\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\t\t\t\t\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\r\n\t}\r\n\t\t\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<CategoriaForm op=\"editar\"\r\n\t\t\t\ttitulo=\"Altere a categoria\" \r\n\t\t\t\tcategoriaId={this.props.categoriaId} \r\n\t\t\t\tdescricao={this.state.categoria.descricao} \r\n\t\t\t/>,\r\n\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tfiltrarSubcategorias( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\r\n\t\tlet categoriaId = this.props.categoriaId;\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\t\t\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\t\t\r\n\t\tfetch( \"/api/subcategoria/filtra/\"+categoriaId, {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"descricaoIni\" : this.subcatDescricaoIni.current.value\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { categoria : { subcategorias : dados } } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma subcategoria encontrada pelos critérios de busca informados.\" } );\t\t\t\t\t\r\n\t\t\t\t} );\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\t\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\teditarSubcategoria( e, subcat ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( \t\t\t\r\n\t\t\t<SubCategoriaForm \r\n\t\t\t\top=\"editar\" \r\n\t\t\t\ttitulo=\"Altere a subcategoria\"\r\n\t\t\t\tcategoriaId={this.state.categoria.id}\r\n\t\t\t\tsubcategoriaId={subcat.id} \r\n\t\t\t\tdescricao={subcat.descricao} \r\n\t\t\t/>, sistema.paginaElemento() ); \r\n\t}\r\n\t\r\n\tremoverSubcategoriaSeConfirmado( e, subcatId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.removerSubcategoria( e, subcatId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremoverSubcategoria( e, subcatId ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tfetch( \"/api/subcategoria/deleta/\"+subcatId, {\r\n\t\t\tmethod : \"DELETE\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Subcategoria removida com êxito!\" } );\r\n\t\t\t\tthis.filtrarSubcategorias( e, null );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\t\t\t\t\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\r\n\t}\r\n\t\r\n\tparaTelaCategorias() {\r\n\t\tReactDOM.render( <Categorias />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { categoria, erroMsg, infoMsg, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de subcategoria</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover a subcategoria selecionada?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\r\n\t\t\t\t<h4 className=\"text-center\">Dados do categoria</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"inline-block\">\t\r\n\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Descrição: </span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-info\">{categoria.descricao}</span>\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar categoria</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Subcategorias</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t<th>Editar</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{categoria.subcategorias.map( ( subcategoria, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{subcategoria.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{subcategoria.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.editarSubcategoria( e, subcategoria )}>editar</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSubcategoriaSeConfirmado( e, subcategoria.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\r\n\t\t\t\t\t\t\t<h4>Filtro de categorias</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrarSubcategorias( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Descrição:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.subcatDescricaoIni} name=\"subcatDescricaoIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<SubCategoriaForm \r\n\t\t\t\t\t\t\top=\"cadastrar\" \r\n\t\t\t\t\t\t\ttitulo=\"Registre nova subcategoria\"\r\n\t\t\t\t\t\t\tcategoriaId={this.props.categoriaId} \r\n\t\t\t\t\t\t\tregistrou={ () => this.filtrarSubcategorias( null, false ) } />\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCategorias( e ) }>Ir para categorias</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport CategoriaDetalhes from './categoria-detalhes';\r\nimport CategoriaForm from './categoria-form';\r\n\r\nexport default class Categorias extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\taddErroMsg : null, \r\n\t\t\taddInfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tcategorias : [],\t\t\t\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.descricaoIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.descricaoIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, true );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tfetch( \"/api/categoria/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\t\"descricaoIni\" : this.descricaoIni.current.value\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { categorias : dados } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma categoria registrada!\" } );\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tdetalhes( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <CategoriaDetalhes categoriaId={id}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, id ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, id );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/categoria/deleta/\"+id, {\r\n\t\t\tmethod : \"DELETE\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Categoria removida com êxito!\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\t\t\t\t\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, categorias, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de categoria</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover a categoria selecionada?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Categorias</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{categorias.map( ( categoria, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{categoria.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{categoria.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, categoria.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, categoria.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtro de categorias</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Descrição:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricaoIni} name=\"descricaoIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<CategoriaForm \r\n\t\t\t\t\t\t\top=\"cadastrar\"\r\n\t\t\t\t\t\t\ttitulo=\"Cadastre nova categoria\" \r\n\t\t\t\t\t\t\tregistrou={ () => this.filtrar( null, false) } />\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Table, Form, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport ProdutoDetalhes from './produto-detalhes';\r\nimport ProdutoForm from './produto-form';\r\n\r\nimport Categorias from './../categorias/categorias';\r\n\r\nexport default class Produtos extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tprodutos : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\t\t\r\n\t\tthis.descricaoIni = React.createRef();\r\n\t\tthis.codigoBarras = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.descricaoIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tlet descIni = this.descricaoIni.current.value;\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/produto/filtra/\"+descIni, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { produtos : dados } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma produto encontrado!\" } );\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tbuscar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tlet codBarras = this.codigoBarras.current.value; \r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/produto/busca/\"+codBarras, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.state.produtos.push( dados );\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma produto encontrado!\" } );\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tdetalhes( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <ProdutoDetalhes produtoId={id}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, id ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, id );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/produto/deleta/\"+id, {\r\n\t\t\tmethod : \"DELETE\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Produto removido com êxito!\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\t\t\t\t\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaCadastroForm( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<ProdutoForm op=\"cadastrar\" titulo=\"Cadastre um novo produto\" />, \r\n\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaCategorias( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <Categorias />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, produtos, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de produto</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o produto selecionado?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button  className=\"float-start\" variant=\"primary\" onClick={ (e) => this.paraCategorias( e ) } >Categorias</Button>\r\n\t\t\t\t\t\t\t<Button  className=\"float-end\" variant=\"primary\" onClick={ (e) => this.paraCadastroForm( e ) } >Cadastre um novo produto</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Lista de Produtos</h4>\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Código de barras</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Preço compra</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Preço venda</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Quantidade</th>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{produtos.map( ( item, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.codigoBarras}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitCompra ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitVenda ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( item.quantidade ) } {item.unidade}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, item.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, item.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t\t<h4>Filtrar produtos</h4>\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Descrição:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricaoIni} name=\"descricaoIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.buscar( e ) }>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Codigo de barras:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.codigoBarras} name=\"codigoBarras\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\"variant=\"primary\">Buscar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\n\r\nexport default class InputDropdown extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { id : 'input-dropdown'+new Date().getTime()+Math.random() };\r\n\t\tthis.texto = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\t\t\t\r\n\t\tdocument.getElementById( this.state.id ).style.display = 'none';\r\n\t\tdocument.getElementById( this.state.id ).style.visibility = 'hidden';\t\t\t\t\r\n\t}\r\n\t\r\n\tonChangeTexto( e ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tdocument.getElementById( this.state.id ).style.display = 'block';\r\n\t\tdocument.getElementById( this.state.id ).style.visibility = 'visible';\r\n\t\t\t\t\t\r\n\t\tlet item;\r\n\t\tif ( this.props.referencia !== null && this.props.referencia !== undefined )\r\n\t\t\titem = this.props.referencia.current.value;\t\r\n\t\telse item = this.texto.current.value;\r\n\t\t\t\t\t\t\r\n\t\tif ( typeof( this.props.carregaItens ) === \"function\" ) {\r\n\t\t\tthis.props.carregaItens.call( this, item );\r\n\t\t\tthis.setState( {} );\r\n\t\t}\r\n\t}\r\n\t\r\n\tonClickMostraEscondeDropdown( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tvar el = document.getElementById( this.state.id );\r\n\t\tif ( el.style.visibility === 'visible' ) {\r\n\t\t\tel.style.display = 'none';\r\n\t\t\tel.style.visibility = 'hidden';\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\tel.style.display = 'block';\r\n\t\t\tel.style.visibility = 'visible';\r\n\t\t\t\r\n\t\t\tif ( typeof( this.props.carregaItens ) === \"function\" ) {\r\n\t\t\t\tlet item;\r\n\t\t\t\tif ( this.props.referencia !== null && this.props.referencia !== undefined )\r\n\t\t\t\t\titem = this.props.referencia.current.value;\t\r\n\t\t\t\telse item = this.texto.current.value;\r\n\t\t\t\t\r\n\t\t\t\tthis.props.carregaItens.call( this, item );\r\n\t\t\t\tthis.setState( {} );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tonClickItem( e, item, index ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\r\n\t\tdocument.getElementById( this.state.id ).style.display = 'none';\r\n\t\tdocument.getElementById( this.state.id ).style.visibility = 'hidden';\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\tif ( this.props.referencia !== null && this.props.referencia !== undefined )\r\n\t\t\tthis.props.referencia.current.value = item;\t\r\n\t\telse this.texto.current.value = item;\t\r\n\t\t\r\n\t\tif ( typeof( this.props.carregaItens ) === \"function\" ) {\r\n\t\t\tthis.props.carregaItens.call( this, item );\r\n\t\t\tthis.setState( {} );\r\n\t\t}\r\n\t\t\r\n\t\tif ( typeof( this.props.itemClicado ) === \"function\" ) {\r\n\t\t\tthis.props.itemClicado.call( this, item, index );\r\n\t\t\tthis.setState( {} );\r\n\t\t}\r\n\t}\t\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { id } = this.state;\t\t\r\n\t\t\t\t\r\n\t\tlet referencia;\r\n\t\tif ( this.props.referencia !== null && this.props.referencia !== undefined )\r\n\t\t\treferencia = this.props.referencia;\t\r\n\t\telse referencia = this.texto;\t\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t<input type=\"text\" ref={referencia} name=\"texto\" \r\n\t\t\t  \t\t\tonChange={ (e) => this.onChangeTexto( e ) } \r\n\t\t\t\t\t\tonClick={ (e) => this.onClickMostraEscondeDropdown( e ) }\r\n\t\t\t  \t\t\tclassName=\"form-control\" />\r\n\t\t\t  \t\t\t\t\r\n\t\t\t  \t<div id={id} className=\"dropdown-menu\" aria-labelledby=\"texto\">\t\t\t  \t\t\t\t\t  \t\t\t\r\n\t\t\t  \t\t{this.props.itens.map( (item, index) => {\r\n\t\t\t\t\t\treturn( \r\n\t\t\t\t\t\t\t<button key={index} className=\"dropdown-item\"  \r\n\t\t\t\t\t\t\t\tonClick={ (e) => this.onClickItem( e, item, index ) }>\r\n\t\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t</button> \r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t} ) }\t\t \t\r\n\t\t\t  \t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport { Row, Col, Card, Table, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport InputDropdown from './../../componente/input-dropdown';\r\n\r\nexport default class AddCompraProdutoCategorias extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \t\t\t\r\n\t\t\terroMsg : null,\r\n\t\t\tcategoria : '',\r\n\t\t\tsubcategoria : '',\r\n\t\t\tcategoriasLista : [],\r\n\t\t\tsubcategoriasLista : []\r\n\t\t};\t\t\t\t\t\t\t\t\t\t\r\n\t\tthis.categoria = React.createRef();\r\n\t\tthis.subcategoria = React.createRef();\r\n\t}\t\t\t\r\n\t\t\t\r\n\taddCategoria( item ) {\r\n\t\titem.preventDefault();\t\t\t\t\r\n\r\n\t\tthis.setState( { erroMsg : null } );\r\n\t\t\r\n\t\tlet catdesc = this.state.categoria;\r\n\t\tlet subcatdesc = this.state.subcategoria;\r\n\t\t\r\n\t\tif ( catdesc.length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"A categoria é um campo obrigatório\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif ( subcatdesc.length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"A subcategoria (valor) é um campo obrigatório\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\t\t\t\r\n\t\tlet categoria = null;\r\n\t\tfor( let i = 0; categoria === null && i < this.props.categorias.length; i++ ) {\r\n\t\t\tlet cat = this.props.categorias[ i ];\r\n\t\t\tif( cat.descricao.toLowerCase() === catdesc.toLowerCase() ) \r\n\t\t\t\tcategoria = cat;\r\n\t\t}\r\n\t\t\r\n\t\tlet jaInserida = false;\r\n\t\tif ( categoria === null ) {\r\n\t\t\tcategoria = {\r\n\t\t\t\tdescricao : catdesc,\r\n\t\t\t\tsubcategorias : []\r\n\t\t\t}\r\n\t\t\tthis.props.categorias.push( categoria );\r\n\t\t} else {\r\n\t\t\tfor( let i = 0; jaInserida === false && i < categoria.subcategorias.length; i++ ) {\r\n\t\t\t\tlet subcat = categoria.subcategorias[ i ];\r\n\t\t\t\tif ( subcat.descricao.toLowerCase() === subcatdesc.toLowerCase() )\r\n\t\t\t\t\tjaInserida = true;\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif ( jaInserida === false ) {\r\n\t\t\tcategoria.subcategorias.push( {\r\n\t\t\t\tdescricao : subcatdesc\r\n\t\t\t} );\r\n\t\t\t\r\n\t\t\tthis.categoria.current.value = '';\r\n\t\t\tthis.subcategoria.current.value = '';\r\n\t\t\t\r\n\t\t\tthis.setState( { categoria : '', subcategoria : '' } );\r\n\t\t} else {\r\n\t\t\tthis.setState( { erroMsg : 'Já existe inserida combinação de categoria e subcategoria informadas.' } );\r\n\t\t}\r\n\t}\r\n\t\r\n\tremoveCategoria( item, cat, subcat ) {\r\n\t\titem.preventDefault();\r\n\t\t\r\n\t\tlet fim = false;\r\n\t\tlet size = this.props.categorias.length;\r\n\t\tfor( let i = 0; fim === false && i < size; i++ ) {\r\n\t\t\tlet catObj = this.props.categorias[ i ];\r\n\t\t\tif ( catObj.descricao.toLowerCase() === cat.toLowerCase() ) {\r\n\t\t\t\tlet size2 = catObj.subcategorias.length;\r\n\t\t\t\tfor( let j = 0; fim === false && j < size2; j++ ) {\r\n\t\t\t\t\tlet subcatObj = catObj.subcategorias[ j ];\r\n\t\t\t\t\tif ( subcatObj.descricao.toLowerCase() === subcat.toLowerCase() ) {\r\n\t\t\t\t\t\tcatObj.subcategorias.splice( j, 1 );\r\n\t\t\t\t\t\tfim = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( catObj.subcategorias.length <= 0 )\r\n\t\t\t\t\t\tthis.props.categorias.splice( i, 1 );\r\n\t\t\t\t}\r\n\t\t\t\tfim = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setState( {} );\r\n\t}\r\n\t\t\t\r\n\tcategoriaOnChange( item ) {\r\n\t\tthis.setState( { categoria : item } );\t\t\r\n\t\t\r\n\t\tif ( item.length === 0 )\r\n\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\r\n\t\tfetch( '/api/categoria/filtra/limit/5', {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"descricaoIni\" : item\r\n\t\t\t} )\r\n\t\t} ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { categoriasLista : [] } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor( let i = 0; i < dados.length; i++ )\r\n\t\t\t\t\t\tthis.state.categoriasLista.push( dados[ i ].descricao );\t\t\t\t\t\r\n\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\t\r\n\tsubcategoriaOnChange( item ) {\t\t\t\t\t\t\r\n\t\tthis.setState( { subcategoria : item } );\t\t\r\n\r\n\t\tif ( item.length === 0 )\r\n\t\t\treturn;\r\n\t\t\t\t\r\n\t\tfetch( '/api/subcategoria/filtra/limit/'+this.state.categoria+'/5', {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"descricaoIni\" : item\r\n\t\t\t} )\r\n\t\t} ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { subcategoriasLista : [] } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor( let i = 0; i < dados.length; i++ )\r\n\t\t\t\t\t\tthis.state.subcategoriasLista.push( dados[ i ].descricao );\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, categoriasLista, subcategoriasLista } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t<div>\r\n\t\t\t\t<h4 className=\"text-center\">Lista de categorias</h4>\r\n\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Catetoria</th>\r\n\t\t\t\t\t\t\t\t<th>Subcategoria</th>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{this.props.categorias.map( ( cat, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\tcat.subcategorias.map( ( subcat, index2 ) => {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index * cat.subcategorias.length + index2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{cat.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{subcat.descricao}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(item) => this.removeCategoria( item, cat.descricao, subcat.descricao )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3 my-2\">\r\n\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form.Group className=\"my-2\">\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t<Form.Label>Categoria</Form.Label>\r\n\t\t\t\t\t\t\t\t<InputDropdown referencia={this.categoria} itens={categoriasLista} carregaItens={ (item) => this.categoriaOnChange( item ) } />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t<Form.Label>Subcategoria (Valor)</Form.Label>\r\n\t\t\t\t\t\t\t\t<InputDropdown referencia={this.subcategoria} itens={subcategoriasLista} carregaItens={ (item) => this.subcategoriaOnChange( item ) } />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t<Form.Label>+</Form.Label>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (item) => this.addCategoria( item ) }>Adicionar categoria</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</Card>\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport { Row, Col, Card, Form, Button } from 'react-bootstrap';\r\nimport { Tab, Tabs, TabPanel, TabList } from 'react-tabs';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport AddCompraProdutoCategorias from './add-compra-produto-categorias';\r\n\r\nexport default class AddCompraProduto extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tcodbarInfoMsg : null,\r\n\t\t\tcategorias : []\t\t\t\r\n\t\t};\t\t\r\n\t\tthis.descricao = React.createRef();\r\n\t\tthis.codigoBarras = React.createRef();\r\n\t\tthis.precoUnitCompra = React.createRef();\r\n\t\tthis.precoUnitVenda = React.createRef();\r\n\t\tthis.unidade = React.createRef();\r\n\t\tthis.estoqueQuantidade = React.createRef();\t\t\t\t\t\t\t\t\r\n\t\tthis.paraAddQuantidade = React.createRef();\t\t\t\t\t\t\t\t\r\n\t}\t\t\t\r\n\t\r\n\taddProduto( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null, codbarInfoMsg : null } );\r\n\t\t\r\n\t\tif ( this.descricao.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"A descrição é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif ( this.codigoBarras.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"O código de barras é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif ( this.precoUnitCompra.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"O preço unitário de compra é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif ( this.precoUnitVenda.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"O preço unitário de venda é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\t\t\r\n\t\tif ( this.paraAddQuantidade.current.value.trim().length === 0 ) {\r\n\t\t\tthis.setState( { erroMsg : \"A quantidade é um campo de preenchiento obrigatório.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\tlet produto = {\r\n\t\t\tdescricao : this.descricao.current.value,\r\n\t\t\tcodigoBarras : this.codigoBarras.current.value,\r\n\t\t\tprecoUnitCompra : sistema.paraFloat( this.precoUnitCompra.current.value ),\r\n\t\t\tprecoUnitVenda : sistema.paraFloat( this.precoUnitVenda.current.value ),\r\n\t\t\tunidade : this.unidade.current.value,\r\n\t\t\tparaAddQuantidade : sistema.paraFloat( this.paraAddQuantidade.current.value ),\r\n\t\t\tcategorias : this.state.categorias\r\n\t\t};\t\r\n\t\t\r\n\t\tthis.limpaProdutoForm();\r\n\t\t\r\n\t\tif ( typeof( this.props.produtoAdicionado ) === \"function\" )\r\n\t\t\tthis.props.produtoAdicionado.call( this, produto );\t\t\r\n\t}\t\r\n\t\t\t\r\n\tlimpaProdutoForm() {\r\n\t\tthis.descricao.current.value = \"\";\r\n\t\tthis.codigoBarras.current.value = \"\";\r\n\t\tthis.precoUnitCompra.current.value = \"\";\r\n\t\tthis.precoUnitVenda.current.value = \"\";\r\n\t\tthis.unidade.current.value = \"\";\r\n\t\tthis.paraAddQuantidade.current.value = \"\";\r\n\t\t\r\n\t\tthis.setState( { categorias : [] } );\r\n\t}\r\n\t\r\n\tbuscar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { codbarInfoMsg : null } );\r\n\t\t\r\n\t\tlet codbar = this.codigoBarras.current.value;\r\n\t\t\r\n\t\tfetch( '/api/produto/busca/'+codbar, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.descricao.current.value = dados.descricao;\r\n\t\t\t\t\tthis.precoUnitCompra.current.value = sistema.formataFloat( dados.precoUnitCompra );\r\n\t\t\t\t\tthis.precoUnitVenda.current.value = sistema.formataFloat( dados.precoUnitVenda );\r\n\t\t\t\t\tthis.unidade.current.value = dados.unidade;\r\n\t\t\t\t\tthis.estoqueQuantidade.current.value = sistema.formataFloat( dados.quantidade );\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { categorias : dados.categorias } );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOkCBK( resposta, ( msg ) => {\r\n\t\t\t\t\tthis.setState( { codbarInfoMsg : msg } );\t\t\t\t\t\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} ); \r\n\t\t\t\r\n\t}\r\n\t\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, codbarInfoMsg, categorias } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\r\n\t\t\t<Form onSubmit={(e) => this.addProduto( e ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Tabs forceRenderTabPanel={true}>\r\n\t\t\t\t\t<TabList>\r\n\t\t\t\t\t\t<Tab>Dados do produto</Tab>\r\n\t\t\t\t\t\t<Tab>Categorias</Tab>\r\n\t\t\t\t\t</TabList>\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados do produto</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Form.Label>Descrição: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.descricao} name=\"descricao\" />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Form.Label>Codigo de barras: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Row className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-10\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.codigoBarras} name=\"codigoBarras\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"button\" variant=\"primary\" onClick={ (e) => this.buscar( e ) }>Buscar</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"info\" msg={codbarInfoMsg} />\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Preço Compra: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.precoUnitCompra} name=\"precoUnitCompra\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Preço Venda: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.precoUnitVenda} name=\"precoUnitVenda\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Unidade: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.unidade} name=\"unidade\" />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Label>Quantidade em estoque: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" disabled={true} ref={this.estoqueQuantidade} name=\"estoqueQuantidade\" />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Label>Quantidade para adicionar: </Form.Label>\r\n\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.paraAddQuantidade} name=\"paraAddQuantidade\" />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<AddCompraProdutoCategorias categorias={categorias} />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\" className=\"my-3\">Adicionar produto</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport { Card, Form } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport InputDropdown from './../../componente/input-dropdown';\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class SetCompraFornecedor extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tfornecedoresLista : []\t\t\r\n\t\t};\t\t\r\n\t}\r\n\t\t\r\n\tfornecedorOnChange( item ) {\t\t\t\t\t\t\t\t\t\t\r\n\t\tfetch( '/api/fornecedor/filtra/limit/5', {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"empresaIni\" : item\r\n\t\t\t} )\r\n\t\t} ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { fornecedoresLista : [] } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor( let i = 0; i < dados.length; i++ )\r\n\t\t\t\t\t\tthis.state.fornecedoresLista.push( dados[ i ].empresa );\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\t\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, fornecedoresLista } = this.state;\r\n\t\tconst { fornecedorEmpresaRef } = this.props;\r\n\t\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\r\n\t\t\t<Form onSubmit={(e) => this.addFornecedor( e ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3 mb-2\">\r\n\t\t\t\t\t<h4 className=\"card-title\">Configurar fornecedor</h4>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t<Form.Label>Fornecedor: </Form.Label>\r\n\t\t\t\t\t\t<InputDropdown referencia={fornecedorEmpresaRef} itens={fornecedoresLista} carregaItens={ (item) => this.fornecedorOnChange( item ) } />\t\t\t\t\t\t\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport { Table, Form, Button } from 'react-bootstrap';\r\n\r\nimport * as moment from 'moment';\r\n\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class GeraCompraParcelas extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tvencimento : 10\r\n\t\t};\t\t\t\r\n\t}\t\t\r\n\t\t\t\t\r\n\tcalcularParcelas( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tconst { parcelas, produtos } = this.props;\r\n\t\t\t\t\r\n\t\tparcelas.splice( 0, parcelas.length );\r\n\t\t\t\r\n\t\tlet total = 0;\r\n\t\tfor( let i = 0; i < produtos.length; i++ ) {\r\n\t\t\tlet p = produtos[ i ];\r\n\t\t\ttotal += parseFloat( p.precoUnitCompra ) * parseFloat( p.paraAddQuantidade );\r\n\t\t}\r\n\t\t\r\n\t\tlet quantParcelas = this.props.quantParcelasRef.current.value;\r\n\t\tlet valorParcela = total / quantParcelas;\r\n\t\tfor( let i = 1; i <= quantParcelas; i++ ) {\t\t\r\n\t\t\tlet dataPag = moment( new Date() ).add( i, 'M' );\r\n\t\t\tlet dataVenc = moment( dataPag ).add( this.state.vencimento, 'd' );\r\n\t\t\t\r\n\t\t\tparcelas.push( { valor : valorParcela, dataPagamento : dataPag, dataVencimento : dataVenc } );\r\n\t\t}\r\n\t\t\r\n\t\tthis.props.config.valorTotal = total;\r\n\t\tthis.setState( {} );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\t\t\t\t\r\n\t\tconst { parcelas, config, quantParcelasRef } = this.props;\r\n\t\t\t\r\n\t\treturn(\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t<div className=\"p-3\">\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Parcelas</h4>\r\n\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Valor</th>\r\n\t\t\t\t\t\t\t\t<th>Data pagamento</th>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<th>Data vencimento</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{parcelas.map( ( p, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( p.valor ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataData( p.dataPagamento ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataData( p.dataVencimento ) }</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Form onSubmit={ (e) => this.calcularParcelas( e ) }>\r\n\t\t\t\t\t<Form.Group className=\"my-2\">\t\t\r\n\t\t\t\t\t\t<Form.Label>Valor total: &nbsp;\r\n\t\t\t\t\t\t\t<span className=\"text-primary\">\r\n\t\t\t\t\t\t\t\t{ sistema.formataReal( config.valorTotal ) }\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Form.Label>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group className=\"my-2\">\r\n\t\t\t\t\t\t<Form.Label>Numero de parcelas</Form.Label>\r\n\t\t\t\t\t\t<Form.Control type=\"number\" ref={quantParcelasRef} name=\"quantParcelas\" />\t\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Calcular parcelas</Button>\t\t\t\t\t\t\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Card, Table, Form, Button } from 'react-bootstrap';\r\nimport { Tab, Tabs, TabPanel, TabList } from 'react-tabs';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport AddCompraProduto from './add-compra-produto';\r\nimport SetCompraFornecedor from './set-compra-fornecedor';\r\nimport GeraCompraParcelas from './gera-compra-parcelas';\r\n\r\nimport Compras from './compras';\r\n\r\nexport default class CompraRegistro extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\tprodutos : [],\r\n\t\t\tparcelas : [],\r\n\t\t\tgeraParcelasConfig : {\r\n\t\t\t\tvalorTotal : 0,\r\n\t\t\t}\r\n\t\t};\t\r\n\t\t\r\n\t\tthis.quantParcelasRef = React.createRef();\r\n\t\tthis.fornecedorEmpresaRef = React.createRef();\r\n\t}\t\t\t\t\r\n\t\r\n\tprodutoAdicionado( produto ) {\r\n\t\tthis.state.produtos.push( produto );\r\n\t\tthis.setState( { parcelas : [] } );\r\n\t\t\r\n\t\tsistema.scrollTo( 'produtos-tbl-pnl' );\r\n\t}\r\n\t\r\n\tremoveProduto( e, index ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.state.produtos.splice( index, 1 );\r\n\t\tthis.setState( { parcelas : [] } );\r\n\t}\r\n\t\r\n\tregistrarCompra( e ) {\r\n\t\tconst { produtos, parcelas } = this.state;\r\n\t\t\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet itensCompra = [];\r\n\t\tfor( let i = 0; i < produtos.length; i++ ) {\r\n\t\t\tlet p = produtos[ i ];\r\n\t\t\titensCompra.push( {\t\t\t\t\r\n\t\t\t\tprecoUnitario : p.precoUnitCompra,\r\n\t\t\t\tquantidade : p.paraAddQuantidade,\r\n\t\t\t\tproduto : {\r\n\t\t\t\t\tdescricao : p.descricao,\r\n\t\t\t\t\tcodigoBarras : p.codigoBarras,\r\n\t\t\t\t\tprecoUnitCompra : p.precoUnitCompra,\r\n\t\t\t\t\tprecoUnitVenda : p.precoUnitVenda,\r\n\t\t\t\t\tunidade : p.unidade,\r\n\t\t\t\t\t\r\n\t\t\t\t\tcategorias : p.categorias,\r\n\t\t\t\t\tquantidade : p.paraAddQuantidade\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t\t\r\n\t\tlet parcelasList = [];\r\n\t\tfor( let i = 0; i < parcelas.length; i++ ) {\r\n\t\t\tlet p = parcelas[ i ];\r\n\t\t\tparcelasList.push( {\r\n\t\t\t\tvalor : p.valor,\r\n\t\t\t\tdataPagamento : sistema.formataData( p.dataPagamento ),\r\n\t\t\t\tdataVencimento : sistema.formataData( p.dataVencimento )\r\n\t\t\t} );\r\n\t\t}\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\t\t\t\t\r\n\t\t\t\t\r\n\t\tfetch( '/api/compra/registra', {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\tdataCompra : sistema.formataData( new Date() ),\r\n\t\t\t\tfornecedor : {\r\n\t\t\t\t\tempresa : this.fornecedorEmpresaRef.current.value\r\n\t\t\t\t},\r\n\t\t\t\titensCompra : itensCompra,\r\n\t\t\t\tparcelas : parcelasList\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.fornecedorEmpresaRef.current.value = '';\r\n\t\t\t\tthis.quantParcelasRef.current.value = '';\r\n\t\t\t\tthis.setState( { \r\n\t\t\t\t\tinfoMsg : 'Compra registrada com êxito',\r\n\t\t\t\t\tprodutos : [],\r\n\t\t\t\t\tparcelas : [],\r\n\t\t\t\t\tgeraParcelasConfig : {\r\n\t\t\t\t\t\tvalorTotal : 0\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\t\r\n\tparaTelaCompras() {\r\n\t\tReactDOM.render( <Compras />, sistema.paginaElemento() ); \r\n\t}\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, produtos, parcelas, geraParcelasConfig } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\r\n\t\t\t\t<Tabs forceRenderTabPanel={true}>\r\n\t\t\t\t\t<TabList>\r\n\t\t\t\t\t\t<Tab>Produtos</Tab>\r\n\t\t\t\t\t\t<Tab>Fornecedor</Tab>\r\n\t\t\t\t\t\t<Tab>Parcelas</Tab>\r\n\t\t\t\t\t</TabList>\r\n\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Lista de Produtos</h4>\r\n\t\t\t\t\t\t<div id=\"produtos-tbl-pnl\" className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Codigo de Barras</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Quantidade</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Categorias</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{produtos.map( ( p, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ p.descricao }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ p.codigoBarras }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( p.paraAddQuantidade ) } {p.unidade}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{p.categorias.map( (cat, index2) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcat.subcategorias.map( ( subcat, index3 ) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={produtos.length + index2 * cat.subcategorias.length + index3}>{subcat.descricao}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</select>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removeProduto( e, index )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"my-3\">\r\n\t\t\t\t\t\t\t<AddCompraProduto produtos={produtos} produtoAdicionado={ (p) => this.produtoAdicionado( p ) } />\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t\t</TabPanel>\t\t\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<SetCompraFornecedor fornecedorEmpresaRef={this.fornecedorEmpresaRef} />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t<GeraCompraParcelas produtos={produtos} parcelas={parcelas} config={geraParcelasConfig} quantParcelasRef={this.quantParcelasRef} />\r\n\t\t\t\t\t</TabPanel>\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t\r\n\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form className=\"text-center\">\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.registrarCompra( e ) }>Registrar compra</Button>\r\n\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t</Card>\t\t\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCompras( e ) }>Ir para tela de compras</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Container, Row, Col, Card, Table, Form } from 'react-bootstrap';\r\nimport { Tab, Tabs, TabPanel, TabList } from 'react-tabs';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport Compras from './compras';\r\n\r\nexport default class CompraRegistro extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\tcompra : { parcelas : [], itens : [], fornecedor : { empresa : '' } },\r\n\t\t\t\r\n\t\t\ttotal : 0, \r\n\t\t\tvalorPago : 0, \r\n\t\t\tdebito : 0\r\n\t\t};\t\t\t\t\t\t\t\t\r\n\t}\t\t\t\t\r\n\t\r\n\tcomponentDidMount() {\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\r\n\t\tfetch( '/api/compra/get/'+this.props.compraId, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tlet total = 0;\r\n\t\t\t\t\tlet valorPago = 0;\t\t\t\t\t\r\n\t\t\t\t\tfor( let i = 0; i < dados.parcelas.length; i++ ) {\r\n\t\t\t\t\t\tlet valor = sistema.paraFloat( dados.parcelas[ i ].valor );\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( dados.parcelas[ i ].paga === 'true' )\r\n\t\t\t\t\t\t\tvalorPago += valor;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttotal += valor;\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tlet debito = total - valorPago;\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { compra : dados, total : total, valorPago : valorPago, debito : debito } );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tpagarParcela( e, parcelaId ) {\r\n\t\t\r\n\t}\r\n\t\r\n\tparaTelaCompras() {\r\n\t\tReactDOM.render( <Compras />, sistema.paginaElemento() ); \r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, compra, total, valorPago, debito } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<Container>\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<h4>Dados da compra</h4>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div>Data de compra: &nbsp; <span className=\"text-info\">{compra.dataCompra}</span></div>\r\n\t\t\t\t\t<div>Fornecedor: &nbsp; <span className=\"text-info\">{compra.fornecedor.empresa}</span></div>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Tabs>\r\n\t\t\t\t\t\t<TabList>\r\n\t\t\t\t\t\t\t<Tab>Produtos</Tab>\r\n\t\t\t\t\t\t\t<Tab>Parcelas</Tab>\r\n\t\t\t\t\t\t</TabList>\r\n\t\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Codigo de barras</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Valor Unitário</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Quantidade comprada</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{compra.itens.map( (item, index) => {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.id }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.descricao }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.codigoBarras }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitario ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( item.quantidade ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t<TabPanel>\r\n\t\t\t\t\t\t\t{ compra.parcelas.length === 0 ?\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"info\" msg=\"Nenhuma parcela registrada para esta compra!\" /> : \r\n\t\t\t\t\t\t\t\t<span></span> \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Valor</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Data de pagamento</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Data de vencimento</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Situação</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{compra.parcelas.map( (item, index) => {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.valor ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.dataPagamento }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.dataVencimento }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td className={item.paga === 'true' ? \"text-primary\" : \"text-danger\" }>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ ( item.paga === 'true' ? 'Paga' : 'Em débito' ) }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form.Group style={{fontSize: '1.6em'}}>\r\n\t\t\t\t\t\t\t\t<Form.Label>Total: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( total ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Valor pago: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( valorPago ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Débito: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( debito ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</TabPanel>\t\t\t\t\t\t\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCompras( e ) }>Ir para tela de compras</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport DatePicker from 'react-datepicker';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CompraRegistro from './compra-registro';\r\nimport CompraDetalhes from './compra-detalhes';\r\n\r\nexport default class Compras extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tcompras : [],\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\t\t\t\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.filtrar( null, false );\r\n\t}\r\n\t\t\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tfetch( \"/api/compra/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\", \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}, \r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim )\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { compras : dados } );\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma compra encontrada pelos critérios de busca informados!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tchangeDataIni( date ) {\r\n\t\tthis.setState( { dataIni : date } );\t\t\r\n\t}\r\n\t\r\n\tchangeDataFim( date ) {\r\n\t\tthis.setState( { dataFim : date } );\r\n\t}\r\n\t\r\n\tdetalhes( e, compraId ) {\r\n\t\tReactDOM.render( <CompraDetalhes compraId={compraId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, compraId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, compraId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, compraId, instance ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/compra/deleta/'+compraId, {\r\n\t\t\tmethod : 'DELETE',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.filtrar( null, false );\r\n\t\t\t\tthis.setState( { infoMsg : 'Compra deletada com êxito.' } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaRegistroForm( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <CompraRegistro />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, compras, dataIni, dataFim, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de compra</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tTem certeza que deseja remover a compra selecionada? <br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<b>Atenção:</b> Ao escolher remover a compra, esteja ciente que será\r\n\t\t\t\t\t\tatualizado o estoque com a subtração das unidades de produto componentes\r\n\t\t\t\t\t\tda compra!\t\t\t\t\t\t\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\"  onClick={ (e) => this.paraRegistroForm(e)}>Registre uma nova compra</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Lista de Compras</h4>\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Data compra</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Valor total</th>\t\r\n\t\t\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{compras.map( ( compra, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{compra.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{compra.dataCompra}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( compra.debitoTotal ) }</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, compra.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, compra.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar compras</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataIni( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataFim( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-md-4\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mb-2\">&nbsp;</div>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Clientes from './clientes';\r\n\r\nexport default class ClienteForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t\tthis.telefone = React.createRef();\r\n\t\tthis.email = React.createRef();\r\n\t\t\r\n\t\tthis.ender = React.createRef();\r\n\t\tthis.numero = React.createRef();\r\n\t\tthis.logradouro = React.createRef();\r\n\t\tthis.bairro = React.createRef();\r\n\t\tthis.cidade = React.createRef();\r\n\t\tthis.uf = React.createRef();\t\t\t\t\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\t\r\n\t\tif ( this.props.op === 'editar' )\r\n\t\t\tthis.carregaCliente();\t\t\r\n\t}\r\n\t\r\n\tcarregaCliente() {\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/cliente/get/'+this.props.clienteId, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.nome.current.value = dados.pessoa.nome;\r\n\t\t\t\t\tthis.telefone.current.value = dados.pessoa.telefone;\r\n\t\t\t\t\tthis.email.current.value = dados.pessoa.email;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.ender.current.value = dados.pessoa.endereco.ender;\r\n\t\t\t\t\tthis.numero.current.value = dados.pessoa.endereco.numero;\r\n\t\t\t\t\tthis.logradouro.current.value = dados.pessoa.endereco.logradouro;\r\n\t\t\t\t\tthis.bairro.current.value = dados.pessoa.endereco.bairro;\r\n\t\t\t\t\tthis.cidade.current.value = dados.pessoa.endereco.cidade;\r\n\t\t\t\t\tthis.uf.current.value = dados.pessoa.endereco.uf;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet url;\r\n\t\tlet metodo;\r\n\t\tif ( this.props.op === 'editar' ) {\t\t\t\r\n\t\t\turl = \"/api/cliente/atualiza/\"+this.props.clienteId;\r\n\t\t\tmetodo = 'PUT';\t\t\t\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\turl = \"/api/cliente/registra\";\r\n\t\t\tmetodo = 'POST';\r\n\t\t}\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( url, {\r\n\t\t\tmethod : metodo,\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"pessoa\" : {\r\n\t\t\t\t\t\"nome\" : this.nome.current.value,\r\n\t\t\t\t\t\"telefone\" : this.telefone.current.value,\t\t\t\t\r\n\t\t\t\t\t\"email\" : this.email.current.value,\r\n\t\t\t\t\t\r\n\t\t\t\t\t\"endereco\" : {\r\n\t\t\t\t\t\t\"ender\" : this.ender.current.value,\r\n\t\t\t\t\t\t\"numero\" : this.numero.current.value,\r\n\t\t\t\t\t\t\"bairro\" : this.bairro.current.value,\r\n\t\t\t\t\t\t\"cidade\" : this.cidade.current.value,\r\n\t\t\t\t\t\t\"uf\" : this.uf.current.value,\r\n\t\t\t\t\t\t\"logradouro\" : this.logradouro.current.value\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Cliente salvo com sucesso.\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\r\n\t\r\n\tparaTelaClientes() {\r\n\t\tReactDOM.render( <Clientes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Registro de cliente</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Telefone: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"tel\" ref={this.telefone} name=\"tel\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>E-Mail: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"email\" ref={this.email} name=\"email\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Endereço</h4>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Ender:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.ender} name=\"ender\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Numero:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.numero} name=\"numero\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Logradouro:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.logradouro} name=\"logradouro\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Bairro:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.bairro} name=\"bairro\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Cidade:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.cidade} name=\"cidade\" size=\"30\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>UF:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"texto\" ref={this.uf} name=\"uf\" size=\"10\" />\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaClientes( e ) }>Ir para clientes</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport ClienteForm from './cliente-form';\r\nimport Clientes from './clientes';\r\n\r\nexport default class ClienteDetalhes extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tcliente : {\r\n\t\t\t\tpessoa : {\r\n\t\t\t\t\tendereco : {}\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t};\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/cliente/get/\"+this.props.clienteId, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { cliente : dados } );\r\n\t\t\t\t} );\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t \r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\teditar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tReactDOM.render( \r\n\t\t\t<ClienteForm op=\"editar\" clienteId={this.props.clienteId} />,\r\n\t\t\t\tsistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\tparaTelaClientes() {\r\n\t\tReactDOM.render( <Clientes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { cliente, erroMsg, infoMsg } = this.state;\r\n\t\t\r\n\t\treturn( \r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Dados do cliente</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4>Dados gerais</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Nome: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.nome}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Telefone: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.telefone}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">E-Mail: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.email}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<h4 className=\"card-title\">Endereço</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Ender: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.ender}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Numero: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.numero}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Logradouro: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.logradouro}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Bairro: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.bairro}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">Cidade: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.cidade}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-dark font-weight-bold\">UF: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-info\">{cliente.pessoa.endereco.uf}</span>\r\n\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.editar( e )}>Editar cliente</Button>\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaClientes( e ) }>Ir para clientes</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport ClienteDetalhes from './cliente-detalhes';\r\nimport ClienteForm from './cliente-form';\r\n\r\nexport default class Clientes extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null, \r\n\t\t\tclientes : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\r\n\r\n\t\tthis.nomeIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.nomeIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tfetch( \"/api/cliente/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\tnomeIni : this.nomeIni.current.value\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { clientes : dados } );\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum cliente encontrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tdetalhes( e, clienteId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <ClienteDetalhes clienteId={clienteId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, clienteId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, clienteId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, clienteId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/cliente/deleta/\"+clienteId, {\r\n\t\t\tmethod : \"DELETE\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Cliente removido com êxito!\" } );\r\n\t\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <ClienteForm op=\"cadastrar\" />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, clientes, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de cliente</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o cliente selecionado?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\"  onClick={ (e) => this.paraTelaRegistro(e)}>Registrar novo cliente</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center col-md-12\">Lista de Clientes</h4>\t\t\t\t\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome</th>\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{clientes.map( ( cliente, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{cliente.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{cliente.pessoa.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, cliente.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, cliente.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-6\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar clientes</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nomeIni} name=\"nomeIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t \r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Row, Col, Card, Table, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport InputDropdown from './../../componente/input-dropdown';\r\n\r\nimport Vendas from './vendas';\r\n\r\nexport default class VendaRegistro extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\r\n\t\t\titens : [],\r\n\t\t\tformasPag : [],\r\n\t\t\t\r\n\t\t\tquantValorPadrao : 1,\r\n\t\t\t\r\n\t\t\tclientesNomeLista : [],\r\n\t\t\tclienteId : -1,\r\n\t\t\tclienteNome : '',\r\n\t\t\tincluirCliente : false,\r\n\t\t\t\r\n\t\t\tsubtotal : 0,\r\n\t\t\tdesconto : 0,\r\n\t\t\ttotal : 0,\r\n\t\t\ttroco : 0\r\n\t\t};\t\t\t\r\n\t\tthis.codigoBarras = React.createRef();\r\n\t\tthis.desconto = React.createRef();\r\n\t\tthis.formaPag = React.createRef();\r\n\t\tthis.valorPago = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.carregaFormasPagamento();\r\n\t}\r\n\t\r\n\tcarregaFormasPagamento() {\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/pagamento/formas/', {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { formasPag : dados } );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\r\n\taddItemVenda( e ) {\r\n\t\tlet codigoBarras = this.codigoBarras.current.value;\r\n\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/produto/busca/'+codigoBarras, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.state.itens.unshift( {\r\n\t\t\t\t\t\tcodigoBarras : codigoBarras,\r\n\t\t\t\t\t\tdescricao : dados.descricao,\r\n\t\t\t\t\t\tcategorias : dados.categorias,\r\n\t\t\t\t\t\tprecoUnitario : dados.precoUnitVenda, \t\r\n\t\t\t\t\t\tunidade : dados.unidade,\r\n\t\t\t\t\t\testoqueQuantidade : dados.quantidade,\r\n\t\t\t\t\t\tquantidade : 1\r\n\t\t\t\t\t} );\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.codigoBarras.current.value = '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.calcularTotal( e );\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tsistema.scrollTo( 'produtos-tbl-pnl' );\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\t\t\r\n\t\t\t\r\n\tremoverItemVenda( e, index ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tthis.state.itens.splice( index, 1 );\r\n\t\t\r\n\t\tthis.calcularTotal( e );\t\t\r\n\t\t\r\n\t\tthis.setState( {} );\r\n\t}\r\n\t\t\r\n\tefetuarVenda( e ) {\r\n\t\tconst { itens } = this.state;\r\n\t\t\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tlet itensVenda = [];\r\n\t\tfor( let i = 0; i < itens.length; i++ ) {\r\n\t\t\tlet quant = parseFloat( itens[ i ].quantidade );\r\n\t\t\tif( isNaN( quant ) === true ) {\r\n\t\t\t\tthis.setState( { erroMsg : \"Quantidade em formato inválido. Quantidade=\"+quant } );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet estQ = parseFloat( itens[ i ].estoqueQuantidade );\r\n\t\t\tif ( quant > estQ ) {\r\n\t\t\t\tlet q1 = sistema.formataFloat( quant );\r\n\t\t\t\tlet q2 = sistema.formataFloat( estQ );\r\n\t\t\t\tthis.setState( { erroMsg : \"Não há quantidade suficiente em estoque. ( \"+q1+\">\"+q2+\"  ), Produto= \"+itens[ i ].descricao } );\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\titensVenda.push( {\r\n\t\t\t\tcodigoBarras : itens[ i ].codigoBarras,\r\n\t\t\t\tquantidade : itens[ i ].quantidade,\r\n\t\t\t\tprecoUnitario : sistema.paraFloat( itens[ i ].precoUnitario )\r\n\t\t\t} );\r\n\t\t}\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\tfetch( '/api/venda/efetua/'+sistema.usuario.id, {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\tsubtotal : sistema.paraFloat( this.state.subtotal ),\r\n\t\t\t\tdesconto : sistema.paraFloat( this.state.desconto ),\r\n\t\t\t\tformaPag : this.formaPag.current.value,\r\n\t\t\t\tincluirCliente : this.state.incluirCliente,\r\n\t\t\t\tclienteNome : this.state.clienteNome,\r\n\t\t\t\titensVenda : itensVenda\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.valorPago.current.value = '';\r\n\t\t\t\tthis.desconto.current.value = '';\r\n\t\t\t\tthis.formaPag.current.value = '';\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { \r\n\t\t\t\t\tinfoMsg : 'Venda registrada com êxito',\r\n\t\t\t\t\titens : [],\r\n\t\t\t\t\tsubtotal : 0,\r\n\t\t\t\t\ttotal : 0,\r\n\t\t\t\t\ttroco : 0\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tquantidadeItemProdOnChange( e, index ) {\t\t\r\n\t\tlet itens = this.state.itens;\t\t\t\t\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet quant = sistema.paraFloat( e.target.value );\r\n\t\titens[ index ].quantidade = quant;\r\n\t\t\r\n\t\tif ( e.target.value.trim().length > 0 )\t{\r\n\t\t\tlet estoqueQuant = parseFloat( itens[ index ].estoqueQuantidade );\r\n\r\n\t\t\tif ( isNaN( quant ) === false ) {\r\n\t\t\t\tif ( quant <= estoqueQuant ) {\t\t\t\t\t\r\n\t\t\t\t\tthis.calcularTotal( e );\r\n\t\t\t\t\tthis.setState( { itens : itens } );\r\n\t\t\t\t} else {\t\t\t\t\t\r\n\t\t\t\t\tlet descricao = itens[ index ].descricao;\r\n\t\t\t\t\tthis.setState( { erroMsg : \"Quantidade informada maior que a quantidade em estoque. Produto=\"+descricao } );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState( { itens : itens } );\r\n\t\t\t}\r\n\t\t}\t\t\t\t\r\n\t}\r\n\t\t\r\n\tincluirClienteOnChange( e ) {\r\n\t\tthis.setState( { incluirCliente : e.target.checked } );\r\n\t}\r\n\t\t\r\n\tclienteNomeOnChange( item ) {\t\r\n\t\tthis.setState( { clienteNome : item } );\r\n\t\r\n\t\tfetch( '/api/cliente/filtra/limit/5', {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"nomeIni\" : item\r\n\t\t\t} )\r\n\t\t} ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { clientesNomeLista : [] } );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tfor( let i = 0; i < dados.length; i++ )\r\n\t\t\t\t\t\tthis.state.clientesNomeLista.push( dados[ i ].pessoa.nome );\t\t\t\t\t\r\n\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\t\r\n\tcalcularTotal( e ) {\r\n\t\tconst { itens } = this.state;\r\n\t\t\t\t\r\n\t\tlet desconto = parseFloat( sistema.paraFloat( this.desconto.current.value ) );\r\n\t\tif ( isNaN( desconto ) === true ) {\r\n\t\t\tdesconto = 0;\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\tdesconto /= 100.0;\r\n\t\t}\t\t\t\r\n\t\t\t\t\r\n\t\tfor( let i = 0; i < itens.length; i++ ) {\r\n\t\t\tif ( isNaN( itens[ i ].precoUnitario ) ) {\r\n\t\t\t\tthis.setState( { erroMsg : 'Preço unitário em formato inválido' } );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet quant = parseFloat( itens[ i ].quantidade );\r\n\t\t\tif( isNaN( quant ) === true )\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tif ( quant > itens[ i ].estoqueQuantidade ) {\r\n\t\t\t\tthis.setState( { erroMsg : \"Quantidade maior que a quantidade em estoque para o produto: \"+itens[ i ].descricao } );\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\t\r\n\t\tlet subtotal = 0;\r\n\t\tfor( let i = 0; i < itens.length; i++ )\r\n\t\t\tsubtotal += parseFloat( itens[ i ].quantidade ) * parseFloat( itens[ i ].precoUnitario );\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\tlet total = subtotal * ( 1.0 - desconto );\t\t\r\n\t\t\r\n\t\tlet valorPago = parseFloat( sistema.paraFloat( this.valorPago.current.value ) );\r\n\t\t\r\n\t\tlet troco = 0;\r\n\t\tif ( !isNaN( valorPago ) )\r\n\t\t\ttroco = sistema.paraFloat( this.valorPago.current.value ) - total;\t\t\r\n\t\t\r\n\t\tthis.setState( { desconto : desconto, subtotal : subtotal, total : total, troco : troco } );\r\n\t}\r\n\t\t\t\r\n\tparaTelaVendas() {\r\n\t\tReactDOM.render( <Vendas />, sistema.paginaElemento() ); \r\n\t}\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, itens, formasPag, quantValorPadrao, subtotal, total, troco, clientesNomeLista, incluirCliente } = this.state;\r\n\t\t\t\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Produtos</h4>\r\n\t\t\t\t<div id=\"produtos-tbl-pnl\" className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t<th>Codigo de Barras</th>\r\n\t\t\t\t\t\t\t\t<th>Preço unitário</th>\r\n\t\t\t\t\t\t\t\t<th>Quant. Estoque</th>\r\n\t\t\t\t\t\t\t\t<th>Quantidade</th>\r\n\t\t\t\t\t\t\t\t<th>Unidade</th>\r\n\t\t\t\t\t\t\t\t<th>Categorias</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{itens.map( ( item, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ item.descricao }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ item.codigoBarras }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitario ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( item.estoqueQuantidade ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" onChange={ (e) => this.quantidadeItemProdOnChange( e, index ) } defaultValue={quantValorPadrao} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ item.unidade }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ item.categorias.map( (item, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.subcategorias.map( (subitem, index2) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={index} value={subitem.descricao}>{subitem.descricao}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t} )}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t</td>\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerItemVenda( e, index )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\t\t\t\r\n\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"p-3 bg-light\">\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<div style={{fontSize : '1.6em' }}>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Subtotal: &nbsp; <span className=\"text-danger\">{ sistema.formataReal( subtotal ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Desconto (%): &nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<input className=\"border-light rounded text-danger\" type=\"text\" ref={this.desconto} name=\"desconto\" onChange={ (e) => this.calcularTotal( e ) } />\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\t\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Total: &nbsp; <span className=\"text-danger\">{ sistema.formataReal( total ) }</span></Form.Label>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t\t<span>Valor pago (R$): </span> \r\n\t\t\t\t\t\t\t\t\t\t<input className=\"border-light rounded text-danger\" type=\"text\" ref={this.valorPago} name=\"valorPago\" onChange={ (e) => this.calcularTotal( e ) } />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t</Col>\t\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Troco: &nbsp; <span className=\"text-danger\">{ sistema.formataReal( troco ) }</span></Form.Label>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Form onSubmit={ (e) => this.efetuarVenda( e ) }>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t<h4>Incluir produtos</h4>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-8\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Codigo de barras</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.codigoBarras} name=\"codigoBarras\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-sm-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.addItemVenda( e ) }>Adicionar produto</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t<h4>Forma de pagamento</h4>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Formas de pagamento: &nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<select name=\"formaPag\" ref={this.formaPag} className=\"form-control\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key=\"0\" value=\"NONE\">Selecione uma forma!</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ formasPag.map( (item, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <option key={i} value={item}>{item}</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t} )\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col className=\"col-sm-6\">\r\n\t\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" defaultValue={incluirCliente} onChange={ (e) => this.incluirClienteOnChange( e ) } /> \r\n\t\t\t\t\t\t\t\t\t\t&nbsp; Incluir cliente\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{ incluirCliente === true && (\r\n\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<h5>Informe um cliente</h5>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<InputDropdown \r\n\t\t\t\t\t\t\t\t\t\t\treferencia={this.clienteNome} \r\n\t\t\t\t\t\t\t\t\t\t\titens={clientesNomeLista} \r\n\t\t\t\t\t\t\t\t\t\t\tcarregaItens={ (item) => this.clienteNomeOnChange( item ) } />\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3 text-left\">\t\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.efetuarVenda( e ) }>Efetuar venda</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaVendas( e ) }>Ir para tela de vendas</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Row, Col, Card, Table } from 'react-bootstrap';\r\nimport { Tab, Tabs, TabPanel, TabList } from 'react-tabs';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\n\r\nimport Vendas from './vendas';\r\n\r\nexport default class VendaDetalhes extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\tvenda : { cliente : { pessoa : {} }, itens : [] }\r\n\t\t};\t\t\t\t\t\t\t\t\r\n\t}\t\t\t\t\r\n\t\r\n\tcomponentDidMount() {\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\r\n\t\tfetch( '/api/venda/get/'+this.props.vendaId, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\talert( JSON.stringify( dados ) );\r\n\t\t\t\t\tthis.setState( { venda : dados } );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaVendas() {\r\n\t\tReactDOM.render( <Vendas />, sistema.paginaElemento() ); \r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, venda } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\r\n\t\t\t\t<h4>Dados da venda</h4>\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t<Tabs>\r\n\t\t\t\t\t<TabList>\r\n\t\t\t\t\t\t<Tab>Detalhes</Tab>\r\n\t\t\t\t\t\t<Tab>Produtos</Tab>\r\n\t\t\t\t\t</TabList>\r\n\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Cliente: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-success\">{ venda.cliente.pessoa.nome }</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Data de venda: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-success\">{ venda.dataVenda }</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Sub total: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{ sistema.formataReal( venda.subtotal ) }</span>\r\n\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Desconto: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{ sistema.formataFloat( venda.desconto * 100 )} %</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{ sistema.formataReal( venda.subtotal * ( 1.0 - parseFloat( venda.desconto ) ) )}</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Debito: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{ sistema.formataReal( venda.debito ) }</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t<Row className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Forma de pagamento: </span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-success\">{ venda.formaPag }</span>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</TabPanel>\t\t\r\n\t\t\t\t\t<TabPanel>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Descrição</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Codigo de barras</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Valor Unitário</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Quantidade</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Unidade</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{venda.itens.map( (item, index) => {\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.id }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.descricao }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.codigoBarras }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( item.precoUnitario ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataFloat( item.quantidade ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ item.produto.unidade }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPanel>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t</Tabs>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaVendas( e ) }>Ir para tela de vendas</button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Row, Col, Card, Table, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './../../logica/sistema';\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport InputDropdown from './../../componente/input-dropdown';\r\n\r\nimport Vendas from './vendas';\r\n\r\nexport default class VendasPagamento extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\tinfoMsg : null,\r\n\t\t\terroMsg : null,\r\n\t\t\t\t\t\t\r\n\t\t\tclientes : [],\r\n\t\t\tclientesNomeLista : [],\r\n\t\t\tclienteId : -1,\r\n\t\t\tclienteNome : '',\r\n\t\t\t\r\n\t\t\tvendas : [],\r\n\t\t\t\r\n\t\t\tdebito : 0\r\n\t\t};\r\n\t\tthis.valorPago = React.createRef();\r\n\t}\r\n\t\r\n\tefetuarPagamento( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tlet clienteId = this.state.clienteId;\r\n\t\t\r\n\t\tfetch( '/api/venda/efetuarecebimento/'+clienteId, {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"valor\" : sistema.paraFloat( this.valorPago.current.value )\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.valorPago.current.value = '';\r\n\t\t\t\tthis.carregaVendas( clienteId );\r\n\t\t\t\tthis.setState( { infoMsg : 'Pagamento efetuado com sucesso' } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} )\r\n\t}\r\n\t\t\t\t\t\t\r\n\tclienteNomeItemClicado( item, index ) {\r\n\t\tconst { clientes } = this.state;\r\n\t\t\t\t\r\n\t\tlet clienteId = clientes[ index ].clienteId;\t\t\r\n\t\t\r\n\t\tthis.setState( { clienteId : clienteId } );\r\n\t\t\r\n\t\tthis.carregaVendas( clienteId );\r\n\t}\t\r\n\r\n\tcarregaVendas( clienteId ) {\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tfetch( '/api/venda/lista/porcliente/'+clienteId, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tlet vendas = dados;\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet debito = 0;\r\n\t\t\t\t\tfor( let i = 0; i < vendas.length; i++ ) {\r\n\t\t\t\t\t\tlet subtotal = sistema.paraFloat( vendas[ i ].subtotal );\r\n\t\t\t\t\t\tlet desconto = sistema.paraFloat( vendas[ i ].desconto );\r\n\t\t\t\t\t\tvendas[ i ].total = subtotal * ( 1.0 - desconto );\r\n\r\n\t\t\t\t\t\tdebito += sistema.paraFloat( vendas[ i ].debito );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.setState( { debito : debito, vendas : vendas } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 ) \r\n\t\t\t\t\t\tthis.setState( { infoMsg : 'O cliente está adimplente.' } );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\t\t\r\n\tclienteNomeOnChange( item ) {\t\t\r\n\t\tfetch( '/api/cliente/filtra/limit/5', {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"nomeIni\" : item\r\n\t\t\t} )\r\n\t\t} ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { clientes : [], clientesNomeLista : [] } );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tfor( let i = 0; i < dados.length; i++ ) {\r\n\t\t\t\t\t\tthis.state.clientes.push( {\r\n\t\t\t\t\t\t\tclienteId : dados[ i ].id,\r\n\t\t\t\t\t\t\tclienteNome : dados[ i ].pessoa.nome \r\n\t\t\t\t\t\t} );\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.state.clientesNomeLista.push( dados[ i ].pessoa.nome );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\t\t\t\t\r\n\tparaTelaVendas() {\r\n\t\tReactDOM.render( <Vendas />, sistema.paginaElemento() ); \r\n\t}\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { infoMsg, erroMsg, clientesNomeLista, vendas, debito } = this.state;\r\n\t\t\t\t\t\t\t\r\n\t\treturn(\t\r\n\t\t\t<div>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Pagamentos</h4>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t<Form.Label>\r\n\t\t\t\t\t\t\t\t\t<h5>Informe o cliente: </h5>\r\n\t\t\t\t\t\t\t\t</Form.Label>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<InputDropdown \r\n\t\t\t\t\t\t\t\t\treferencia={this.clienteNome} \r\n\t\t\t\t\t\t\t\t\titens={clientesNomeLista} \r\n\t\t\t\t\t\t\t\t\tcarregaItens={ (item) => this.clienteNomeOnChange( item ) } \r\n\t\t\t\t\t\t\t\t\titemClicado={ (item, index) => this.clienteNomeItemClicado( item, index ) } />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<span className=\"display-inline\" style={{fontSize : '1.6em'}}> \r\n\t\t\t\t\t\t\t\tDébito total: &nbsp;\r\n\t\t\t\t\t\t\t\t<span className=\"text-danger\">{sistema.formataReal( debito ) }</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de vendas</h4>\r\n\t\t\t\t<div className=\"tbl-pnl-pequeno\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Data venda</th>\r\n\t\t\t\t\t\t\t\t<th>total</th>\r\n\t\t\t\t\t\t\t\t<th>Débito</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{vendas.map( (venda, index) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{venda.dataVenda}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.total ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.debito ) }</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3 col-sm-6\">\r\n\t\t\t\t\t<h4>Efetuar pagamento</h4>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t<Form.Label>Valor pago: </Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.valorPago} name=\"valorPago\" />\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.efetuarPagamento( e ) }>Efetuar pagamento</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\r\n\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaVendas( e ) }>Ir para tela de vendas</button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport DatePicker from 'react-datepicker';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport VendaRegistro from './venda-registro';\r\nimport VendaDetalhes from './venda-detalhes';\r\n\r\nimport VendasPagamento from './vendas-pagamento';\r\n\r\nexport default class Vendas extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tvendas : [],\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {}\r\n\t\t};\t\t\r\n\r\n\t\tthis.incluirCliente = React.createRef();\r\n\t\tthis.clienteNomeIni = React.createRef();\r\n\t\tthis.incluirVendasPagas = React.createRef();\r\n\t}\r\n\t\t\t\r\n\tcomponentDidMount() {\r\n\t\tthis.incluirCliente.current.checked = false;\r\n\t\tthis.filtrar( null, false );\t\r\n\t}\t\t\r\n\t\t\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tfetch( \"/api/venda/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\", \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}, \r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim ),\r\n\t\t\t\t\"incluirCliente\" : this.incluirCliente.current.checked,\r\n\t\t\t\t\"clienteNomeIni\" : this.clienteNomeIni.current.value,\r\n\t\t\t\t\"incluirPagas\" : this.incluirVendasPagas.current.checked\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { vendas : dados } );\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma venda encontrada pelos critérios de busca informados!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tchangeDataIni( date ) {\r\n\t\tthis.setState( { dataIni : date } );\t\t\r\n\t}\r\n\t\r\n\tchangeDataFim( date ) {\r\n\t\tthis.setState( { dataFim : date } );\r\n\t}\r\n\t\r\n\tdetalhes( e, vendaId ) {\r\n\t\tReactDOM.render( <VendaDetalhes vendaId={vendaId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, vendaId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, vendaId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, vendaId, instance ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/venda/deleta/'+vendaId, {\r\n\t\t\tmethod : 'DELETE',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.filtrar( null, false );\r\n\t\t\t\tthis.setState( { infoMsg : 'Venda deletada com êxito.' } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaPagamentos( e ) {\t\t\r\n\t\tReactDOM.render( <VendasPagamento />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaRegistroForm( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tReactDOM.render( <VendaRegistro />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, vendas, dataIni, dataFim, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de venda</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tTem certeza que deseja remover a venda selecionada? <br />\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<b>Atenção:</b> Ao escolher remover a venda, esteja ciente que será\r\n\t\t\t\t\t\tatualizado o estoque com a adição das unidades de produto componentes\r\n\t\t\t\t\t\tda venda!\t\t\t\t\t\t\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"float-start\" onClick={ (e) => this.paraTelaPagamentos(e) }>Efetue um pagamento</Button>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"float-end\" onClick={ (e) => this.paraRegistroForm(e) }>Registre uma nova venda</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<h3 className=\"text-center\">Lista de Vendas</h3>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Data venda</th>\r\n\t\t\t\t\t\t\t\t<th>Cliente</th>\r\n\t\t\t\t\t\t\t\t<th>Total</th>\t\r\n\t\t\t\t\t\t\t\t<th>Debito</th>\t\r\n\t\t\t\t\t\t\t\t<th>Detalhes</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{vendas.map( ( venda, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{venda.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{venda.dataVenda}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{venda.cliente.pessoa.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.subtotal * ( 1.0 - venda.desconto ) ) }</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.debito ) }</td>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.detalhes( e, venda.id )}>detalhes</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, venda.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<h4>Filtrar vendas</h4>\r\n\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataIni( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataFim( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\t\t\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirVendasPagas} /> &nbsp; Incluir vendas pagas\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col className=\"col-md-6\">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Cliente: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.clienteNomeIni} name=\"clienteNomeIni\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirCliente} />Incluir cliente no filtro\r\n\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t</Card>\t\t\r\n\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Caixa from './caixa';\r\n\r\nexport default class CaixaAbertura extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null\r\n\t\t};\t\t\r\n\t\t\r\n\t\tthis.valorInicial = React.createRef();\r\n\t}\r\n\t\t\t\t\t\t\r\n\tabrir( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\r\n\t\t\r\n\t\tlet valorInicial = this.valorInicial.current.value;\r\n\t\tif ( isNaN( valorInicial ) === true ) {\r\n\t\t\tthis.setState( { erroMsg : \"Valor inicial em formato inválido.\" } );\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tfetch( \"/api/caixa/abre/\"+sistema.usuario.id, {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\", \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}, \r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\tlancamento : {\r\n\t\t\t\t\t\"tipo\" : \"CREDITO\",\r\n\t\t\t\t\t\"valor\" : sistema.paraFloat( valorInicial )\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Caixa aberto com sucesso.\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaCaixa() {\r\n\t\tReactDOM.render( <Caixa />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg} = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Abertura de caixa</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.abrir( e, true ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col className=\"col-md-6\">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Valor inicial: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"number\" step=\"0.01\" ref={this.valorInicial} name=\"valorInicial\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Abrir caixa</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaCaixa() }>Ir para tela caixa</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaLancamentos from './caixa-lancamentos';\r\n\r\nexport default class CaixaLancamentoNovo extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\t\r\n\t\t\ttipos : []\r\n\t\t};\t\t\r\n\t\t\r\n\t\tthis.tipo = React.createRef();\r\n\t\tthis.valor = React.createRef();\r\n\t\tthis.obs = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.carregaTipos();\r\n\t\t\t\t\r\n\t\tthis.valor.current.value = \"\";\t\r\n\t\tthis.obs.current.value = \"\";\r\n\t}\r\n\t\r\n\tcarregaTipos() {\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/lancamento/tipos', {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { tipos : dados } );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\t\t\t\t\r\n\tnovo( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tfetch( \"/api/lancamento/novo/hoje/\"+sistema.usuario.id, {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\", \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}, \r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\ttipo : this.tipo.current.value,\r\n\t\t\t\tvalor : sistema.paraFloat( this.valor.current.value ),\t\t\t\t\r\n\t\t\t\tobs : this.obs.current.value\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Lançamento efetuado com sucesso.\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaLancamentos() {\r\n\t\tReactDOM.render( <CaixaLancamentos />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, tipos } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-3\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-6\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Registre um lançamento</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.novo( e ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"py-2 pb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Tipo: &nbsp; </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<select name=\"tipo\" ref={this.tipo}>\r\n\t\t\t\t\t\t\t\t\t\t<option key=\"0\" value=\"NONE\">Selecione um tipo!</option>\r\n\t\t\t\t\t\t\t\t\t\t{ tipos.map( (item, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <option key={i+1} value={item}>{item}</option>\r\n\t\t\t\t\t\t\t\t\t\t} )\t}\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Valor: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.valor} name=\"valor\" />\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Observações: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control as=\"textarea\" rows=\"3\" ref={this.obs} />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Registrar novo</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaLancamentos() }>Ir para lançamentos</button>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaLancamentoNovo from './caixa-lancamento-novo';\r\n\r\nexport default class CaixaLancamentos extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tlancamentos : [],\r\n\t\t\tcaixaFuncNome : null,\r\n\t\t\tcaixaDataAbertura : null,\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\t\t\t\t\r\n\t}\t\t\t\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.listar( null, false );\r\n\t}\r\n\t\t\t\t\t\t\r\n\tlistar( e, listarBTClicado ) {\t\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tlet url;\r\n\t\tif ( this.props.getTipo === \"caixaid\" ) {\r\n\t\t\turl = '/api/caixa/get/'+this.props.caixaId;\r\n\t\t} else {\r\n\t\t\turl = '/api/caixa/get/uid/hoje/'+sistema.usuario.id;\r\n\t\t}\r\n\t\t\t\t \t\t\t\t\r\n\t\tfetch( url, {\r\n\t\t\tmethod : \"GET\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { lancamentos : [] } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet caixa = dados;\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet creditoAcumulado = 0;\r\n\t\t\t\t\tlet debitoAcumulado = 0;\r\n\t\t\t\t\tfor( let i = 0; i < caixa.lancamentos.length; i++ ) {\r\n\t\t\t\t\t\tlet lanc = caixa.lancamentos[ i ];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tlet debito = 0;\r\n\t\t\t\t\t\tlet credito = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( lanc.tipo === 'CREDITO' ) {\r\n\t\t\t\t\t\t\tcredito = sistema.paraFloat( lanc.valor );\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else if ( lanc.tipo === 'DEBITO' ) {\r\n\t\t\t\t\t\t\tdebito = sistema.paraFloat( lanc.valor );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdebitoAcumulado += debito;\r\n\t\t\t\t\t\tcreditoAcumulado += credito;\r\n\t\t\t\t\t\tlet saldo = creditoAcumulado - debitoAcumulado;\r\n\r\n\t\t\t\t\t\tthis.state.lancamentos.push( {\r\n\t\t\t\t\t\t\tid : lanc.id,\r\n\t\t\t\t\t\t\tdataOperacao : lanc.dataOperacao,\r\n\t\t\t\t\t\t\tobs : lanc.obs,\r\n\t\t\t\t\t\t\tdebito : debito,\r\n\t\t\t\t\t\t\tcredito : credito,\r\n\t\t\t\t\t\t\tsaldo : saldo\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { caixaFuncNome : caixa.funcionario.pessoa.nome, caixaDataAbertura : caixa.dataAbertura } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && listarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum lançamento até agora\" } );\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tremoverSeConfirmado( e, lancId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, lancId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\t\r\n\tremover( e, lancId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/lancamento/deleta/'+lancId, {\r\n\t\t\tmethod : 'DELETE',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.listar( e, false );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <CaixaLancamentoNovo />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, lancamentos, caixaFuncNome, caixaDataAbertura, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de lançamentos</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Tem certeza que deseja remover o lançamento?</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t{ this.props.gettipo !== 'caixaid' && (\r\n\t\t\t\t\t<Form className=\"float-end\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaRegistro() }>Novo lançamento</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t) }\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Form.Group style={{fontSize: '1.2em'}}>\r\n\t\t\t\t\t<Form.Label>Funcionario: &nbsp; <span className=\"text-primary\">{ caixaFuncNome }</span></Form.Label>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Form.Label>Data abertura do caixa: &nbsp; <span className=\"text-primary\">{ caixaDataAbertura }</span></Form.Label>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\r\n\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lançamentos</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Data operação</th>\r\n\t\t\t\t\t\t\t\t<th>Entrada</th>\r\n\t\t\t\t\t\t\t\t<th>Saida</th>\r\n\t\t\t\t\t\t\t\t<th>Saldo</th>\r\n\t\t\t\t\t\t\t\t<th>Obs</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{lancamentos.map( ( lanc, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ lanc.dataOperacao }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( lanc.credito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( lanc.debito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( lanc.saldo ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ lanc.obs }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, lanc.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Form>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.listar( e, true ) }>Atualizar lista</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Card>\t\t\t\t\t\r\n\t\t\t</Container>\t\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaAbertura from './caixa-abertura';\r\nimport CaixaLancamentos from './caixa-lancamentos';\r\n\r\nexport default class Caixa extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tbalanco : { valor : 0, debito : 0, credito : 0, saldo : 0 }\r\n\t\t};\t\t\r\n\t\t\r\n\t\tthis.valorFechamento = React.createRef();\r\n\t}\r\n\t\t\r\n\tcomponentDidMount() {\r\n\t\tthis.atualizaDadosHoje();\r\n\t}\t\t\r\n\t\t\r\n\tatualizaDadosHoje() {\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\t\t\t\t\r\n\t\t\r\n\t\tfetch( '/api/caixa/balanco/hoje/'+sistema.usuario.id, {\r\n\t\t\tmethod : 'GET',\r\n\t\t\theaders : {\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { balanco : dados } );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tfecharCaixa( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/caixa/fecha/'+sistema.usuario.id, {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\tlancamento : {\r\n\t\t\t\t\ttipo : \"DEBITO\",\r\n\t\t\t\t\tvalor : sistema.paraFloat( this.valorFechamento.current.value )\r\n\t\t\t\t}\r\n\t\t\t} )\r\n\t\t} ).then( ( resposta ) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.valorFechamento.current.value = '';\r\n\t\t\t\tthis.atualizaDadosHoje();\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tparaTelaAbrirCaixa( e ) {\r\n\t\tReactDOM.render( <CaixaAbertura />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaLancamentos( e ) {\r\n\t\tReactDOM.render( <CaixaLancamentos />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, balanco } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\"  onClick={ (e) => this.paraTelaAbrirCaixa(e) }>Abrir caixa</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Card className=\"p-3\" style={{fontSize: '1.2em'}}>\r\n\t\t\t\t\t\t\t<h4>Dados do caixa</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div className=\"p-3\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tData de abertura: <span className=\"text-danger\">{ balanco.dataAbertura }</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tCredito: <span className=\"text-danger\">{ sistema.formataReal( balanco.credito ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tDebito: <span className=\"text-danger\">{ sistema.formataReal( balanco.debito ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tSaldo: <span className=\"text-danger\">{ sistema.formataReal( balanco.saldo ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tValor recebido no cartão: <span className=\"text-danger\">{ sistema.formataReal( balanco.cartaoValorRecebido ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"display-inline mb-2\">\r\n\t\t\t\t\t\t\t\t\tTotal de vendas a prazo: <span className=\"text-danger\">{ sistema.formataReal( balanco.totalVendasAPrazo ) }</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.atualizaDadosHoje( e ) }>Atualizar dados</Button>\r\n\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"mx-2\" onClick={ (e) => this.paraTelaLancamentos( e ) }>Lançamentos</Button>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Fechar caixa</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.fecharCaixa( e ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Informe o valor em caixa: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.valorFechamento} name=\"valorFechamento\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Fechar caixa</Button>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Table, Form, Button } from 'react-bootstrap';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaLancamentos from './caixa-lancamentos';\r\n\r\nexport default class CaixaFluxoDia extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tcaixas : []\r\n\t\t};\t\t\t\t\r\n\t}\t\t\r\n\t\t\r\n\tcomponentDidMount() {\r\n\t\tthis.filtrar();\r\n\t}\r\n\t\t\r\n\tfiltrar() {\t\t\t\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\r\n\t\tfetch( \"/api/caixa/lista/pordatadia\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"dataDia\" : this.props.dataDia\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\r\n\t\t\t\t\tfor( let i = 0; i < dados.length; i++ ) {\t\t\t\t\t\r\n\t\t\t\t\t\tlet caixa = dados[ i ];\r\n\t\t\t\t\t\tlet debito = 0;\r\n\t\t\t\t\t\tlet credito = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tfor( let j = 0; j < caixa.lancamentos.length; j++ ) {\r\n\t\t\t\t\t\t\tlet lancamento = caixa.lancamentos[ j ];\r\n\t\t\t\t\t\t\tif ( lancamento.tipo === 'CREDITO' ) {\r\n\t\t\t\t\t\t\t\tcredito += sistema.paraFloat( lancamento.valor );\r\n\t\t\t\t\t\t\t} else if ( lancamento.tipo === 'DEBITO' ) {\r\n\t\t\t\t\t\t\t\tdebito += sistema.paraFloat( lancamento.valor );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tlet saldo = credito - debito;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.state.caixas.push( {\r\n\t\t\t\t\t\t\tid : caixa.id,\r\n\t\t\t\t\t\t\tdataAbertura : caixa.dataAbertura,\r\n\t\t\t\t\t\t\tfuncionarioNome : caixa.funcionario.pessoa.nome,\r\n\t\t\t\t\t\t\tdebito : debito,\r\n\t\t\t\t\t\t\tcredito : credito,\r\n\t\t\t\t\t\t\tsaldo : saldo\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum fluxo de caixa encontrado pelos critérios de busca informados\" } );\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaLancamentos( e, caixaId ) {\r\n\t\tReactDOM.render( <CaixaLancamentos getTipo=\"caixaid\" caixaId={caixaId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trelatorioBalancoHoje( e ) {\r\n\t\twindow.open( '/api/relatorio/balanco-hoje' );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, caixas } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Button className=\"float-end\" variant=\"primary\" onClick={ (e) => this.relatorioBalancoHoje( e ) }>Gerar balanço de hoje</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<br />\r\n\t\t\t\t<h4 className=\"text-center\">Fluxo de caixa por dia</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Responsável</th>\r\n\t\t\t\t\t\t\t\t<th>Data de abertura</th>\r\n\t\t\t\t\t\t\t\t<th>Entrada</th>\r\n\t\t\t\t\t\t\t\t<th>Saida</th>\r\n\t\t\t\t\t\t\t\t<th>Saldo</th>\r\n\t\t\t\t\t\t\t\t<th>Visualizar lançamentos</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{caixas.map( ( caixa, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ caixa.funcionarioNome }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ caixa.dataAbertura }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( caixa.credito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( caixa.debito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( caixa.saldo ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaLancamentos( e, caixa.id ) }>visualizar</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\nimport DatePicker from 'react-datepicker';\r\n\t\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport CaixaFluxoDia from './caixa-fluxo-dia';\r\n\r\nexport default class CaixaFluxo extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null,\r\n\t\t\tinfoMsg : null,\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\tbalancosDiarios : []\r\n\t\t};\t\t\t\t\r\n\t}\r\n\t\t\t\t\t\t\r\n\tcomponentDidMount() {\r\n\t\tthis.filtrar( null );\r\n\t}\t\t\r\n\t\t\t\t\t\t\r\n\tfiltrar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\tthis.setState( { infoMsg : null, erroMsg : null } );\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/caixa/gera/balancos/diarios\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\", \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}, \r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim ),\t\t\t\t\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\t\t\r\n\t\t\t\t\tthis.setState( { balancosDiarios : dados } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum fluxo de caixa encontrado pelos critérios de busca informados\" } );\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\t\t\t\r\n\t\t} );\r\n\t}\r\n\t\r\n\tdataIniOnChange( data ) {\r\n\t\tthis.setState( { dataIni : data } );\r\n\t}\r\n\t\r\n\tdataFimOnChange( data ) {\r\n\t\tthis.setState( { dataFim : data } );\r\n\t}\r\n\t\r\n\tvisualizar( e, dataAbertura ) {\r\n\t\tReactDOM.render( <CaixaFluxoDia dataDia={dataAbertura} />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\r\n\t\tconst {\terroMsg, infoMsg, balancosDiarios, dataIni, dataFim } = this.state;\r\n\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Fluxo de caixa</h4>\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>Data de abertura</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Entrada</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Saida</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Saldo</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Visualizar</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{balancosDiarios.map( ( balancoDia, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ balancoDia.dataAbertura }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( balancoDia.credito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( balancoDia.debito ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( balancoDia.saldo ) }</td>\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={ (e) => this.visualizar( e, balancoDia.dataAbertura ) }>visualizar</button></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<br />\r\n\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-sm-10\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e ) }>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.dataIniOnChange( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.dateFimOnChange( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\r\n\t\t)\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Table, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Grupos from './grupos';\r\n\r\nexport default class GrupoFormEdit extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tgrupo : { permissaoGrupos : [] }\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tthis.carregar();\t\t\t\t\t\r\n\t}\r\n\t\r\n\tcarregar() {\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/usuario/grupo/get/'+this.props.grupoId, {\r\n\t\t\tmethod : 'GET',\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.nome.current.value = dados.nome;\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { grupo : dados } );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/usuario/grupo/atualiza/\"+this.props.grupoId, {\r\n\t\t\tmethod : 'PUT',\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"nome\" : this.nome.current.value\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Grupo salvo com sucesso.\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\r\n\tsincronizarRecursos( e ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/usuario/grupo/recursos/sincroniza/'+this.props.grupoId, {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.carregar();\r\n\t\t\t\tthis.setState( { infoMsg : \"Recursos sincronizados com sucesso.\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tpermissaoLeituraOnChange( e, id ) {\r\n\t\tthis.permissaoOnChange( e, id, 'LEITURA' );\r\n\t}\r\n\t\r\n\tpermissaoEscritaOnChange( e, id ) {\r\n\t\tthis.permissaoOnChange( e, id, 'ESCRITA' );\r\n\t}\r\n\t\r\n\tpermissaoRemocaoOnChange( e, id ) {\r\n\t\tthis.permissaoOnChange( e, id, 'REMOCAO' );\r\n\t}\r\n\t\r\n\tpermissaoOnChange( e, id, tipo ) {\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\t\t\r\n\t\tfetch( '/api/permissao/salva/'+id, {\r\n\t\t\tmethod : 'PATCH',\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\ttipo : tipo,\r\n\t\t\t\tvalor : e.target.checked\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.carregar();\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tparaTelaGrupos() {\r\n\t\tReactDOM.render( <Grupos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, grupo } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<h4 className=\"text-center\">Registro de grupos</h4>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"float-end\" onClick={ (e) => this.sincronizarRecursos( e ) }>\r\n\t\t\t\t\t\t\t\tSincronizar Recursos\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Permissões sobre recursos</h4>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>Recurso</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Leitura</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Escrita</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Remoção</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{grupo.permissaoGrupos.map( (item, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.recurso}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><input type=\"checkbox\" checked={item.leitura === \"true\"} onChange={ (e) => this.permissaoLeituraOnChange( e, item.id ) } /></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><input type=\"checkbox\" checked={item.escrita === \"true\"} onChange={ (e) => this.permissaoEscritaOnChange( e, item.id ) } /></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><input type=\"checkbox\" checked={item.remocao === \"true\"} onChange={ (e) => this.permissaoRemocaoOnChange( e, item.id ) } /></td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t} ) }\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</Table>\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaGrupos( e ) }>Ir para grupos</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Grupos from './grupos';\r\n\r\nexport default class GrupoFormRegistro extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t}\r\n\t\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/usuario/grupo/registra\", {\r\n\t\t\tmethod : 'POST',\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"nome\" : this.nome.current.value\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Grupo salvo com sucesso.\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\r\n\tparaTelaGrupos() {\r\n\t\tReactDOM.render( <Grupos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<h4 className=\"text-center\">Registro de grupos</h4>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-2\"></Col>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaGrupos( e ) }>Ir para grupos</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport GrupoFormEdit from './grupo-form-edit';\r\nimport GrupoFormRegistro from './grupo-form-registro';\r\n\r\nimport Usuarios from './usuarios';\r\n\r\nexport default class Grupos extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tgrupos : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.nomeIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.nomeIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/usuario/grupo/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\t\"nomeIni\" : this.nomeIni.current.value,\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { grupos : dados } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum grupo registrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\teditar( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tReactDOM.render( <GrupoFormEdit grupoId={id}/>, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tremoverSeConfirmado( e, id ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, id );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, id ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/usuario/grupo/deleta/\"+id, {\r\n\t\t\tmethod : \"DELETE\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Grupo removido com êxito!\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\tparaTelaRegistro() {\r\n\t\tReactDOM.render( <GrupoFormRegistro />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaUsuarios() {\r\n\t\tReactDOM.render( <Usuarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, grupos, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de grupo</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tTem certeza que deseja remover o grupo selecionado?\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\t\r\n\t\t\t\t\t\t<Form className=\"float-end\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaRegistro(e)}>Registrar novo grupo</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de Grupos</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome</th>\r\n\t\t\t\t\t\t\t\t<th>Editar</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{grupos.map( ( grupo, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{grupo.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{grupo.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.editar( e, grupo.id )}>editar</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={(e) => this.removerSeConfirmado( e, grupo.id )}>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar grupos</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome:</Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nomeIni} name=\"nomeIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\" className=\"mb-3\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaUsuarios( e ) }>Ir para usuários</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Recursos from './recursos';\r\n\r\nexport default class RecursoForm extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\ttitulo : \"\"\r\n\t\t};\r\n\t\t\r\n\t\tthis.nome = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tif ( this.props.op === 'editar' ) {\r\n\t\t\tthis.setState( { titulo : \"Alteração de usuário\" } );\r\n\t\t\tthis.carregar();\t\t\t\t\r\n\t\t} else {\r\n\t\t\tthis.setState( { titulo : \"Registro de usuário\" } );\r\n\t\t}\t\t\t\r\n\t}\r\n\t\r\n\tcarregar() {\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/recurso/get/'+this.props.recursoId, {\r\n\t\t\tmethod : 'GET',\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.nome.current.value = dados.nome;\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( {} );\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\r\n\t}\r\n\t\r\n\tsalvar( e ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\t\t\t\r\n\t\tlet url, method;\r\n\t\tif ( this.props.op === 'editar' ) {\r\n\t\t\turl = \"/api/recurso/atualiza/\"+this.props.recursoId;\r\n\t\t\tmethod = 'PUT';\r\n\t\t} else {\r\n\t\t\turl = \"/api/recurso/registra\";\r\n\t\t\tmethod = 'POST';\r\n\t\t}\r\n\t\t\t\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( url, {\r\n\t\t\tmethod : method,\t\t\t\r\n\t\t\theaders : {\r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\t\"nome\" : this.nome.current.value\r\n\t\t\t} )\t\t\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.setState( { infoMsg : \"Recurso salvo com sucesso.\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\t\r\n\t}\r\n\t\t\t\r\n\tparaTelaRecursos() {\r\n\t\tReactDOM.render( <Recursos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, titulo } = this.state;\r\n\t\t\t\t\r\n\t\treturn(\r\n\t\t\t<Container>\r\n\t\t\t\t<h4 className=\"text-center\">{titulo}</h4>\r\n\t\t\t\t<br />\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card className=\"p-3\">\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={(e) => this.salvar( e ) }>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Dados gerais</h4>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nome} name=\"nome\" />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Salvar</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</Card>\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaRecursos( e ) }>Ir para recursos</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\r\n\t\t\t</Container>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Usuarios from './usuarios';\r\nimport RecursoForm from './recurso-form';\r\n\r\nexport default class Recursos extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\trecursos : [],\r\n\t\t\t\r\n\t\t\tremocaoModalVisivel : false,\r\n\t\t\tremocaoModalOkFunc : () => {},\r\n\t\t\tremocaoModalCancelaFunc : () => {} \r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.nomeIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.nomeIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\t\t\r\n\t\tfetch( \"/api/recurso/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\t\"nomeIni\" : this.nomeIni.current.value,\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { recursos : dados } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum recurso registrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\tremoverSeConfirmado( e, recursoId ) {\r\n\t\tthis.setState( { \r\n\t\t\tremocaoModalVisivel : true, \r\n\t\t\tremocaoModalOkFunc : () => { \r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t\tthis.remover( e, recursoId );\r\n\t\t\t},\r\n\t\t\tremocaoModalCancelaFunc : () => {\r\n\t\t\t\tthis.setState( { remocaoModalVisivel : false } );\r\n\t\t\t} \r\n\t\t} )\r\n\t}\r\n\t\r\n\tremover( e, recursoId ) {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/recurso/deleta/\"+recursoId, {\r\n\t\t\tmethod : \"DELETE\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t}\r\n\t\t} ).then( (resposta) => {\t\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tthis.filtrar( null, false );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tthis.setState( { infoMsg : \"Recurso removido com êxito!\" } );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t\t\t\t\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\r\n\teditar( e, recursoId ) {\r\n\t\tReactDOM.render( <RecursoForm op=\"editar\" recursoId={recursoId} />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaRecursoForm( e ) {\r\n\t\tReactDOM.render( <RecursoForm op=\"cadastrar\" />, sistema.paginaElemento() );\t\t\r\n\t}\r\n\t\r\n\tparaTelaUsuarios( e ) {\r\n\t\tReactDOM.render( <Usuarios />, sistema.paginaElemento() );\r\n\t}\t\t\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, recursos, remocaoModalVisivel, remocaoModalCancelaFunc, remocaoModalOkFunc } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Modal show={remocaoModalVisivel}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Remoção de recurso</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t\tTem certeza que deseja remover o recurso selecionado? <br /><br />\r\n\t\t\t\t\t\tSe optar por remover o recurso, serão removidas também as permissões do recurso concedidas a grupos de usuários!\r\n\t\t\t\t\t</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => remocaoModalCancelaFunc() }>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"danger\" className=\"mx-2\" onClick={(e) => remocaoModalOkFunc() }>Remover</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\r\n\t\t\t\t<Form>\r\n\t\t\t\t\t<Button variant=\"primary\" className=\"float-end\" onClick={ (e) => this.paraRecursoForm( e ) } >Registrar recurso</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<h3 className=\"text-center\">Lista de recursos</h3>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>Nome</th>\r\n\t\t\t\t\t\t\t\t<th>Editar</th>\r\n\t\t\t\t\t\t\t\t<th>Remover</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{recursos.map( ( recurso, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{recurso.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{recurso.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={ (e) => this.editar( e, recurso.id ) }>editar</button></td>\r\n\t\t\t\t\t\t\t\t\t\t<td><button className=\"btn btn-link p-0\" onClick={ (e) => this.removerSeConfirmado( e, recurso.id ) }>remover</button></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar recursos</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome do recurso: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.nomeIni} name=\"nomeIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<br />\r\n\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-link p-0\" onClick={ (e) => this.paraTelaUsuarios( e ) }>Ir para usuários</button>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\r\n\r\n\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nimport Grupos from './grupos';\r\nimport Recursos from './recursos';\r\n\r\nexport default class Usuarios extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\tusuarios : []\r\n\t\t};\t\t\t\r\n\t\t\r\n\t\tthis.usernameIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.usernameIni.current.value = \"*\";\r\n\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t}\r\n\t\r\n\tfiltrar( e ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\t\t\r\n\t\tfetch( \"/api/usuario/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\t\"usernameIni\" : this.usernameIni.current.value,\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { usuarios : dados } );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhum usuario registrado!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\t\t\r\n\tparaTelaGrupos( e ) {\r\n\t\tReactDOM.render( <Grupos />, sistema.paginaElemento() );\r\n\t}\t\t\r\n\t\r\n\tparaTelaRecursos( e ) {\r\n\t\tReactDOM.render( <Recursos />, sistema.paginaElemento() );\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, usuarios } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\t\r\n\t\t\t\t\t\t<Form className=\"float-start\">\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={ (e) => this.paraTelaGrupos( e ) }>Grupos de usuário</Button>\r\n\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"mx-2\" onClick={ (e) => this.paraTelaRecursos( e ) }>Recursos</Button>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<h4 className=\"text-center\">Lista de Usuarios</h4>\r\n\t\t\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Username</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Grupo</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{usuarios.map( ( usuario, index ) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{usuario.id}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{usuario.username}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{usuario.grupo.nome}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar usuarios</h4>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t<Form.Label>Nome de usuário: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.usernameIni} name=\"usernameIni\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class ContasPagar extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\t\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\t\r\n\t\t\tcontasObj : { contas : [] }\r\n\t\t};\t\t\t\t\t\t\r\n\t\t\r\n\t\tthis.incluirFornecedor = React.createRef();\r\n\t\tthis.fornecedorNomeIni = React.createRef();\r\n\t\tthis.incluirContasPagas = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t\t\r\n\t\tthis.setState( { dataFim : new Date().getTime() + 365 * 24 * 60 * 60 * 1000 } );\r\n\t}\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/conta/pagar/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\t\"incluirPagas\" : this.incluirContasPagas.current.checked,\r\n\t\t\t\t\"incluirFornecedor\" : this.incluirFornecedor.current.checked,\r\n\t\t\t\t\"fornecedorNomeIni\" : this.fornecedorNomeIni.current.value,\r\n\t\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim )\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tthis.setState( { contasObj : dados } );\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma conta encontrada pelos critérios de filtro informados!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\r\n\talterarSituacao( e, index, parcelaId ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tlet parcelaPaga = this.state.contasObj.contas[ index ].parcela.paga;\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/conta/pagar/altera/situacao/'+parcelaId, {\r\n\t\t\tmethod : 'PATCH',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\tpaga : ( parcelaPaga === 'true' ? false : true )\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.filtrar( e, false );\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\r\n\t}\r\n\t\r\n\tchangeDataIni( date ) {\r\n\t\tthis.setState( { dataIni : date } );\t\t\r\n\t}\r\n\t\r\n\tchangeDataFim( date ) {\r\n\t\tthis.setState( { dataFim : date } );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, contasObj, dataIni, dataFim } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de contas a pagar</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Data pagamento</th>\r\n\t\t\t\t\t\t\t\t<th>Data vencimento</th>\r\n\t\t\t\t\t\t\t\t<th>Fornecedor</th>\r\n\t\t\t\t\t\t\t\t<th>Alterar status</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{contasObj.contas.map( ( conta, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ conta.parcela.dataPagamento }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ conta.parcela.dataVencimento }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ conta.fornecedorEmpresa }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"primary\" onClick={(e) => this.alterarSituacao( e, index, conta.parcela.id )}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{ conta.parcela.paga === 'true' ? 'Desfazer pagamento' : 'Pagar' }\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Form.Group style={{fontSize: '1.6em'}}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Label>Débito: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( contasObj.debitoTotalPeriodo ) }</span></Form.Label>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Label>Débito total: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( contasObj.debitoTotalCompleto ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar contas a pagar</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataIni( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"pb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataFim( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirContasPagas} /> &nbsp; Incluir contas pagas\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Fornecedor: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.fornecedorNomeIni} name=\"fornecedorNomeIni\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirFornecedor} />Incluir fornecedor no filtro\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport {Container, Row, Col, Card, Form, Table, Button} from 'react-bootstrap';\r\nimport DatePicker from 'react-datepicker';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class ContasReceber extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\t\r\n\t\tthis.state = { \r\n\t\t\terroMsg : null, \r\n\t\t\tinfoMsg : null,\r\n\t\t\t\r\n\t\t\tdataIni : new Date(),\r\n\t\t\tdataFim : new Date(),\r\n\t\t\t\r\n\t\t\tcontasObj : { vendas : [] },\r\n\t\t\tdebitoPeriodo : 0,\r\n\t\t\tdebitoTotal : 0\r\n\t\t};\t\t\t\t\t\t\r\n\t\t\r\n\t\tthis.valorRecebido = React.createRef();\r\n\t\tthis.incluirContasPagas = React.createRef();\r\n\t\tthis.incluirCliente = React.createRef();\r\n\t\tthis.clienteNomeIni = React.createRef();\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\t\t\r\n\t\tthis.filtrar( null, false );\t\t\r\n\t\t\r\n\t\tthis.setState( { dataFim : new Date().getTime() + 365 * 24 * 60 * 60 * 1000 } );\r\n\t}\r\n\t\r\n\t\r\n\tfiltrar( e, filtrarBTClicado ) {\r\n\t\tif ( e != null )\r\n\t\t\te.preventDefault();\r\n\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( \"/api/conta/receber/filtra\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t\t\"Authorization\" : \"Bearer \"+sistema.token\r\n\t\t\t},\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\t\"incluirPagas\" : this.incluirContasPagas.current.checked,\r\n\t\t\t\t\"incluirCliente\" : this.incluirCliente.current.checked,\r\n\t\t\t\t\"clienteNomeIni\" : this.clienteNomeIni.current.value,\r\n\t\t\t\t\"dataIni\" : sistema.formataData( this.state.dataIni ),\r\n\t\t\t\t\"dataFim\" : sistema.formataData( this.state.dataFim )\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tlet contasObj = dados;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor( let i = 0; i < contasObj.vendas.length; i++ ) {\r\n\t\t\t\t\t\tlet subtotal = sistema.paraFloat( contasObj.vendas[ i ].subtotal );\r\n\t\t\t\t\t\tlet desconto = sistema.paraFloat( contasObj.vendas[ i ].desconto );\r\n\t\t\t\t\t\tcontasObj.vendas[ i ].total = subtotal * ( 1.0 - desconto );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tif ( dados.length === 0 && filtrarBTClicado === true )\r\n\t\t\t\t\t\tthis.setState( { infoMsg : \"Nenhuma conta encontrada pelos critérios de filtro informados!\" } );\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setState( { contasObj : contasObj } );\r\n\t\t\t\t} );\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\r\n\t}\r\n\t\t\t\r\n\tefetuarRecebimento( e, index, clienteId ) {\r\n\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null, infoMsg : null } );\r\n\t\t\r\n\t\tsistema.showLoadingSpinner();\r\n\t\t\r\n\t\tfetch( '/api/conta/receber/efetuarecebimento/'+clienteId, {\r\n\t\t\tmethod : 'POST',\r\n\t\t\theaders : {\r\n\t\t\t\t'Content-Type' : 'application/json; charset=UTF-8',\r\n\t\t\t\t'Authorization' : 'Bearer '+sistema.token\r\n\t\t\t},\r\n\t\t\tbody : JSON.stringify( {\r\n\t\t\t\tvalorRecebido : this.valorRecebido.current.value\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\t\t\t\r\n\t\t\tif ( resposta.status === 200 ) {\r\n\t\t\t\tthis.filtrar( e, false );\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\r\n\t\t\tsistema.hideLoadingSpinner();\r\n\t\t} );\t\t\t\r\n\t}\r\n\t\r\n\tchangeDataIni( date ) {\r\n\t\tthis.setState( { dataIni : date } );\t\t\r\n\t}\r\n\t\r\n\tchangeDataFim( date ) {\r\n\t\tthis.setState( { dataFim : date } );\r\n\t}\r\n\t\t\t\t\r\n\trender() {\r\n\t\tconst { erroMsg, infoMsg, contasObj, dataIni, dataFim } = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Container>\t\t\t\t\t\r\n\t\t\t\t<h4 className=\"text-center\">Lista de contas a pagar</h4>\r\n\t\t\t\t<div className=\"tbl-pnl\">\r\n\t\t\t\t\t<Table striped bordered hover>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Data de venda</th>\r\n\t\t\t\t\t\t\t\t<th>Cliente</th>\r\n\t\t\t\t\t\t\t\t<th>Total</th>\r\n\t\t\t\t\t\t\t\t<th>Débito</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{contasObj.vendas.map( ( venda, index ) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ venda.dataVenda }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ venda.cliente.pessoa.nome }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.total ) }</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{ sistema.formataReal( venda.debito ) }</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} ) }\t\r\n\t\t\t\t\t\t</tbody>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t</div>\r\n\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t<Form.Group style={{fontSize: '1.6em'}}>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Label>Valor a receber: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( contasObj.totalPeriodo ) }</span></Form.Label>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Form.Label>Valor a receber total: &nbsp;<span className=\"text-danger\">{ sistema.formataReal( contasObj.totalCompleto ) }</span></Form.Label>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t</Card>\r\n\t\t\t\t\t\r\n\t\t\t\t<br />\r\n\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t<MensagemPainel cor=\"primary\" msg={infoMsg} />\r\n\t\t\t\t\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className=\"col-md-8\">\r\n\t\t\t\t\t\t<Card className=\"p-3\">\r\n\t\t\t\t\t\t\t<h4>Filtrar contas receber</h4>\r\n\t\t\t\t\t\t\t<Form onSubmit={ (e) => this.filtrar( e, true ) }>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de início: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataIni} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataIni( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataIni\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Data de fim: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker selected={dataFim} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ (date) => this.changeDataFim( date ) } \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"pt\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataFim\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminDate={dataIni}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdateFormat=\"dd/MM/yyyy\" className=\"form-control\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label>&nbsp;</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirContasPagas} /> &nbsp; Incluir contas pagas\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-2\">\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Cliente: </Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.clienteNomeIni} name=\"clienteNomeIni\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input className=\"my-2\" type=\"checkbox\" ref={this.incluirCliente} />Incluir cliente no filtro\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">Filtrar</Button>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Form>\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\t\t\t\t\t\t\r\n\t\t\t</Container>\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\r\n\r\nimport Login from './login';\r\nimport SedeDetalhes from './telas/sede/sede-detalhes';\r\nimport Funcionarios from './telas/funcionarios/funcionarios';\r\nimport Fornecedores from './telas/fornecedores/fornecedores';\r\nimport Produtos from './telas/produtos/produtos';\r\nimport Categorias from './telas/categorias/categorias';\r\nimport Compras from './telas/compras/compras';\r\nimport Clientes from './telas/clientes/clientes';\r\nimport Vendas from './telas/vendas/vendas';\r\nimport Caixa from './telas/caixa/caixa';\r\nimport CaixaFluxo from './telas/caixa/caixa-fluxo';\r\nimport Usuarios from './telas/usuarios/usuarios';\r\nimport ContasPagar from './telas/contas/contas-pagar';\r\nimport ContasReceber from './telas/contas/contas-receber';\r\n\r\nimport sistema from './logica/sistema.js';\r\n\r\nexport default class NavegBar extends React.Component {\r\n\t\t\r\n\tmostraEscondeMenu( elementoId ) {\r\n\t\tsistema.showHide( elementoId );\r\n\t\tthis.setState( this.state );\r\n\t}\r\n\t\r\n\tparaTelaLogin() {\r\n\t\tReactDOM.render( <Login />, sistema.rootElemento() );\r\n\t}\r\n\t\r\n\tparaTelaSedeDetalhes() {\r\n\t\tReactDOM.render( <SedeDetalhes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaFuncionarios() {\r\n\t\tReactDOM.render( <Funcionarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaFornecedores() {\r\n\t\tReactDOM.render( <Fornecedores />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaProdutos() {\r\n\t\tReactDOM.render( <Produtos />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaCategorias() {\r\n\t\tReactDOM.render( <Categorias />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaCompras() {\r\n\t\tReactDOM.render( <Compras />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaClientes() {\r\n\t\tReactDOM.render( <Clientes />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaVendas() {\r\n\t\tReactDOM.render( <Vendas />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaCaixa() {\r\n\t\tReactDOM.render( <Caixa />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaFluxoCaixa() {\r\n\t\tReactDOM.render( <CaixaFluxo />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaContasPagar() {\r\n\t\tReactDOM.render( <ContasPagar />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaContasReceber() {\r\n\t\tReactDOM.render( <ContasReceber />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\tparaTelaUsuarios() {\r\n\t\tReactDOM.render( <Usuarios />, sistema.paginaElemento() );\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\">\r\n\t\t\t\t<Navbar.Brand className=\"mx-3\">Sistema ERP</Navbar.Brand>\r\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar.nav\">\r\n\t\t\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'CAIXA' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaCaixa() }>Caixa</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<NavDropdown title=\"Financeiro\">\r\n\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={ () => this.paraTelaFluxoCaixa() }>Fluxo de Caixa</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t{ (  sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={ () => this.paraTelaContasPagar() }>Contas a pagar</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t\t{ (  sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={ () => this.paraTelaContasReceber() }>Contas a receber</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t\t</NavDropdown>\t\t\t\t\t\t\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaSedeDetalhes() }>Sede</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome !== 'ADMIN' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaVendas() }>Vendas</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaCompras() }>Compras</Nav.Link>\r\n\t\t\t\t\t\t) }\t\t\t\t\t\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome !== 'ADMIN' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaProdutos() }>Produtos</Nav.Link>\r\n\t\t\t\t\t\t) }\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaFuncionarios() }>Funcionarios</Nav.Link>\t\t\t\t\t\t\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaClientes() }>Clientes</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'SUPERVISOR' || sistema.usuario.grupo.nome === 'GERENTE' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaFornecedores() }>Fornecedores</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t{ ( sistema.usuario.grupo.nome === 'ADMIN' ) && (\r\n\t\t\t\t\t\t\t<Nav.Link onClick={ () => this.paraTelaUsuarios() }>Usuarios</Nav.Link>\r\n\t\t\t\t\t\t) }\r\n\t\t\t\t\t\t<Nav.Link className=\"float-end\" onClick={ () => this.paraTelaLogin() }>Sair</Nav.Link>\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t</Navbar.Collapse>\r\n\t\t\t</Navbar>\r\n\t\t);\r\n\t}\r\n\t\r\n}","import React from 'react';\r\n\r\nimport MensagemPainel from './../../componente/mensagem-painel';\r\nimport sistema from './../../logica/sistema';\r\n\r\nexport default class Inicial extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { erroMsg : null };\r\n\t}\r\n\t\t\r\n\trender() {\r\n\t\tconst { erroMsg } = this.state;\r\n\t\t\t\t\t\t\r\n\t\treturn (\t\t\t\r\n\t\t\t<div>\r\n\t\t\t\t<h4>Bem vindo</h4>\r\n\t\t\t\t\r\n\t\t\t\t<p>Olá {sistema.usuario.username}, seja bem vindo</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\t\t\t\t\t\r\n\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Container, Row, Col, Card, Form, Button } from 'react-bootstrap';\r\n\r\nimport sistema from './logica/sistema';\r\nimport MensagemPainel from './componente/mensagem-painel';\r\n\r\nimport Layout from './layout.js';\r\nimport NavegBar from './naveg-bar.js';\r\nimport Inicial from './telas/inicial/inicial.js';\r\n\r\nexport default class Login extends React.Component {\r\n\r\n\tconstructor( props ) {\r\n\t\tsuper( props );\r\n\t\tthis.state = { erroMsg : null };\r\n\t\t\r\n\t\tthis.username = React.createRef();\r\n\t\tthis.password = React.createRef();\r\n\t}\r\n\t\t\r\n\tentrar(e) {\t\t\t\r\n\t\te.preventDefault();\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tthis.setState( { erroMsg : null } );\r\n\r\n\t\tfetch( \"/api/login/entrar\", {\r\n\t\t\tmethod : \"POST\",\t\t\t\r\n\t\t\tcredentials : \"include\",\r\n\t\t\theaders : { \r\n\t\t\t\t\"Content-Type\" : \"application/json; charset=UTF-8\",\r\n\t\t\t},\t\t\t\t\r\n\t\t\tbody : JSON.stringify( { \r\n\t\t\t\tusername : this.username.current.value,\r\n\t\t\t\tpassword : this.password.current.value\r\n\t\t\t} )\r\n\t\t} ).then( (resposta) => {\r\n\t\t\tif ( resposta.status === 200 ) {\t\t\t\t\t\t\r\n\t\t\t\tresposta.json().then( (dados) => {\r\n\t\t\t\t\tsistema.token = dados.token;\r\n\t\t\t\t\tsistema.usuario = dados.usuario;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\tReactDOM.render( <Layout />, sistema.rootElemento() );\t\t\t\t\r\n\t\t\t\t\tReactDOM.render( <NavegBar />, sistema.menuNavegElemento() );\t\t\t\t\r\n\t\t\t\t\tReactDOM.render( <Inicial />, sistema.paginaElemento() );\t\t\t\t\t\t\t\t\r\n\t\t\t\t} );\r\n\t\t\t} else {\r\n\t\t\t\tsistema.trataRespostaNaoOk( resposta, this );\r\n\t\t\t}\t\t\t \r\n\t\t} );\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\tconst { erroMsg } = this.state;\r\n\t\t\t\t\t\t\t\t\r\n\t\treturn (\r\n\t\t\t<div>\t\t\t\t\r\n\t\t\t\t<h1 className=\"text-center bg-dark text-white p-4\">Sistema ERP</h1>\t\t\t\t\t\t\r\n\t\t\t\t<Container className=\"my-5\">\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col></Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Card body>\r\n\t\t\t\t\t\t\t\t<h4 className=\"card-title\">Tela de login</h4>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Form onSubmit={(e) => this.entrar( e )}>\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Nome de usuário</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"text\" ref={this.username} id=\"username\" name=\"username\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Label>Senha</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control type=\"password\" ref={this.password} id=\"password\" name=\"password\" />\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">Entrar</Button>\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<Form.Group className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<MensagemPainel cor=\"danger\" msg={erroMsg} />\r\n\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t</Form>\t\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col></Col>\r\n\t\t\t\t\t</Row>\t\t\t\r\n\t\t\t\t</Container>\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\nimport Login from './js/login.js';\n\nclass App extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Login />\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport pt from \"date-fns/locale/pt\";\nimport { registerLocale } from 'react-datepicker';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport 'react-tabs/style/react-tabs.css';\n\nimport './css/estilo.css';\n\nregisterLocale( 'pt', pt );\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}